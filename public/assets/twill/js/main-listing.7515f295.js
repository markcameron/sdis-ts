(function(){"use strict";var t={9080:function(t,e,r){var n=r(538),o=r(3511),i=r(4181),a=r(3145),l=r(2357),s=(r(8413),r(4670)),u=r(3242),c=r(6808),d=r(629),f=r(7536),b=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"sticky",rawName:"v-sticky"}],staticClass:"datatable",attrs:{"data-sticky-id":"thead","data-sticky-offset":"0"}},[e("div",{staticClass:"datatable__sticky",attrs:{"data-sticky-top":"thead"}},[e("div",{staticClass:"datatable__stickyHead",attrs:{"data-sticky-target":"thead"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"datatable__stickyInner"},[e("div",{staticClass:"datatable__setup"},[t.hideableColumns.length?e("a17-dropdown",{ref:"setupDropdown",staticClass:"datatable__setupDropdown",attrs:{position:"bottom-right",title:t.$trans("listing.columns.show"),clickable:!0,offset:-10}},[e("button",{staticClass:"datatable__setupButton",on:{click:function(e){return t.$refs.setupDropdown.toggle()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"preferences"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("a17-checkboxgroup",{attrs:{name:"visibleColumns",options:t.checkboxesColumns,selected:t.visibleColumnsNames,min:2},on:{change:t.updateActiveColumns}})],1)]):t._e()],1),e("div",{staticClass:"datatable__stickyTable"},[e("a17-table",{attrs:{columnsWidth:t.columnsWidth,xScroll:t.xScroll},on:{scroll:t.updateScroll}},[e("thead",[e("a17-tablehead",{attrs:{columns:t.visibleColumns},on:{sortColumn:t.updateSort}})],1)])],1)])])])]),e("div",{staticClass:"container"},[e("div",{staticClass:"datatable__table",class:t.isEmptyDatable},[e("a17-table",{attrs:{xScroll:t.xScroll},on:{scroll:t.updateScroll}},[e("thead",[e("a17-tablehead",{ref:"thead",attrs:{columns:t.visibleColumns}})],1),t.draggable?[e("draggable",{staticClass:"datatable__drag",attrs:{tag:"tbody",options:t.dragOptions},model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}},[t._l(t.rows,(function(r,n){return[e("a17-tablerow",{key:r.id,attrs:{row:r,index:n,columns:t.visibleColumns}})]}))],2)]:e("tbody",[t._l(t.rows,(function(r,n){return[e("a17-tablerow",{key:r.id,attrs:{row:r,index:n,columns:t.visibleColumns}})]}))],2)],2),t.rows.length<=0?[e("div",{staticClass:"datatable__empty"},[e("h4",[t._v(t._s(t.emptyMessage))])])]:t._e(),t.maxPage>1||t.initialMaxPage>t.maxPage&&!t.isEmpty?e("a17-paginate",{attrs:{max:t.maxPage,value:t.page,offset:t.offset,availableOffsets:[t.initialOffset,3*t.initialOffset,6*t.initialOffset]},on:{changePage:t.updatePage,changeOffset:t.updateOffset}}):t._e()],2)]),t.loading?e("a17-spinner",[t._v("Loading…")]):t._e()],1)},p=[],m=r(3279),h=r.n(m),y=r(2719),g=r.n(y),v=r(1124);r(6193),Boolean,r(361),r(5445),r(2544),r(5602);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e=S(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S(t){var e=D(t,"string");return"symbol"===_(e)?e:String(e)}function D(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var E,A={props:{nested:{type:Boolean,default:!1},bulkeditable:{type:Boolean,default:!0},emptyMessage:{type:String,default:""}},computed:P(P({rows:{get:function(){return this.$store.state.datatable.data},set:function(t){var e=this.rows.length!==t.length;this.$store.commit(i.yY.UPDATE_DATATABLE_DATA,t),this.saveNewTree(e)}},isEmpty:function(){return this.rows.length<=0},isEmptyDatable:function(){return{"datatable__table--empty":this.isEmpty}}},(0,d.rn)({columns:function(t){return t.datatable.columns}})),(0,d.Se)(["visibleColumns","hideableColumns","visibleColumnsNames"])),methods:{saveNewTree:function(t){var e=this,r=!!t||this.nested,n=r?a.ZP.SET_DATATABLE_NESTED:a.ZP.SET_DATATABLE,o=function(){e.$store.commit(i.yY.UPDATE_DATATABLE_TRACKER,0),e.$store.dispatch(n)};t?(this.$store.commit(i.yY.UPDATE_DATATABLE_TRACKER,1),this.updateTracker>=2&&o()):o()}}},T=r(7119),k=r(4040),j=r(4474),$=r(6258),C=r(7106),L=r(3782),Z=r(4738),U=r(8924),x=r(6651),I=r(982);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function B(t,e,r){return e=M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t){var e=F(t,"string");return"symbol"===R(e)?e:String(e)}function F(t,e){if("object"!==R(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var N=["draggable","bulk","languages","featured","published","thumbnail","publish_start_date","nested"],Y="a17-table-cell-",W=T.Z,G=k.Z,K=j.Z,V=C.Z,z=$.Z,q=Z.Z,H=x.Z,X=L.Z,J=U.Z,Q=I.Z,tt=(E={},B(E,Y+"actions",W),B(E,Y+"bulk",G),B(E,Y+"publish_start_date",K),B(E,Y+"featured",V),B(E,Y+"draggable",z),B(E,Y+"generic",X),B(E,Y+"languages",q),B(E,Y+"published",H),B(E,Y+"nested",J),B(E,Y+"thumbnail",Q),E),et=r(484);function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach((function(e){it(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function it(t,e,r){return e=at(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function at(t){var e=lt(t,"string");return"symbol"===rt(e)?e:String(e)}function lt(t,e){if("object"!==rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var st={props:{index:{type:Number,default:0},row:{type:Object,default:function(){return{}}},columns:{type:Array,default:function(){return[]}}},computed:ot({editInModal:function(){return!!this.row.hasOwnProperty("editInModal")&&this.row.editInModal},editUrl:function(){return this.row.hasOwnProperty("edit")?this.row.edit:"#"},updateUrl:function(){return this.row.updateUrl?this.row.updateUrl:"#"}},(0,d.rn)({bulkIds:function(t){return t.datatable.bulk}})),methods:{currentComponent:function(t){var e;return"object"===rt(t)?Y+(null!==(e=t.specificType)&&void 0!==e?e:t.name.toLowerCase()):Y+t},currentComponentProps:function(t){var e={col:t||{},row:this.row,editUrl:this.editUrl,editInModal:Boolean(this.editInModal)};if(!t)return e;switch(t.name){case"bulk":e.value=this.row.id,e.initialValue=this.bulkIds;break;case"languages":e.languages=this.row.hasOwnProperty("languages")?this.row.languages:[],e.editUrl=this.editUrl;break;case"publish_start_date":e.startDate="",e.endDate="";break;default:break}return e},editInPlace:function(t){var e=this;if(t.lang){var r=t.lang;this.$store.commit(i.ad.UPDATE_LANG,r.value)}if(this.editInModal){var n=this.editInModal;this.$store.commit(i.DF.UPDATE_MODAL_MODE,"update"),this.$store.commit(i.DF.UPDATE_MODAL_ACTION,this.updateUrl),this.$store.commit(i.Yc.UPDATE_FORM_LOADING,!0),this.$store.dispatch(a.ZP.REPLACE_FORM,n).then((function(){e.$nextTick((function(){this.$root.$refs.editionModal&&this.$root.$refs.editionModal.open()}))}),(function(t){e.$store.commit(et.ZP.SET_NOTIF,{message:"Your content can not be edited, please retry",variant:"error"})}))}},cellClasses:function(t,e){var r;return r={},it(r,e+"--icon","featured"===t.name||"published"===t.name),it(r,e+"--bulk","bulk"===t.name),it(r,e+"--thumb","thumbnail"===t.name),it(r,e+"--draggable","draggable"===t.name),it(r,e+"--languages","languages"===t.name),it(r,e+"--nested","nested"===t.name),it(r,e+"--nested--parent","nested"===t.name&&0===this.nestedDepth),r},isSpecificColumn:function(t){var e;return N.includes(null!==(e=t.specificType)&&void 0!==e?e:t.name)},tableCellUpdate:function(t){switch(t.col){case"published":this.togglePublish(t.row);break;case"bulk":this.toggleBulk(t.row);break;case"featured":this.toggleFeatured(t.row);break}},toggleFeatured:function(t){t.hasOwnProperty("deleted")?this.$store.commit(et.ZP.SET_NOTIF,{message:"You can’t feature/unfeature a deleted item, please restore it first.",variant:"error"}):this.$store.dispatch(a.ZP.TOGGLE_FEATURE,t)},toggleBulk:function(t){this.$store.commit(i.yY.UPDATE_DATATABLE_BULK,t.id)},togglePublish:function(t){t.hasOwnProperty("deleted")?this.$store.commit(et.ZP.SET_NOTIF,{message:"You can’t publish/unpublish a deleted item, please restore it first.",variant:"error"}):this.$store.dispatch(a.ZP.TOGGLE_PUBLISH,t)},restoreRow:function(t){this.$store.dispatch(a.ZP.RESTORE_ROW,t)},destroyRow:function(t){var e=this;this.$root.$refs.warningDestroyRow?this.$root.$refs.warningDestroyRow.open((function(){e.$store.dispatch(a.ZP.DESTROY_ROW,t)})):this.$store.dispatch(a.ZP.DESTROY_ROW,t)},deleteRow:function(t){var e=this;this.$root.$refs.warningDeleteRow?this.$root.$refs.warningDeleteRow.open((function(){e.$store.dispatch(a.ZP.DELETE_ROW,t)})):this.$store.dispatch(a.ZP.DELETE_ROW,t)},duplicateRow:function(t){this.$store.dispatch(a.ZP.DUPLICATE_ROW,t)}}},ut=r(8382),ct=r(1633);function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach((function(e){pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pt(t,e,r){return e=mt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mt(t){var e=ht(t,"string");return"symbol"===dt(e)?e:String(e)}function ht(t,e){if("object"!==dt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var yt={filters:ct.Z,computed:bt({},(0,d.rn)({currentLocale:function(t){return t.language.active}})),methods:{formatPermalink:function(t){var e=this.$refs.permalink;if(e&&t){var r="";t.value&&"string"===typeof t.value?r=t.value:"string"===typeof t&&(r=t);var n=this.$options.filters.slugify(r),o={name:e.attributes?e.attributes.name:e.name,value:n};t.locale?o.locale=t.locale:o.locale=this.currentLocale.value,this.$store.commit(i.Yc.UPDATE_FORM_FIELD,o)}}}},gt=(r(2240),r(35),r(6830),r(8348),r(2954),r(9160),r(1017),{props:{nested:{type:Boolean,default:!1},maxDepth:{type:Number,default:1},depth:{type:Number,default:0},name:{type:String,default:"group1"},parentId:{type:Number,default:-1}},data:function(){return{currentElDepth:void 0}},computed:{updateTracker:function(){return this.$store.state.datatable.updateTracker},draggableGetComponentData:function(){return{props:{depth:this.depth}}}}}),vt=(r(9464),r(325),r(9996),r(4126)),_t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table__scroller",on:{scroll:t.updateScroll}},[e("table",{staticClass:"table",class:{"table--sized":t.columnsWidth.length}},[t.columnsWidth.length?e("colgroup",t._l(t.columnsWidth,(function(r,n){return e("col",{key:n,style:t.colWidths[n]})})),0):t._e(),t._t("default")],2)])},Ot=[],Pt={name:"A17Table",props:{xScroll:{type:Number,default:1},columnsWidth:{type:Array,default:function(){return[]}}},data:function(){return{currentScroll:this.xScroll}},computed:{colWidths:function(){return this.columnsWidth.map((function(t){return{width:t?t+"px":""}}))}},watch:{xScroll:function(t){this.currentScroll!==t&&(this.currentScroll=t,this.$el.scrollLeft=t)}},methods:{updateScroll:function(){var t=this.$el.scrollLeft;this.currentScroll!==t&&(this.currentScroll=t,this.$emit("scroll",t))}}},wt=Pt,St=r(1001),Dt=(0,St.Z)(wt,_t,Ot,!1,null,"87d7c0f6",null),Et=Dt.exports,At=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tablehead"},[t._l(t.columns,(function(r){return e("td",{key:r.name,staticClass:"tablehead__cell f--small",class:t.cellClasses(r),on:{click:function(e){return t.sortColumn(r)}}},[t.isDisplayedColumn(r)?e("span",[t._v(t._s(r.label)+" "),e("span",{staticClass:"tablehead__arrow"},[t._v("↓")])]):t._e(),"bulk"===r.name?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleBulkSelect()}}},[e("span",[e("a17-checkbox",{class:{"checkbox--minus":t.checkboxMinus},attrs:{name:"bulkAll",value:1,initialValue:t.bulkValue}})],1)]):t._e()])})),e("td",{staticClass:"tablehead__spacer"},[t._v(" ")])],2)},Tt=[];function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(r),!0).forEach((function(e){Ct(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ct(t,e,r){return e=Lt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lt(t){var e=Zt(t,"string");return"symbol"===kt(e)?e:String(e)}function Zt(t,e){if("object"!==kt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ut={name:"A17Tablehead",props:{sortable:{type:Boolean,default:!0},columns:{type:Array,default:function(){return[]}}},data:function(){return{currentSort:"name",currentDirection:"asc"}},computed:$t($t({bulkValue:function(){return this.bulkIds.length?1:0},checkboxMinus:function(){return this.bulkIds.length>0&&this.bulkIds.length!==this.dataIds.length}},(0,d.rn)({bulkIds:function(t){return t.datatable.bulk},sortKey:function(t){return t.datatable.sortKey},sortDir:function(t){return t.datatable.sortDir}})),(0,d.Se)(["dataIds"])),methods:{cellClasses:function(t){return["featured"===t.name||"published"===t.name?"tablehead__cell--icon":"","thumbnail"===t.name?"tablehead__cell--thumb":"","thumbnail"===t.name&&t.variation&&"rounded"===t.variation?"tablehead__cell--thumb-rounded":"","draggable"===t.name?"tablehead__cell--draggable":"","nested"===t.name?"tablehead__cell--nested":"","bulk"===t.name?"tablehead__cell--bulk":"",t.sortable&&this.sortable?"tablehead__cell--sortable":"",t.name===this.sortKey?"tablehead__cell--sorted":"",t.name===this.sortKey&&this.sortDir?"tablehead__cell--sorted".concat(this.sortDir):"",!0===t.shrink?"tablehead__cell--shrink":""]},isDisplayedColumn:function(t){return"draggable"!==t.name&&"featured"!==t.name&&"nested"!==t.name&&"bulk"!==t.name&&"published"!==t.name&&"thumbnail"!==t.name},sortColumn:function(t){t.sortable&&this.sortable&&this.$emit("sortColumn",t)},toggleBulkSelect:function(){var t=this.bulkIds.length?[]:this.dataIds;this.$store.commit(i.yY.REPLACE_DATATABLE_BULK,t)}}},xt=Ut,It=(0,St.Z)(xt,At,Tt,!1,null,"6b55db17",null),Rt=It.exports,Bt=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tablerow"},[t._l(t.columns,(function(r){return e("td",{key:r.name,staticClass:"tablecell",class:t.cellClasses(r,"tablecell"),style:t.nestedStyle(r)},[t.isSpecificColumn(r)?[e(t.currentComponent(r),t._b({tag:"component",attrs:{row:t.row},on:{update:t.tableCellUpdate,editInPlace:t.editInPlace}},"component",t.currentComponentProps(r),!1))]:e("a17-table-cell-generic",t._b({attrs:{row:t.row},on:{editInPlace:t.editInPlace,update:t.tableCellUpdate}},"a17-table-cell-generic",t.currentComponentProps(r),!1))],2)})),e("td",{staticClass:"tablecell tablecell--spacer"},[t._v(" ")]),e("td",{staticClass:"tablecell tablecell--sticky"},[t.row.edit?e("a17-table-cell-actions",t._b({on:{editInPlace:t.editInPlace,update:t.tableCellUpdate,restoreRow:t.restoreRow,destroyRow:t.destroyRow,deleteRow:t.deleteRow,duplicateRow:t.duplicateRow}},"a17-table-cell-actions",t.currentComponentProps(),!1)):t._e()],1)],2)},Mt=[];function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(r),!0).forEach((function(e){Wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wt(t,e,r){return e=Gt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gt(t){var e=Kt(t,"string");return"symbol"===Ft(e)?e:String(e)}function Kt(t,e){if("object"!==Ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Vt={name:"A17Tablerow",mixins:[st],components:Yt({},tt),props:{draggable:{type:Boolean,default:!1},nestedDepth:{type:Number,default:0},rowType:{type:String,default:""}},computed:{nestedOffset:function(){return this.columns.find((function(t){return"draggable"===t.name}))?10:0}},methods:{nestedStyle:function(t){return this.columns.find((function(t){return"nested"===t.name}))&&"draggable"===t.name?{"webkit-transform":"translateX(-"+80*this.nestedDepth+"px)",transform:"translateX(-"+80*this.nestedDepth+"px)"}:""}}},zt=Vt,qt=(0,St.Z)(zt,Bt,Mt,!1,null,"de97889a",null),Ht=qt.exports;function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(r),!0).forEach((function(e){te(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function te(t,e,r){return e=ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ee(t){var e=re(t,"string");return"symbol"===Xt(e)?e:String(e)}function re(t,e){if("object"!==Xt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ne={name:"A17Datatable",components:{"a17-table":Et,"a17-tablehead":Rt,"a17-tablerow":Ht,"a17-paginate":vt.Z,"a17-spinner":v.Z,draggable:g()},mixins:[A,ut.Z],data:function(){return{handle:".tablecell__handle",reorderable:!this.draggable,xScroll:0,columnsWidth:[]}},computed:Qt({checkboxesColumns:function(){var t=[];return this.hideableColumns.length&&this.hideableColumns.forEach((function(e){t.push({value:e.name,label:e.label})})),t}},(0,d.rn)({page:function(t){return t.datatable.page},offset:function(t){return t.datatable.offset},maxPage:function(t){return t.datatable.maxPage},initialOffset:function(t){return t.datatable.defaultOffset},initialMaxPage:function(t){return t.datatable.defaultMaxPage},loading:function(t){return t.datatable.loading}})),methods:{getColumnWidth:function(){for(var t=this,e=[],r=t.$refs.thead.$el.children,n=0;n<r.length;n++)e.push(r[n].offsetWidth);t.columnsWidth=e},updateScroll:function(t){this.xScroll=t},resize:h()((function(){this.getColumnWidth()}),100),initEvents:function(){var t=this;window.addEventListener("resize",(function(){return t.resize()})),t.resize()},disposeEvents:function(){var t=this;window.removeEventListener("resize",t.resize())},updateSort:function(t){t.sortable&&(this.reorderable&&(this.reorderable=!1,this.$store.commit(i.yY.REMOVE_DATATABLE_COLUMN,"draggable")),this.$store.commit(i.yY.UPDATE_DATATABLE_PAGE,1),this.$store.commit(i.yY.UPDATE_DATATABLE_SORT,t),this.$store.dispatch(a.ZP.GET_DATATABLE))},updateOffset:function(t){this.$store.commit(i.yY.UPDATE_DATATABLE_PAGE,1),this.$store.commit(i.yY.UPDATE_DATATABLE_OFFSET,t),this.$store.dispatch(a.ZP.GET_DATATABLE)},updatePage:function(t){t!==this.page&&(this.$store.commit(i.yY.UPDATE_DATATABLE_PAGE,t),this.$store.dispatch(a.ZP.GET_DATATABLE))},updateActiveColumns:function(t){this.$store.commit(i.yY.UPDATE_DATATABLE_VISIBLITY,t),this.$nextTick((function(){this.getColumnWidth()})),this.$store.dispatch(a.ZP.GET_DATATABLE)}},watch:{loading:function(){this.$nextTick((function(){this.getColumnWidth()}))}},beforeMount:function(){function t(t){return"bulk"===t.name}function e(t){return"draggable"===t.name}this.bulkeditable&&(this.columns.find(t)||this.$store.commit(i.yY.ADD_DATATABLE_COLUMN,{index:0,data:{name:"bulk",label:"",visible:!0,optional:!1,sortable:!1}})),this.draggable&&(this.columns.find(e)||this.$store.commit(i.yY.ADD_DATATABLE_COLUMN,{index:0,data:{name:"draggable",label:"",visible:!0,optional:!1,sortable:!1}}))},mounted:function(){this.initEvents()},beforeDestroy:function(){this.disposeEvents()}},oe=ne,ie=(0,St.Z)(oe,b,p,!1,null,"2393d05f",null),ae=ie.exports,le=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nested-datatable"},[e("div",{staticClass:"container"},[e("div",{staticClass:"datatable__table"},[e("a17-table",[e("thead",[e("a17-tablehead",{ref:"thead",attrs:{columns:t.visibleColumns}})],1)])],1)]),e("div",{staticClass:"container"},[e("div",{staticClass:"nested-datatable__table"},[e("a17-nested-list",{attrs:{nested:!0,maxDepth:t.maxDepth,draggable:t.draggable}})],1)])])},se=[],ue=function(){var t=this,e=t._self._c;return e("draggable",{staticClass:"nested__dropArea",class:t.nestedDropAreaClasses,attrs:{options:t.draggableOptions,tag:"ul","component-data":t.draggableGetComponentData},model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}},t._l(t.rows,(function(r,n){return e("li",{key:t.depth+"-"+r.id,staticClass:"nested-datatable__item",class:t.haveChildren(r.children)},[e("a17-nested-item",{attrs:{index:n,row:r,columns:t.columns}}),r.children&&t.depth<t.maxDepth?e("a17-nested-list",{attrs:{maxDepth:t.maxDepth,depth:t.depth+1,parentId:r.id,items:r.children,nested:!0,draggable:!0}}):t._e()],1)})),0)},ce=[],de=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nested-item"},[t._l(t.columns,(function(r){return e("span",{key:r.name,staticClass:"nested-item__cell",class:t.cellClasses(r,"nested-item__cell")},[t.isSpecificColumn(r)?[e(t.currentComponent(r),t._b({tag:"component",on:{update:t.tableCellUpdate,editInPlace:t.editInPlace}},"component",t.currentComponentProps(r),!1))]:e("a17-table-cell-generic",t._b({on:{editInPlace:t.editInPlace,update:t.tableCellUpdate}},"a17-table-cell-generic",t.currentComponentProps(r),!1))],2)})),e("span",{staticClass:"nested-item__cell nested-item__cell--actions"},[e("a17-table-cell-actions",t._b({on:{editInPlace:t.editInPlace,update:t.tableCellUpdate,restoreRow:t.restoreRow,deleteRow:t.deleteRow,destroyRow:t.destroyRow,duplicateRow:t.duplicateRow}},"a17-table-cell-actions",t.currentComponentProps(),!1))],1)],2)},fe=[];function be(t){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(t)}function pe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(r),!0).forEach((function(e){he(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function he(t,e,r){return e=ye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ye(t){var e=ge(t,"string");return"symbol"===be(e)?e:String(e)}function ge(t,e){if("object"!==be(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ve={name:"A17-nested-item",mixins:[st],components:me({},tt)},_e=ve,Oe=(0,St.Z)(_e,de,fe,!1,null,"b06d7158",null),Pe=Oe.exports;function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function Se(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function De(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(r),!0).forEach((function(e){Ee(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ee(t,e,r){return e=Ae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ae(t){var e=Te(t,"string");return"symbol"===we(e)?e:String(e)}function Te(t,e){if("object"!==we(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ke={name:"a17-nested-list",components:{"a17-nested-item":Pe,draggable:g()},mixins:[A,ut.Z,gt],props:{index:{type:Number,default:0},items:{type:Array,default:function(){return[]}}},data:function(){return{handle:".tablecell__handle"}},computed:{styleDepth:function(){return{marginLeft:0===this.depth?"0px":"60px"}},rows:{get:function(){return this.parentId>-1?this.items:this.$store.state.datatable.data},set:function(t){var e={parentId:this.parentId,val:t},r=this.rows.length!==e.val.length;this.parentId>-1?this.$store.commit(i.yY.UPDATE_DATATABLE_NESTED,e):this.$store.commit(i.yY.UPDATE_DATATABLE_DATA,t),this.saveNewTree(r)}},nestedDropAreaClasses:function(){return[0===this.rows.length?"nested__dropArea--empty":"",this.depth?"nested__dropArea--depth nested__dropArea--depth".concat(Math.min(10,this.depth)):""]},draggableOptions:function(){return De(De({},this.dragOptions),{},{fallbackTolerance:5,group:{name:this.name}})}},methods:{haveChildren:function(t){return{"nested-datatable__item--empty":0===(t||[]).length&&this.depth<this.maxDepth}}}},je=ke,$e=(0,St.Z)(je,ue,ce,!1,null,"8e2c20e6",null),Ce=$e.exports,Le={name:"A17NestedDatatable",mixins:[A,ut.Z,gt],data:function(){return{items:this.$store.state.datatable.data}},components:{"a17-table":Et,"a17-tablehead":Rt,"a17-nested-list":Ce},beforeMount:function(){function t(t){return"bulk"===t.name}function e(t){return"draggable"===t.name}this.bulkeditable&&(this.columns.find(t)||this.$store.commit(i.yY.ADD_DATATABLE_COLUMN,{index:0,data:{name:"bulk",label:"",visible:!0,optional:!1,sortable:!1}})),this.draggable&&(this.columns.find(e)||this.$store.commit(i.yY.ADD_DATATABLE_COLUMN,{index:0,data:{name:"draggable",label:"",visible:!0,optional:!1,sortable:!1}}))}},Ze=Le,Ue=(0,St.Z)(Ze,le,se,!1,null,"10df2f0e",null),xe=Ue.exports,Ie=r(7713),Re=function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"secondarynav secondarynav--desktop",attrs:{slot:"navigation"},slot:"navigation"},t._l(t.navFilters,(function(r,n){return e("li",{key:n,staticClass:"secondarynav__item",class:{"s--on":t.navActive===r.slug}},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterStatus(r.slug)}}},[e("span",{staticClass:"secondarynav__link"},[t._v(t._s(r.name))]),null!==r.number?e("span",{staticClass:"secondarynav__number"},[t._v("("+t._s(r.number)+")")]):t._e()])])})),0),t.navFilters.length&&t.selectedNav?e("div",{staticClass:"secondarynav secondarynav--mobile secondarynav--dropdown",attrs:{slot:"navigation"},slot:"navigation"},[e("a17-dropdown",{ref:"secondaryNavDropdown",attrs:{position:"bottom-left",width:"full",offset:0}},[e("a17-button",{staticClass:"secondarynav__button",attrs:{variant:"dropdown-transparent",size:"small"},on:{click:function(e){return t.$refs.secondaryNavDropdown.toggle()}}},[e("span",{staticClass:"secondarynav__link"},[t._v(t._s(t.selectedNav.name))]),e("span",{staticClass:"secondarynav__number"},[t._v("("+t._s(t.selectedNav.number)+")")])]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("ul",t._l(t.navFilters,(function(r,n){return e("li",{key:n,staticClass:"secondarynav__item"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.filterStatus(r.slug)}}},[e("span",{staticClass:"secondarynav__link"},[t._v(t._s(r.name))]),null!==r.number?e("span",{staticClass:"secondarynav__number"},[t._v("("+t._s(r.number)+")")]):t._e()])])})),0)])],1)],1):t._e()])},Be=[];function Me(t){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(t)}function Fe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ne(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(r),!0).forEach((function(e){Ye(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ye(t,e,r){return e=We(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function We(t){var e=Ge(t,"string");return"symbol"===Me(e)?e:String(e)}function Ge(t,e){if("object"!==Me(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ke={name:"A17TableFilters",data:function(){return{navFilters:this.$store.state.datatable.filtersNav}},computed:Ne({selectedNav:function(){var t=this,e=this.navFilters.filter((function(e){return e.slug===t.navActive}));return e.length>0?e[0]:null}},(0,d.rn)({navActive:function(t){return t.datatable.filter.status}})),methods:{filterStatus:function(t){this.navActive!==t&&(this.$store.commit(i.yY.UPDATE_DATATABLE_PAGE,1),this.$store.commit(i.yY.UPDATE_DATATABLE_FILTER_STATUS,t),this.$store.dispatch(a.ZP.GET_DATATABLE))}}},Ve=Ke,ze=(0,St.Z)(Ve,Re,Be,!1,null,null,null),qe=ze.exports,He=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bulkEditor"},[t.bulkIds.length?e("div",{staticClass:"bulkEditor__inner"},[e("div",{staticClass:"container"},[e("p",{staticClass:"bulkEditor__infos"},[t._v(" "+t._s(t.bulkIds.length)+" "+t._s(t.bulkIds.length>1?t.$trans("listing.bulk-selected-items"):t.$trans("listing.bulk-selected-item"))+" ")]),e("div",{staticClass:"bulkEditor__dropdown"},[e("a17-dropdown",{ref:"bulkActionsDown",attrs:{position:"bottom-left",width:"full",offset:0}},[e("a17-button",{attrs:{variant:"dropdown",size:"small"},on:{click:function(e){return t.$refs.bulkActionsDown.toggle()}}},[t._v(t._s(t.$trans("listing.bulk-actions")))]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("ul",[e("li",[t.bulkPublishable()?e("button",{on:{click:t.bulkPublish}},[t._v(t._s(t.$trans("listing.dropdown.publish")))]):t._e(),t.bulkPublishable(!0)?e("button",{on:{click:t.bulkUnpublish}},[t._v(t._s(t.$trans("listing.dropdown.unpublish")))]):t._e(),t.bulkFeaturable()?e("button",{on:{click:t.bulkFeature}},[t._v(t._s(t.$trans("listing.dropdown.feature")))]):t._e(),t.bulkFeaturable(!0)?e("button",{on:{click:t.bulkUnFeature}},[t._v(t._s(t.$trans("listing.dropdown.unfeature")))]):t._e(),t.bulkDeletable()?e("button",{on:{click:t.bulkDelete}},[t._v(t._s(t.$trans("listing.dropdown.delete")))]):t._e(),t.bulkRestorable()?e("button",{on:{click:t.bulkRestore}},[t._v(t._s(t.$trans("listing.dropdown.restore")))]):t._e(),t.bulkDestroyable()?e("button",{on:{click:t.bulkDestroy}},[t._v(t._s(t.$trans("listing.dropdown.destroy")))]):t._e()])])])],1)],1),e("a17-button",{attrs:{variant:"ghost"},on:{click:t.clearBulkSelect}},[t._v(t._s(t.$trans("listing.bulk-clear")))])],1)]):t._e()])},Xe=[];function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function Qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(r),!0).forEach((function(e){er(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function er(t,e,r){return e=rr(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rr(t){var e=nr(t,"string");return"symbol"===Je(e)?e:String(e)}function nr(t,e){if("object"!==Je(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var or={name:"A17BulkEditor",computed:tr({},(0,d.rn)({bulkIds:function(t){return t.datatable.bulk},bulkStatus:function(t){return t.datatable.data.filter((function(e){return t.datatable.bulk.includes(e.id)})).reduce((function(t,e){return{featured:t.featured&&(e.featured||!1),canFeature:t.canFeature&&e.hasOwnProperty("featured"),published:t.published&&(e.published||!1),canPublish:t.canPublish&&e.hasOwnProperty("published"),deleted:t.deleted&&(e.deleted||!1),canDelete:t.canDelete&&null!==e.delete,canDestroy:t.canDestroy&&e.hasOwnProperty("destroyable")}}),{featured:!0,canFeature:!0,published:!0,canPublish:!0,deleted:!0,canDelete:!0,canDestroy:!0})}})),methods:{bulkPublishable:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return""!==window["TWILL"].CMS_URLS.bulkPublish&&this.bulkStatus.canPublish&&(t?this.bulkStatus.published:!this.bulkStatus.published)&&!this.bulkStatus.deleted},bulkFeaturable:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return""!==window["TWILL"].CMS_URLS.bulkFeature&&this.bulkStatus.canFeature&&(t?this.bulkStatus.featured:!this.bulkStatus.featured)&&!this.bulkStatus.deleted},bulkDeletable:function(){return""!==window["TWILL"].CMS_URLS.bulkDelete&&!this.bulkStatus.deleted&&this.bulkStatus.canDelete},bulkRestorable:function(){return""!==window["TWILL"].CMS_URLS.bulkRestore&&this.bulkStatus.deleted},bulkDestroyable:function(){return""!==window["TWILL"].CMS_URLS.bulkDestroy&&this.bulkStatus.deleted&&this.bulkStatus.canDestroy},clearBulkSelect:function(){this.$store.commit(i.yY.REPLACE_DATATABLE_BULK,[])},bulkPublish:function(){this.$store.dispatch(a.ZP.BULK_PUBLISH,{toPublish:!0})},bulkUnpublish:function(){this.$store.dispatch(a.ZP.BULK_PUBLISH,{toPublish:!1})},bulkFeature:function(){this.$store.dispatch(a.ZP.BULK_FEATURE,{toFeature:!0})},bulkUnFeature:function(){this.$store.dispatch(a.ZP.BULK_FEATURE,{toFeature:!1})},bulkExport:function(){this.$store.dispatch(a.ZP.BULK_EXPORT)},bulkDelete:function(){var t=this;this.$root.$refs.warningDeleteRow?this.$root.$refs.warningDeleteRow.open((function(){t.$store.dispatch(a.ZP.BULK_DELETE)})):this.$store.dispatch(a.ZP.BULK_DELETE)},bulkRestore:function(){this.$store.dispatch(a.ZP.BULK_RESTORE)},bulkDestroy:function(){var t=this;this.$root.$refs.warningDestroyRow?this.$root.$refs.warningDestroyRow.open((function(){t.$store.dispatch(a.ZP.BULK_DESTROY)})):this.$store.dispatch(a.ZP.BULK_DESTROY)}}},ir=or,ar=(0,St.Z)(ir,He,Xe,!1,null,"7d9e9022",null),lr=ar.exports,sr=r(8193),ur=function(){var t=this,e=t._self._c;return e("a17-modal",{ref:"modal",staticClass:"modal--form",attrs:{title:t.modalTitle,forceClose:!0}},[e("form",{attrs:{action:t.actionForm},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t._t("default"),e("a17-modal-validation",{ref:"validation",attrs:{mode:t.mode,"is-disable":t.createMode,"active-publish-state":t.withPublicationToggle,"is-publish":t.published,"published-name":"published",textEnabled:t.publishedLabel,textDisabled:t.draftLabel}})],2)])},cr=[],dr=r(5512),fr=r(2674);function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}function pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(r),!0).forEach((function(e){hr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hr(t,e,r){return e=yr(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yr(t){var e=gr(t,"string");return"symbol"===br(e)?e:String(e)}function gr(t,e){if("object"!==br(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var vr,_r={name:"A17ModalCreate",mixins:[dr.Z],props:{formCreate:{type:String,default:"#"},publishedLabel:{type:String,default:function(){return this.$trans("main.published","Live")}},draftLabel:{type:String,default:function(){return this.$trans("main.draft","Draft")}}},components:{"a17-modal-validation":fr.Z},computed:mr(mr({createMode:function(){return"create"===this.mode},actionForm:function(){return this.createMode?this.formCreate:this.action},modalTitle:function(){return this.createMode?this.$trans("modal.create.title","Add new"):this.$trans("modal.update.title","Update")},published:function(){return!this.createMode&&!!this.fieldValueByName("published")},withPublicationToggle:function(){return void 0!==this.columns.find((function(t){return"published"===t.name}))}},(0,d.rn)({action:function(t){return t.modalEdition.action},mode:function(t){return t.modalEdition.mode},columns:function(t){return t.datatable.columns},language:function(t){return t.language.active}})),(0,d.Se)(["fieldValueByName"])),watch:{language:function(){this.$refs.validation&&this.$refs.validation.addListeners()}},methods:{open:function(){this.createMode&&this.$store.commit(i.ad.RESET_LANGUAGES),this.$refs.modal.open()},submit:function(){if(this.isSubmitPrevented)this.shouldRetrySubmitWhenAllowed=!0;else if(!this._isSubmitting){this._isSubmitting=!0;var t=this;this.$store.commit(i.Yc.UPDATE_FORM_LOADING,!0);var e=document.activeElement.name;this.$nextTick((function(){this.$store.dispatch(a.ZP.UPDATE_FORM_IN_LISTING,{endpoint:this.actionForm,method:"create"===this.mode?"post":"put",redirect:"create-another"!==e}).then((function(){t.$refs.modal&&t.$refs.modal.close(),t.$nextTick((function(){"create-another"===e&&t.$refs.modal&&t.$refs.modal.open(),"create"===this.mode&&this.$store.commit(i.yY.UPDATE_DATATABLE_PAGE,1),this.$store.commit(i.Yc.REMOVE_FORM_FIELD,"published"),this.$emit("reload")}))}),(function(e){t.$store.commit(i.qq.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"})})).finally((function(){t.$nextTick((function(){t._isSubmitting=!1}))}))}))}}}},Or=_r,Pr=(0,St.Z)(Or,ur,cr,!1,null,null,null),wr=Pr.exports,Sr=r(366),Dr=r(6625),Er=r(890);function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Tr(t,e,r){return e=kr(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kr(t){var e=jr(t,"string");return"symbol"===Ar(e)?e:String(e)}function jr(t,e){if("object"!==Ar(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var $r={action:"#",mode:"create"},Cr={},Lr=(vr={},Tr(vr,i.DF.UPDATE_MODAL_ACTION,(function(t,e){t.action=e})),Tr(vr,i.DF.UPDATE_MODAL_MODE,(function(t,e){t.mode=e})),vr),Zr={state:$r,getters:Cr,mutations:Lr},Ur=r(7224),xr=r(1607);function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Rr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Br(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rr(Object(r),!0).forEach((function(e){Mr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Mr(t,e,r){return e=Fr(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fr(t){var e=Nr(t,"string");return"symbol"===Ir(e)?e:String(e)}function Nr(t,e){if("object"!==Ir(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}n.ZP.use(u.Z),n.ZP.use(c.Z),o.Z.registerModule("datatable",Sr.Z),o.Z.registerModule("language",Dr.Z),o.Z.registerModule("form",Er.Z),o.Z.registerModule("modalEdition",Zr),o.Z.registerModule("attributes",Ur.Z),window["TWILL"].vm=window.vm=new n.ZP({store:o.Z,el:"#app",components:{"a17-fieldset":f.Z,"a17-filter":Ie.Z,"a17-table-filters":qe,"a17-datatable":ae,"a17-nested-datatable":xe,"a17-bulk":lr,"a17-langmanager":sr.Z,"a17-modal-create":wr},mixins:[yt],computed:Br({hasBulkIds:function(){return this.bulkIds.length>0}},(0,d.rn)({localStorageKey:function(t){return t.datatable.localStorageKey},baseUrl:function(t){return t.datatable.baseUrl},bulkIds:function(t){return t.datatable.bulk}})),methods:{create:function(){this.$refs.editionModal&&(this.$store.commit(i.DF.UPDATE_MODAL_ACTION,""),this.$store.commit(i.DF.UPDATE_MODAL_MODE,"create"),this.$store.commit(i.Yc.EMPTY_FORM_FIELDS),this.$refs.editionModal.open())},reloadDatas:function(){this.$store.dispatch(a.ZP.GET_DATATABLE)},clearFiltersAndReloadDatas:function(){var t=this;this.$store.commit(i.yY.UPDATE_DATATABLE_PAGE,1),this.$store.commit(i.yY.CLEAR_DATATABLE_FILTER),Object.keys(this.$refs).filter((function(t){return 0===t.indexOf("filterDropdown[")})).map((function(e){return t.$refs[e].updateValue()})),this.reloadDatas()},filterListing:function(t){var e=this;this.$store.commit(i.yY.UPDATE_DATATABLE_PAGE,1),this.$store.commit(i.yY.UPDATE_DATATABLE_FILTER,t||{search:""}),this.$nextTick((function(){e.reloadDatas()}))}},mounted:function(){window["TWILL"].openCreate&&this.create()},created:function(){(0,s.Z)();var t=!1,e=(0,xr.cF)(this.localStorageKey+"_page-offset");e&&(this.$store.commit(i.yY.UPDATE_DATATABLE_OFFSET,parseInt(e)),t=!0);var r=(0,xr.cF)(this.localStorageKey+"_columns-visible");r&&(this.$store.commit(i.yY.UPDATE_DATATABLE_VISIBLITY,JSON.parse(r)),t=!0),t&&this.reloadDatas()}}),document.addEventListener("DOMContentLoaded",l.Z)},4181:function(t,e,r){r.d(e,{CV:function(){return n.ZP},DF:function(){return l.ZP},N0:function(){return f.ZP},UZ:function(){return u.ZP},Uv:function(){return a.ZP},V1:function(){return c.ZP},Yc:function(){return i.ZP},ad:function(){return s.ZP},qq:function(){return o.ZP},yY:function(){return d.ZP}});var n=r(9193),o=r(484),i=r(9628),a=r(7763),l=(r(1171),r(3853),r(4108)),s=r(4576),u=(r(8968),r(2541)),c=r(1663),d=r(4973),f=(r(232),r(1003),r(7264))},1607:function(t,e,r){function n(){var t="test";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}function o(t,e){var r="";window.TWILL.debug||(n()?localStorage.setItem(t,e):document.cookie=t+"="+e+r+"; path=/")}function i(t){if(window.TWILL.debug)return null;if(n())return localStorage.getItem(t);for(var e=t+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){var i=r[o];while(" "===i.charAt(0))i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}r.d(e,{cF:function(){return i},po:function(){return o}})}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,function(){var t=[];r.O=function(e,n,o,i){if(!n){var a=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],i=t[c][2];for(var l=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(r.O).every((function(t){return r.O[t](n[s])}))?n.splice(s--,1):(l=!1,i<a&&(a=i));if(l){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[n,o,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){r.j=236}(),function(){var t={236:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,a=n[0],l=n[1],s=n[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(s)var c=s(r)}for(e&&e(n);u<a.length;u++)i=a[u],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(c)},n=self["webpackChunk_area17_twill"]=self["webpackChunk_area17_twill"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998,64],(function(){return r(9080)}));n=r.O(n)})();
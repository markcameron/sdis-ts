(function(){var t={9259:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=9259,t.exports=e},1837:function(t,e,n){var r={"./BlockEditorItem.vue":5560,"./BlockEditorModel.js":6214,"./BlockImage.vue":4718,"./BlockTable.vue":9223,"./BlockTitle.vue":7495,"./BlockWysiwyg.vue":3621,"./Blocks.vue":8398,"./BlocksList.js":139};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=1837},7574:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=7574,t.exports=e},1479:function(t,e,n){var r={"./HelloWorld.vue":403};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=1479},5560:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block",class:t.blockClasses},[e("div",{staticClass:"block__header",on:{dblclick:function(e){return e.preventDefault(),t.toggleExpand()}}},[t.withHandle?e("span",{staticClass:"block__handle"}):t._e(),e("div",{staticClass:"block__toggle"},[t.withMoveDropdown?e("a17-dropdown",{ref:t.moveDropdown,staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270}},[e("span",{staticClass:"block__counter f--tiny",on:{click:function(e){return t.$refs[t.moveDropdown].toggle()}}},[t._v(t._s(t.index+1))]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-numbers")],2)]):e("span",{staticClass:"block__counter f--tiny"},[t._v(t._s(t.index+1))]),e("span",{staticClass:"block__title"},[t._v(t._s(t.blockTitle))])],1),t.withActions?e("div",{staticClass:"block__actions"},[t._t("block-actions"),t.withAddDropdown?e("a17-dropdown",{ref:t.addDropdown,attrs:{position:"bottom-right",maxHeight:430},on:{open:function(e){t.hover=!0},close:function(e){t.hover=!1}}},[e("a17-button",{attrs:{variant:"icon","data-action":""},on:{click:function(e){return t.$refs[t.addDropdown].toggle()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-add")],2)],1):t._e(),e("a17-button",{attrs:{variant:"icon","data-action":"","aria-expanded":t.visible?"true":"false"},on:{click:function(e){return t.toggleExpand()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"expand"}})]),e("a17-dropdown",{ref:t.actionsDropdown,attrs:{position:"bottom-right"},on:{open:function(e){t.hover=!0},close:function(e){t.hover=!1}}},[e("a17-button",{attrs:{variant:"icon"},on:{click:function(e){return t.$refs[t.actionsDropdown].toggle()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-action")],2)],1)],2):t._e()]),t.visible?e("div",{staticClass:"block__content"},[e("".concat(t.block.type),t._b({key:"form_".concat(t.block.type,"_").concat(t.block.id),tag:"component",attrs:{name:t.componentName(t.block.id)}},"component",t.block.attributes,!1)),e("a17-inputframe",{attrs:{size:"small",label:"",name:"block.".concat(t.block.id)}})],1):t._e()])},o=[],i=n(629),a=n(1633);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e=d(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=f(t,"string");return"symbol"===s(e)?e:String(e)}function f(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var p={name:"A17BlockEditorItem",props:{index:{type:Number,default:0},opened:{type:Boolean,default:!0},size:{type:String,default:""},block:{type:Object,default:function(){}},withHandle:{type:Boolean,default:!0},withActions:{type:Boolean,default:!0}},data:function(){return{visible:!1,hover:!1,withMoveDropdown:!0,withAddDropdown:!0}},filters:a.Z,computed:c(c({titleFieldValue:function(){var t=this.blockFieldValue(this.block.titleField);return t?"object"===s(t)?t[this.currentLocale.value]:t:null},blockTitle:function(){var t,e=this.block.title||"",n=this.titleFieldValue||"",r=e&&n?" — ":"";t=this.block.hideTitlePrefix?"".concat(n):"".concat(e).concat(r).concat(n);var o=document.createElement("div");return o.innerHTML=t,o.innerText},blockClasses:function(){return[this.visible?"block--open":"",this.hover?"block--focus":"",this.size?"block--".concat(this.size):""]},moveDropdown:function(){return"moveBlock".concat(this.index,"Dropdown")},actionsDropdown:function(){return"action".concat(this.block.id,"Dropdown")},addDropdown:function(){return"add".concat(this.block.id,"Dropdown")}},(0,i.rn)({currentLocale:function(t){return t.language.active}})),(0,i.Se)(["fieldValueByName"])),watch:{opened:function(){this.visible=this.opened}},created:function(){this.block.ui&&this.block.ui.isNew&&this.toggleExpand()},methods:{toggleExpand:function(){this.visible=!this.visible},componentName:function(t){return"blocks["+t+"]"},blockFieldName:function(t){return t?"blocks[".concat(this.block.id,"][").concat(t,"]"):""},blockFieldValue:function(t){if(!t)return null;var e=this.blockFieldName(t);return this.fieldValueByName(e)}},beforeMount:function(){this.$slots["dropdown-numbers"]||(this.withMoveDropdown=!1),this.$slots["dropdown-add"]||(this.withAddDropdown=!1)}},m=p,b=n(1001),v=(0,b.Z)(m,r,o,!1,null,"12cb17e7",null),h=v.exports},4718:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block__body"},[e("a17-inputframe",{attrs:{label:"Image",name:"medias.image"}},[e("a17-mediafield",{attrs:{name:t.fieldName("image"),"crop-context":"image"}})],1)],1)},o=[],i=n(5340),a={name:"A17Image",mixins:[i.Z]},s=a,l=n(1001),c=(0,l.Z)(s,r,o,!1,null,null,null),u=c.exports},9223:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block__body"},[e("a17-wysiwyg-tiptap",{attrs:{name:t.fieldName("html"),label:"Body",options:{modules:{toolbar:["table"],syntax:!1}},placeholder:"Insert your table",editSource:"true",inStore:"value"}})],1)},o=[],i=n(5340),a={name:"A17Bodytable",mixins:[i.Z]},s=a,l=n(1001),c=(0,l.Z)(s,r,o,!1,null,null,null),u=c.exports},7495:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block__body"},[e("a17-locale",{attrs:{type:"a17-textfield",attributes:{label:"Title",name:t.fieldName("text"),type:"text",maxlength:250,inStore:"value"}}})],1)},o=[],i=n(5340),a={name:"A17Title",mixins:[i.Z]},s=a,l=n(1001),c=(0,l.Z)(s,r,o,!1,null,null,null),u=c.exports},3621:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block__body"},[e("a17-wysiwyg",{attrs:{name:t.fieldName("html"),inStore:"value"}})],1)},o=[],i=n(5340),a={name:"A17Bodytext",mixins:[i.Z]},s=a,l=n(1001),c=(0,l.Z)(s,r,o,!1,null,null,null),u=c.exports},8398:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return k}});var r=function(){var t=this,e=t._self._c;return e("a17-blocks-list",{attrs:{"editor-name":t.editorName},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.savedBlocks,o=n.availableBlocks,i=n.moveBlock,a=n.moveBlockToEditor,s=n.cloneBlock;return[e("div",{staticClass:"blocks"},[e("draggable",{staticClass:"blocks__container",attrs:{value:r,group:"blocks",move:t.handleOnMove,options:t.dragOptions},on:{end:function(e){return t.handleOnEnd(i,a)}}},[e("transition-group",{attrs:{name:"draggable_list",tag:"div"}},t._l(r,(function(n){return e("div",{key:n.id,staticClass:"blocks__item"},[e("a17-blockeditor-model",{attrs:{"editor-name":t.editorName,block:n},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.block,a=n.blockIndex,l=n.add,c=n.edit,u=n.move,d=n.remove,f=n.duplicate;return[o.length?e("a17-blockeditor-item",{ref:"blockList",refInFor:!0,attrs:{block:i,index:a,opened:t.opened,"with-handle":!t.isSettings,"with-actions":!t.isSettings,"with-move-dropdown":t.isSettings},on:{expand:t.setOpened}},[t._l(o,(function(n){return[e("button",{key:n.component,staticClass:"blocks__addButton",attrs:{slot:"dropdown-add",type:"button"},on:{click:function(e){return t.handleBlockAdd(l,n,a+1)}},slot:"dropdown-add"},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"blocks__icon",attrs:{symbol:n.icon}}),e("span",{staticClass:"blocks__title"},[t._v(t._s(n.title))])])]})),e("div",{attrs:{slot:"dropdown-action"},slot:"dropdown-action"},[t.opened?e("button",{attrs:{type:"button"},on:{click:function(e){return t.collapseAllBlocks()}}},[t._v(" "+t._s(t.$trans("fields.block-editor.collapse-all","Collapse all"))+" ")]):e("button",{attrs:{type:"button"},on:{click:function(e){return t.expandAllBlocks()}}},[t._v(" "+t._s(t.$trans("fields.block-editor.expand-all","Expand all"))+" ")]),t.editor&&!t.editorName.includes("|")?e("button",{attrs:{type:"button"},on:{click:function(e){return t.openInEditor(c,a,t.editorName)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.open-in-editor","Open in editor"))+" ")]):t._e(),e("button",{attrs:{type:"button"},on:{click:function(e){return t.handleClone(s,a,i)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.clone-block","Clone block"))+" ")]),e("button",{attrs:{type:"button"},on:{click:function(e){return t.handleDuplicateBlock(f)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.create-another","Create another"))+" ")]),e("button",{attrs:{type:"button"},on:{click:function(e){return t.handleDeleteBlock(d)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.delete","Delete"))+" ")])]),t._l(r.length,(function(n){return e("button",{key:n,attrs:{slot:"dropdown-numbers",type:"button"},on:{click:function(t){return u(n-1)}},slot:"dropdown-numbers"},[t._v(t._s(n)+" ")])}))],2):t._e()]}}],null,!0)})],1)})),0)],1),t.isSettings?t._e():e("div",{staticClass:"blocks__actions"},[o.length?e("a17-dropdown",{ref:"blocksDropdown",attrs:{position:"top-center",arrow:!0,offset:10,maxHeight:430}},[e("a17-button",{attrs:{size:"small",variant:"action"},on:{click:function(e){return t.$refs.blocksDropdown.toggle()}}},[t._v(t._s(t.trigger)+" ")]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._l(o,(function(n){return[e("a17-blockeditor-model",{key:n.component,attrs:{"editor-name":t.editorName,block:n},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.add,i=r.block;return[e("button",{key:n.component,staticClass:"blocks__addButton",attrs:{type:"button"},on:{click:function(e){return t.handleBlockAdd(o,i)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"blocks__icon",attrs:{symbol:n.icon}}),e("span",{staticClass:"blocks__title"},[t._v(t._s(n.title))])])]}}],null,!0)})]}))],2)],1):t._e(),t.editorName.includes("|")?t._e():e("div",{staticClass:"blocks__secondaryActions"},[t.editor?e("a",{staticClass:"f--link f--link-underlined--o",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openEditor(-1,t.editorName)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.open-in-editor","Open in editor"))+" ")]):t._e()])],1)],1)]}}])})},o=[],i=n(2719),a=n.n(i),s=n(629),l=n(5560),c=n(6214),u=n(139),d=n(7591);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e=v(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){var e=h(t,"string");return"symbol"===f(e)?e:String(e)}function h(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var y={name:"A17Blocks",components:{"a17-blockeditor-item":l["default"],"a17-blockeditor-model":c["default"],"a17-blocks-list":u["default"],draggable:a()},mixins:[d.tD,d.Rb],props:{trigger:{type:String,default:""},isSettings:{type:Boolean,required:!0},title:{type:String,default:""},editorName:{type:String,required:!0}},data:function(){return{opened:!0,handle:".block__handle"}},computed:m(m({},(0,s.rn)({editor:function(t){return t.blocks.editor},editorNames:function(t){return t.blocks.editorNames}})),(0,s.Se)(["blocks","fieldsByBlockId","availableBlocks"])),methods:{setOpened:function(){var t=this.$refs.blockList&&this.$refs.blockList.every((function(t){return!t.visible}));t&&(this.opened=!1)},collapseAllBlocks:function(){this.opened=!1},expandAllBlocks:function(){this.opened=!0},checkExpandBlocks:function(){void 0!==this.$refs.blockList[this.$refs.blockList.length-1]&&this.$refs.blockList[this.$refs.blockList.length-1].toggleExpand()},handleOnMove:function(t){var e=t.draggedContext,n=t.relatedContext,r=e.index,o=e.element,i=e.futureIndex,a=n.element;this.nextMove={block:o,editorName:a.name,newIndex:i,index:r}},handleOnEnd:function(t,e){var n=this.nextMove,r=n.block,o=n.editorName,i=n.newIndex,a=n.index;r.name!==o?this.checkIfBlockTypeIsAvailable(o,r.type)&&e&&e(r,o,a,i):t&&t({oldIndex:a,newIndex:i})},handleClone:function(t,e,n){var r=this;t&&t({block:n,index:e+1}),this.$nextTick((function(){r.checkExpandBlocks()}))},handleBlockAdd:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;t(e,r),this.$nextTick((function(){n.checkExpandBlocks()}))},handleDuplicateBlock:function(t,e){var n=this;t(e),this.$nextTick((function(){n.checkExpandBlocks()}))},handleDeleteBlock:function(t,e){var n=this;this.$root.$refs.warningContentEditor?this.$root.$refs.warningContentEditor.open((function(){t(e),n.$nextTick((function(){n.checkExpandBlocks()}))})):(t(e),this.$nextTick((function(){n.checkExpandBlocks()})))},checkIfBlockTypeIsAvailable:function(t,e){var n=JSON.parse(JSON.stringify(this.availableBlocks(t))),r=n.map((function(t){return t.component}));return-1!==r.indexOf(e)},openInEditor:function(t,e,n){t(),this.openEditor(e,n)}},mounted:function(){this.$nextTick((function(){this.$refs.blockList&&this.blocks(this.editorName)&&this.blocks(this.editorName).length<4&&this.$refs.blockList.forEach((function(t){return t.toggleExpand()})),this.setOpened()}))}},g=y,_=n(1001),w=(0,_.Z)(g,r,o,!1,null,"2288058f",null),k=w.exports},403:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",[t._v(" Hello "+t._s(t.name)+" haha ")])},o=[],i={props:["name"]},a=i,s=n(1001),l=(0,s.Z)(a,r,o,!1,null,null,null),c=l.exports},6214:function(t,e,n){"use strict";n.r(e);var r=n(629),o=n(3145),i=n(4181);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e=u(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={props:{block:{type:Object},editorName:{type:String,required:!0}},computed:l(l({blockIndex:function(){return this.block?this.getBlockIndex(this.block,this.editorName):0},isActive:function(){return!!(this.block&&Object.keys(this.activeBlock).length>0)&&this.block.id===this.activeBlock.id}},(0,r.rn)({activeBlock:function(t){return t.blocks.active}})),(0,r.Se)({getBlockIndex:"blockIndex"})),methods:{add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.$store.commit(i.RG.ADD_BLOCK,{editorName:this.editorName,block:{id:this.setBlockID(),title:t.title,type:t.component,icon:t.icon,attributes:t.attributes},index:e})},edit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.blockIndex;this.$store.commit(i.RG.ACTIVATE_BLOCK,{editorName:this.editorName,index:t})},unEdit:function(){this.$store.commit(i.RG.ACTIVATE_BLOCK,{editorName:this.editorName,index:-1})},move:function(t){this.blockIndex!==t&&this.$store.commit(i.RG.MOVE_BLOCK,{editorName:this.editorName,oldIndex:this.blockIndex,newIndex:t})},duplicate:function(){var t=Object.assign({},this.block);this.$store.commit(i.RG.DUPLICATE_BLOCK,{editorName:this.editorName,index:this.blockIndex,block:t,id:this.setBlockID()})},remove:function(){this.unEdit(),this.$store.commit(i.RG.DELETE_BLOCK,{editorName:this.editorName,index:this.blockIndex})},cloneBlock:function(){this.$store.dispatch(o.ZP.DUPLICATE_BLOCK,{editorName:this.editorName,futureIndex:this.blockIndex+1,block:this.block,id:Date.now()+Math.floor(1e3*Math.random())})},setBlockID:function(){return Date.now()+Math.floor(1e3*Math.random())}},render:function(){return this.$scopedSlots.default({block:this.block,blockIndex:this.blockIndex,add:this.add,edit:this.edit,unEdit:this.unEdit,isActive:this.isActive,remove:this.remove,move:this.move,duplicate:this.duplicate,cloneBlock:this.cloneBlock})}}},139:function(t,e,n){"use strict";n.r(e);var r=n(629),o=n(3145),i=n(4181);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e=u(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={props:{editorName:{type:String,required:!0}},computed:l(l({availableBlocks:function(){var t=this.editorName.split("|"),e=t[t.length-1];return this.getAvailableBlocks(e)},savedBlocks:function(){return this.blocks(this.editorName)},allSavedBlocks:function(){var t=this;return this.used&&Object.keys(this.used).reduce((function(e,n){return e.concat(t.used[n])}),[])},hasBlockActive:function(){return Object.keys(this.activeBlock).length>0}},(0,r.rn)({activeBlock:function(t){return t.blocks.active},used:function(t){return t.blocks.blocks},editorNames:function(t){return t.blocks.editorNames}})),(0,r.Se)({getAvailableBlocks:"availableBlocks",blocks:"blocks"})),methods:{reorderBlocks:function(t){this.$store.commit(i.RG.REORDER_BLOCKS,{editorName:this.editorName,value:t})},addBlock:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.$store.commit(i.RG.ADD_BLOCK,{editorName:e,block:l(l({},t),{},{type:t.type||t.component}),index:n})},moveBlock:function(t){var e=t.oldIndex,n=t.newIndex;this.$store.commit(i.RG.MOVE_BLOCK,{editorName:this.editorName,oldIndex:e,newIndex:n})},moveBlockToEditor:function(t,e,n,r){this.$store.dispatch(o.ZP.MOVE_BLOCK_TO_EDITOR,{block:t,editorName:e,index:n,futureIndex:r,id:Date.now()+Math.floor(1e3*Math.random())})},cloneBlock:function(t){var e=t.block,n=t.index;this.$store.dispatch(o.ZP.DUPLICATE_BLOCK,{editorName:this.editorName,futureIndex:n,block:e,id:Date.now()+Math.floor(1e3*Math.random())})}},render:function(){return this.$scopedSlots.default({availableBlocks:this.availableBlocks,savedBlocks:this.savedBlocks,reorderBlocks:this.reorderBlocks,moveBlock:this.moveBlock,editorNames:this.editorNames,hasBlockActive:this.hasBlockActive,allSavedBlocks:this.allSavedBlocks,activeBlock:this.activeBlock,addBlock:this.addBlock,moveBlockToEditor:this.moveBlockToEditor,cloneBlock:this.cloneBlock})}}},9952:function(t,e,n){"use strict";n.d(e,{_i:function(){return g},iC:function(){return y}});var r,o=n(7119),i=n(4040),a=n(4474),s=n(6258),l=n(7106),c=n(3782),u=n(4738),d=n(8924),f=n(6651),p=n(982);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e,n){return e=v(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){var e=h(t,"string");return"symbol"===m(e)?e:String(e)}function h(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var y=["draggable","bulk","languages","featured","published","thumbnail","publish_start_date","nested"],g="a17-table-cell-",_=o.Z,w=i.Z,k=a.Z,O=l.Z,S=s.Z,P=u.Z,E=f.Z,x=c.Z,C=d.Z,j=p.Z;r={},b(r,g+"actions",_),b(r,g+"bulk",w),b(r,g+"publish_start_date",k),b(r,g+"featured",O),b(r,g+"draggable",S),b(r,g+"generic",x),b(r,g+"languages",P),b(r,g+"published",E),b(r,g+"nested",C),b(r,g+"thumbnail",j)},658:function(t,e,n){"use strict";var r=n(538),o=n(629),i=n(3511),a=n(4181),s=n(3145),l=n(1003),c=n(2357),u=(n(8413),n(4670)),d=n(7536),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"stickyNav"},[e("div",{staticClass:"container"},[e("div",{staticClass:"stickyNav__nav"},[t.navItems.length>1?e("div",{staticClass:"stickyNav__links"},t._l(t.navItems,(function(n,r){return e("a",{key:n.fieldset,class:{"s--on":n.active},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.scrollToFieldset(r)}}},[t._v(t._s(n.label))])})),0):t._e(),t._t("title")],2),e("div",{staticClass:"stickyNav__actions"},[t._t("actions")],2)])])},p=[],m=n(3279),b=n.n(m),v=n(5068),h={name:"A17StickyNav",props:{items:{type:Array,default:function(){return[]}}},data:function(){return{lastScrollPos:0,topOffset:70,ticking:!1,navItems:this.items,clickedFieldset:-1,fieldset:[]}},methods:{getFieldsetPosition:function(){var t=this;this.lastScrollPos=window.pageYOffset,this.navItems.forEach((function(e,n){var o=t.fieldset[n],i=o?o.getBoundingClientRect().top+t.lastScrollPos:0;r.ZP.set(e,"position",i)}))},setActiveItems:function(){var t=this,e=0;this.navItems.forEach((function(n,o){var i=n.position-t.topOffset<t.lastScrollPos;r.ZP.set(n,"active",!1),i&&o>0&&(e=o)})),this.clickedFieldset>=0?r.ZP.set(t.navItems[t.clickedFieldset],"active",!0):void 0!==t.navItems[e]&&r.ZP.set(t.navItems[e],"active",!0)},refresh:function(){var t=this;t.clickedFieldset=-1,this.getFieldsetPosition(),this.setActiveItems(),t.ticking=!1},_resize:b()((function(){this.lastScrollPos=window.pageYOffset,this.refresh()}),200),_scroll:function(){var t=this;this.lastScrollPos=window.pageYOffset,t.ticking||window.requestAnimationFrame((function(){t.refresh(),t.ticking=!1})),t.ticking=!0},scrollToFieldset:function(t){var e=this,n=this.navItems[t].position-this.topOffset+1;this.dispose(),this.clickedFieldset=t,this.getFieldsetPosition(),this.setActiveItems(),(0,v.Z)({offset:n,easing:"easeOut",onComplete:function(){e.init()}})},init:function(){window.addEventListener("scroll",this._scroll),window.addEventListener("resize",this._resize)},dispose:function(){window.removeEventListener("scroll",this._scroll),window.removeEventListener("resize",this._resize)}},mounted:function(){var t=this;this.navItems.forEach((function(e,n){var r=document.querySelector("#"+e.fieldset);r?t.fieldset.push(r):t.fieldset.push(null)})),this.refresh(),this.init()},beforeDestroy:function(){this.dispose()}},y=h,g=n(1001),_=(0,g.Z)(y,f,p,!1,null,"c3e98050",null),w=_.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"titleEditor",class:t.titleEditorClasses},[e("div",{staticClass:"titleEditor__preview"},[e("h2",{staticClass:"titleEditor__title",class:{"titleEditor__title-only":!t.permalink}},[t.editableTitle?e("a",{staticClass:"titleEditor__title-wrapper",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$refs.editModal.open()}}},[t.thumbnail?e("a17-avatar",{attrs:{name:t.title,thumbnail:t.thumbnail}}):t._e(),e("span",{staticClass:"titleEditor__title"},[e("span",{staticClass:"f--underlined--o"},[t._v(t._s(t.title))]),t._v(" "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"edit"}})])],1):e("span",{staticClass:"titleEditor__title-wrapper"},[t.thumbnail?e("a17-avatar",{attrs:{name:t.title,thumbnail:t.thumbnail}}):t._e(),e("span",{staticClass:"titleEditor__title"},[t._v(" "+t._s(t.customTitle?t.customTitle:t.title)+" ")])],1)]),!t.permalink&&!t.customPermalink||t.showModal?t._e():e("a",{staticClass:"titleEditor__permalink f--small",attrs:{href:t.fullUrl,target:"_blank"}},[e("span",{staticClass:"f--note f--external f--underlined--o"},[t._v(t._s(t._f("prettierUrl")(t.visibleUrl)))])]),t.showModal?e("span",{staticClass:"titleEditor__permalink f--small f--note f--external f--underlined--o"},[t._v(t._s(t._f("prettierUrl")(t.visibleUrl)))]):t._e(),e("a17-modal",{ref:"editModal",staticClass:"modal--form",attrs:{title:t.modalTitle,forceLock:t.disabled}},[e("a17-langmanager",{attrs:{"control-publication":t.controlLanguagesPublication}}),e("form",{ref:"modalForm",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.update.apply(null,arguments)}}},[t._t("modal-form"),e("a17-modal-validation",{attrs:{mode:t.mode},on:{disable:t.lockModal}})],2)],1)],1),t._t("default")],2)},O=[],S=n(2279),P=n(8193),E=n(2674),x=n(6830),C=n(8348),j=n(1633);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){B(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B(t,e,n){return e=I(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t){var e=A(t,"string");return"symbol"===L(e)?e:String(e)}function A(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var N={name:"A17TitleEditor",mixins:[x.Z,C.Z],components:{"a17-avatar":S.Z,"a17-modal-validation":E.Z,"a17-langmanager":P.Z},props:{modalTitle:{type:String,default:function(){return this.$trans("modal.update.title")}},warningMessage:{type:String,default:"Missing title"},thumbnail:{type:String,default:""},showModal:{type:Boolean,default:!1},name:{default:"title"},editableTitle:{type:Boolean,default:!0},controlLanguagesPublication:{type:Boolean,default:!0},customTitle:{type:String,default:""},customPermalink:{type:String,default:""},localizedPermalinkbase:{type:String,default:""},localizedCustomPermalink:{type:String,default:""}},data:function(){return{disabled:!1}},mounted:function(){this.showModal&&this.$refs.editModal.open()},computed:T(T({titleEditorClasses:function(){return{"titleEditor--error":this.error||this.title===this.warningMessage}},mode:function(){return this.showModal?"done":this.title.length>0?"update":"create"},fullUrl:function(){return this.customlink||this.baseUrl.replace("{language}",this.currentLocale.value).replace("{preview}/",this.published?"":"admin-preview/")+this.permalink},visibleUrl:function(){return this.customlink||this.baseUrl.replace("{language}",this.currentLocale.value).replace("{preview}/","")+this.permalink},title:function(){var t=this.fieldValueByName(this.name)?this.fieldValueByName(this.name):"",e="string"===typeof t?t:t[this.currentLocale.value];return e||this.warningMessage},customlink:function(){var t=this.localizedCustomPermalink.length>0?JSON.parse(this.localizedCustomPermalink):{};return Object.keys(t).length>0?t[this.currentLocale.value]:!!this.customPermalink&&this.customPermalink},permalink:function(){var t=this.localizedPermalinkbase.length>0?JSON.parse(this.localizedPermalinkbase):{};return Object.keys(t).length>0&&this.currentLocale.value in t?t[this.currentLocale.value].concat("/",this.fieldValueByName("slug")[this.currentLocale.value]):this.fieldValueByName("slug")[this.currentLocale.value]}},(0,o.rn)({baseUrl:function(t){return t.form.baseUrl},currentLocale:function(t){return t.language.active},languages:function(t){return t.language.all},fields:function(t){return t.form.fields},published:function(t){return t.publication.published}})),(0,o.Se)(["fieldValueByName"])),filters:j.Z,methods:{update:function(){this.$refs.editModal.hide()},lockModal:function(t){this.disabled=t}}},$=N,R=(0,g.Z)($,k,O,!1,null,"0aa96d21",null),Z=R.exports,M=n(4884),V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"publisher__wrapper"},[t.withPublicationToggle?e("a17-switcher",{attrs:{title:t.$trans("publisher.switcher-title","Status"),name:"publish_state",textEnabled:t.textEnabled,textDisabled:t.textDisabled,"text-scheduled":t.textScheduled,"text-expired":t.textExpired}}):t._e(),t._t("default"),t.userInfo?e("a17-userinfo",{attrs:{userInfo:t.userInfo}}):t._e(),t.reviewProcess&&t.reviewProcess.length?e("a17-reviewaccordion",{attrs:{options:t.reviewProcess,name:"review_process",value:t.reviewProcessCompleteValues,open:t.openStates["A17Reviewaccordion"]},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.review-status")))]):t._e(),t.visibility&&t.visibilityOptions&&t.visibilityOptions.length?e("a17-radioaccordion",{attrs:{radios:t.visibilityOptions,name:"visibility",value:t.visibility,open:t.openStates["A17Radioaccordion"]},on:{open:t.openCloseAccordion,change:t.updateVisibility}},[t._v(t._s(t.$trans("publisher.visibility")))]):t._e(),t.languages&&t.showLanguages&&t.languages.length>1?e("a17-checkboxaccordion",{attrs:{options:t.languages,name:"active_languages",value:t.publishedLanguagesValues,open:t.openStates["A17Checkboxaccordion"]},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.languages")))]):t._e(),t.withPublicationTimeframe?e("a17-pubaccordion",{attrs:{"date-display-format":t.localizedDateDisplayFormat,"date-format":t.dateFormat,date_24h:t.date_24h,open:t.openStates["A17Pubaccordion"]},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.published-on")))]):t._e(),t.revisions.length?e("a17-revaccordion",{attrs:{open:t.openStates["A17Revisions"],revisions:t.revisions},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.revisions")))]):t._e(),t.parents.length?e("a17-parentaccordion",{attrs:{open:t.openStates["A17Parents"],parents:t.parents,value:t.parentId},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.parent-page")))]):t._e(),t.revisions.length?e("div",{staticClass:"publisher__item"},[e("a",{staticClass:"publisher__link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openPreview.apply(null,arguments)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"preview"}}),e("span",{staticClass:"f--link-underlined--o"},[t._v(t._s(t.$trans("publisher.preview")))])])]):t._e(),e("div",{staticClass:"publisher__item publisher__item--btns"},[e("a17-multibutton",{attrs:{options:t.submitOptions,type:"submit",message:t.submitDisableMessage},on:{"button-clicked":t.buttonClicked}})],1)],2)},F=[],U=function(){var t=this,e=t._self._c;return e("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[e("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),e("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t._v(t._s(t.currentLabel))]),e("a17-checkboxgroup",{attrs:{name:t.name,options:t.options,selected:t.currentValue,min:1},on:{change:t.changeValue}})],1)},W=[],z=n(9996),G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"accordion",class:t.visibilityClasses},[e("button",{staticClass:"accordion__trigger",attrs:{type:"button","aria-expanded":t.visible?"true":"false"},on:{click:t.onClickVisibility}},[t._t("accordion__title"),e("span",{staticClass:"accordion__value"},[t._t("accordion__value")],2),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})],2),e("transition",{attrs:{css:!1,duration:275},on:{"before-enter":t.beforeEnter,"before-leave":t.beforeLeave,enter:t.enter,leave:t.leave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"accordion__dropdown",attrs:{"aria-hidden":!t.visible}},[e("div",{staticClass:"accordion__list"},[t._t("default")],2)])])],1)},q=[],Y={name:"A17Accordion",mixins:[z.Z],watch:{open:function(){this.visible!==this.open&&(this.visible=this.open)}},methods:{getMaxHeight:function(){return Math.min(250,this.$el.querySelector(".accordion__list").clientHeight+1)},beforeEnter:function(t){t.style.maxHeight="0px"},enter:function(t,e){t.style.maxHeight=this.getMaxHeight()+"px"},beforeLeave:function(t,e){t.style.maxHeight=this.getMaxHeight()+"px"},leave:function(t,e){t.style.maxHeight="0px"}}},K=Y,H=(0,g.Z)(K,G,q,!1,null,"0dd10376",null),J=H.exports,X={name:"A17Checkboxaccordion",components:{"a17-accordion":J},mixins:[z.Z],props:{value:{default:function(){return[]}},title:{type:String,default:""},name:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{currentValue:this.value}},watch:{value:function(t){this.currentValue=t}},computed:{currentLabel:function(){return this.currentValue.length+" "+this.$trans("publisher.languages-published")}},methods:{changeValue:function(t){this.currentValue=t,this.$store.commit(a.ad.PUBLISH_LANG,t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)}}},Q=X,tt=(0,g.Z)(Q,U,W,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"multibutton"},[e("a17-dropdown",{ref:"submitDown",attrs:{position:"bottom-right",width:"full",offset:0}},[t.isDisabled(t.options[0])?e("a17-button",{attrs:{type:"button",variant:"validate",disabled:!0}},[t._v(t._s(t.options[0].text))]):e("a17-button",{attrs:{type:t.type,name:t.options[0].name,variant:"validate"},on:{click:function(e){return t.buttonClicked(t.options[0].name)}}},[t._v(t._s(t.options[0].text))]),t.otherOptions.length?[t.hasValidOptions?e("button",{staticClass:"multibutton__trigger",attrs:{type:"button"},on:{click:function(e){return t.$refs.submitDown.toggle()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):t._e(),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("ul",t._l(t.otherOptions,(function(n){return e("li",{key:n.name},[t.isDisabled(n)?e("button",{attrs:{type:"button",disabled:""}},[t._v(t._s(n.text))]):e("button",{attrs:{type:t.type,name:n.name},on:{click:function(e){return t.buttonClicked(n.name)}}},[t._v(t._s(n.text))])])})),0)])]:t._e()],2)],1)},rt=[],ot={name:"A17Multibutton",props:{type:{default:"button"},message:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{}},computed:{otherOptions:function(){return this.options.length?this.options.slice(1):[]},hasValidOptions:function(){var t=this.options.filter((function(t){return!t.hasOwnProperty("disabled")||!1===t.disabled})),e=Boolean(t.length>0);return!e&&this.message&&this.$store.commit(a.qq.SET_NOTIF,{message:this.message,variant:"success"}),e}},methods:{isDisabled:function(t){return!!t.hasOwnProperty("disabled")&&!0===t.disabled},buttonClicked:function(t){this.$emit("button-clicked",t)}}},it=ot,at=(0,g.Z)(it,nt,rt,!1,null,"58557532",null),st=at.exports,lt=function(){var t=this,e=t._self._c;return e("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[e("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),e("div",{attrs:{slot:"accordion__value"},domProps:{innerHTML:t._s(t.currentLabel)},slot:"accordion__value"}),e("div",{staticClass:"accordion__fields"},[e("a17-select",{attrs:{name:"parent_id",options:t.options,selected:t.currentValue,size:"small"},on:{change:t.updateSelected}})],1)])},ct=[];function ut(t,e){var n=[];function r(t){return Array(t+1).join(e)+" "}function o(t,e){t.forEach((function(t){var i={};if(i.value=t.id,t.edit&&(i.edit=t.edit),i.label=r(e)+t.name,n.push(i),t.children&&t.children.length){var a=e+1;o(t.children,a)}}))}return o(t,0),n}function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mt(t,e,n){return e=bt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bt(t){var e=vt(t,"string");return"symbol"===dt(e)?e:String(e)}function vt(t,e){if("object"!==dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ht={name:"A17Parents",components:{"a17-accordion":J},mixins:[z.Z],props:{value:{default:0},parents:{default:function(){return[]}}},computed:pt({currentLabel:function(){var t=this.options.filter(this.isSameValue);return t.length?t[0].label:""},options:function(){var t=ut(this.parents,"&nbsp;&nbsp;&nbsp;"),e={value:0,label:"(No parent)"};return t.unshift(e),t}},(0,o.rn)({currentValue:function(t){return t.parents.active}})),methods:{isSameValue:function(t){return t.value===this.currentValue},updateSelected:function(t){this.$store.commit(a.Lp.UPDATE_PARENT,t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)}}},yt=ht,gt=(0,g.Z)(yt,lt,ct,!1,null,"606c5ad8",null),_t=gt.exports,wt=function(){var t=this,e=t._self._c;return e("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[e("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),e("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t.startDate?[t._v(" "+t._s(t._f("formatDateWithFormat")(t.startDateForDisplay,t.localizedDateDisplayFormat))+" ")]:[t._v(" "+t._s(t.defaultStartDate)+" ")]],2),e("div",{staticClass:"accordion__fields"},[e("a17-datepicker",{attrs:{name:"publish_date","place-holder":t.$trans("publisher.start-date"),time_24hr:t.date_24h,altFormat:t.dateFormat,initialValue:t.startDate,maxDate:t.endDate,enableTime:!0,allowInput:!0,staticMode:!0,clear:!0},on:{open:t.openStartCalendar,close:t.closeCalendar,input:t.updateStartDate}}),e("a17-datepicker",{attrs:{name:"end_date","place-holder":t.$trans("publisher.end-date"),time_24hr:t.date_24h,altFormat:t.dateFormat,initialValue:t.endDate,minDate:t.startDate,enableTime:!0,allowInput:!0,staticMode:!0,clear:!0},on:{open:t.openEndCalendar,close:t.closeCalendar,input:t.updateEndDate}})],1)])},kt=[],Ot=n(1884),St=n.n(Ot),Pt=n(4293);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return e=Lt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lt(t){var e=Dt(t,"string");return"symbol"===Et(e)?e:String(e)}function Dt(t,e){if("object"!==Et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Tt={name:"A17Pubaccordion",components:{"a17-accordion":J},mixins:[z.Z],props:{defaultStartDate:{type:String,default:function(){return this.$trans("publisher.immediate")}},defaultEndDate:{type:String,default:""},dateDisplayFormat:{type:String,default:null},dateFormat:{type:String,default:null},date_24h:{type:Boolean,default:(0,Pt.aq)()}},filters:j.Z,computed:Ct(Ct({},(0,o.rn)({startDate:function(t){return t.publication.startDate},endDate:function(t){return t.publication.endDate}})),{},{startDateForDisplay:function(){return St()(this.startDate+"Z").toISOString()},localizedDateDisplayFormat:function(){return this.dateDisplayFormat?this.dateDisplayFormat:"MMM, DD, YYYY, "+(0,Pt.rA)(this.date_24h)}}),methods:{updateStartDate:function(t){this.$store.commit(a.V1.UPDATE_PUBLISH_START_DATE,t)},updateEndDate:function(t){this.$store.commit(a.V1.UPDATE_PUBLISH_END_DATE,t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)},openCalendar:function(){setTimeout((function(){var t=document.querySelectorAll(".accordion.s--open, .accordion.s--open .accordion__dropdown");t.forEach((function(t){t.style.overflow="visible"}))}),10)},openStartCalendar:function(){this.openCalendar()},openEndCalendar:function(){this.openCalendar()},closeCalendar:function(){var t=document.querySelectorAll(".accordion.s--open, .accordion.s--open .accordion__dropdown");t.forEach((function(t){t.style.overflow=""}))}}},Bt=Tt,It=(0,g.Z)(Bt,wt,kt,!1,null,null,null),At=It.exports,Nt=function(){var t=this,e=t._self._c;return e("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[e("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),e("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t._v(t._s(t.currentLabel))]),e("a17-radiogroup",{attrs:{name:t.name,radios:t.radios,initialValue:t.currentValue},on:{change:t.changeValue}})],1)},$t=[],Rt={name:"A17Radioaccordion",components:{"a17-accordion":J},mixins:[z.Z],props:{value:{default:""},title:{default:""},name:{default:""},radios:{default:function(){return[]}}},data:function(){return{currentValue:this.value}},computed:{currentLabel:function(){var t=this.radios.filter(this.isSameValue);return t.length?t[0].label:""}},methods:{isSameValue:function(t){return t.value===this.currentValue},changeValue:function(t){this.currentValue=t,this.$emit("change",t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)}}},Zt=Rt,Mt=(0,g.Z)(Zt,Nt,$t,!1,null,null,null),Vt=Mt.exports,Ft=function(){var t=this,e=t._self._c;return e("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[e("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),e("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t._v(t._s(t.currentLabel))]),e("a17-checkboxgroup",{attrs:{name:t.name,options:t.currentOptions,selected:t.currentValue},on:{change:t.changeValue}})],1)},Ut=[],Wt={name:"A17Reviewaccordion",components:{"a17-accordion":J},mixins:[z.Z],props:{value:{default:function(){return[]}},title:{type:String,default:""},name:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{currentOptions:this.options,currentValue:this.value}},computed:{currentLabel:function(){var t="Pending approval",e=this.currentValue[this.currentValue.length-1];return this.currentValue.length&&this.options.forEach((function(n){n.value===e&&(t=n.display)})),t}},methods:{changeValue:function(t){this.currentValue=t,this.$store.commit(a.V1.UPDATE_REVIEW_PROCESS,t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)}}},zt=Wt,Gt=(0,g.Z)(zt,Ft,Ut,!1,null,null,null),qt=Gt.exports,Yt=function(){var t=this,e=t._self._c;return e("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[e("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default"),t._v(" "),e("span",{staticClass:"f--small f--note"},[t._v("("+t._s(t.revisions.length)+")")])],2),e("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t._v(t._s(t.$trans("publisher.last-edit"))+" "),e("timeago",{attrs:{"auto-update":1,datetime:new Date(t.revisions[0].datetime)}})],1),e("div",{staticClass:"revaccordion__scroller"},[e("ul",{staticClass:"revaccordion__list"},t._l(t.revisions,(function(n){return e("li",{key:n.id,staticClass:"revaccordion__item"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openPreview(n.id)}}},[e("span",{staticClass:"revaccordion__author"},[t._v(t._s(n.author))]),e("span",{staticClass:"revaccordion__datetime"},[n.label?e("span",{staticClass:"tag"},[t._v(t._s(n.label))]):t._e(),t._v(" "+t._s(t._f("formatDate")(n.datetime))+" ")])])])})),0)])])},Kt=[],Ht={name:"A17Revisions",components:{"a17-accordion":J},mixins:[z.Z],props:{revisions:{default:function(){return[]}}},filters:j.Z,methods:{notifyOpen:function(t){this.$emit("open",t,this.$options.name)},openPreview:function(t){this.$root.$refs.preview&&this.$root.$refs.preview.open(parseInt(t))}}},Jt=Ht,Xt=(0,g.Z)(Jt,Yt,Kt,!1,null,"5bbe0639",null),Qt=Xt.exports,te=function(){var t=this,e=t._self._c;return e("div",{staticClass:"switcher",class:t.switcherClasses},[e("h4",{staticClass:"switcher__title"},[t._v(t._s(t.title))]),e("label",{staticClass:"switcher__button",attrs:{for:t.name+"_live"}},[t.isChecked?e("span",{staticClass:"switcher__label"},[t._v(t._s(t.formatTextEnabled))]):t._e(),t.isChecked?t._e():e("span",{staticClass:"switcher__label"},[t._v(t._s(t.formatTextDisabled))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedValue,expression:"checkedValue"}],attrs:{type:"checkbox",disabled:t.disabled,name:t.name,id:t.name+"_live",value:"live"},domProps:{checked:Array.isArray(t.checkedValue)?t._i(t.checkedValue,"live")>-1:t.checkedValue},on:{change:function(e){var n=t.checkedValue,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i="live",a=t._i(n,i);r.checked?a<0&&(t.checkedValue=n.concat([i])):a>-1&&(t.checkedValue=n.slice(0,a).concat(n.slice(a+1)))}else t.checkedValue=o}}}),e("span",{staticClass:"switcher__switcher"})])])},ee=[],ne=n(3374),re=n.n(ne);function oe(t){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(t)}function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){se(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function se(t,e,n){return e=le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function le(t){var e=ce(t,"string");return"symbol"===oe(e)?e:String(e)}function ce(t,e){if("object"!==oe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ue={name:"A17Toggle",props:{name:{type:String,default:""},title:{default:"Status"},disabled:{type:Boolean,default:!1},textEnabled:{type:String,default:"Live"},textDisabled:{type:String,default:"Draft"},textExpired:{type:String,default:"Expired"},textScheduled:{type:String,default:"Scheduled"}},filters:j.Z,computed:ae({switcherClasses:function(){return[this.isChecked?"switcher--active":"",this.formatTextEnabled?"switcher--".concat(this.$options.filters.lowercase(this.formatTextEnabled)):""]},isChecked:function(){return this.published},formatTextEnabled:function(){var t=re()(this.startDate,new Date),e=re()(this.endDate,new Date);return this.endDate&&e<0?this.textExpired:this.startDate&&t>0?this.textScheduled:this.textEnabled},formatTextDisabled:function(){return this.textDisabled},checkedValue:{get:function(){return this.published},set:function(t){this.$store.commit(a.V1.UPDATE_PUBLISH_STATE,t),this.$emit("change",t)}}},(0,o.rn)({startDate:function(t){return t.publication.startDate},endDate:function(t){return t.publication.endDate},published:function(t){return t.publication.published}}))},de=ue,fe=(0,g.Z)(de,te,ee,!1,null,"285ca0dd",null),pe=fe.exports,me=function(){var t=this,e=t._self._c;return e("div",{staticClass:"userInfo"},[e("div",{staticClass:"userInfo__content"},[t.userInfo.registered_at?e("div",{staticClass:"userInfo__item"},[e("div",{staticClass:"userInfo__row"},[e("span",{staticClass:"userInfo__row-cell"},[t._v("Registered at")]),e("span",{staticClass:"userInfo__row-cell userInfo__row-cell--value"},[t._v(t._s(t.userInfo.registered_at))])])]):t._e(),t.userInfo.last_login_at?e("div",{staticClass:"userInfo__item"},[e("div",{staticClass:"userInfo__row"},[e("span",{staticClass:"userInfo__row-cell"},[t._v("Last login at")]),e("span",{staticClass:"userInfo__row-cell userInfo__row-cell--value"},[t._v(t._s(t.userInfo.last_login_at))])])]):t._e(),t.userInfo.resend_registration_link?e("div",{staticClass:"userInfo__item"},[e("a",{staticClass:"userInfo__link",attrs:{href:t.userInfo.resend_registration_link,type:"submit"}},[e("span",{staticClass:"f--link-underlined--o"},[t._v("Resend registration email")])])]):t._e(),e("div",{staticClass:"userInfo__item"},[e("button",{staticClass:"userInfo__link",attrs:{type:"button"},on:{click:t.openPasswordModal}},[e("span",{staticClass:"f--link-underlined--o"},[t._v(t._s(t.userInfo.is_activated?"Reset password":"Register account now"))])])])]),e("a17-modal",{ref:"passwordModal",staticClass:"modal--form",attrs:{title:t.userInfo.is_activated?"Reset password for ".concat(t.userInfo.user_name):"Register account for ".concat(t.userInfo.user_name)},on:{hide:t.hidePasswordModal}},[e("div",{staticClass:"userInfo__form-row"},[e("a17-textfield",{attrs:{name:"new_password",id:"new_password",fieldName:"new_password",inStore:"value",label:"New password",maxlength:50,note:"Must have at least 8 characters",required:"",type:"password"}})],1),t.userInfo.is_activated?e("div",{staticClass:"userInfo__form-row"},[e("a17-singlecheckbox",{attrs:{inStore:"value",name:"require_password_change",initialValue:!1,id:"require_password_change",fieldName:"require_password_change",label:"Require password change at next login"}})],1):t._e(),e("div",{staticClass:"userInfo__form-row"},[e("a17-modal-validation",{attrs:{mode:t.userInfo.is_activated?"Update":"Create"}})],1)])],1)},be=[],ve=n(6287),he={name:"A17UserInfo",components:{"a17-textfield":ve.Z,"a17-modal-validation":E.Z},props:{userInfo:{type:Object,default:null}},data:function(){return{isPasswordModalOpen:!1}},methods:{openPasswordModal:function(){this.isPasswordModalOpen=!0,this.$refs.passwordModal.open(),this.$store.commit(a.Yc.UPDATE_FORM_FIELD,{name:"reset_password",value:!0})},hidePasswordModal:function(){this.$store.commit(a.Yc.UPDATE_FORM_FIELD,{name:"reset_password",value:!1})}}},ye=he,ge=(0,g.Z)(ye,me,be,!1,null,"37e685f4",null),_e=ge.exports;function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach((function(e){Se(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Se(t,e,n){return e=Pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pe(t){var e=Ee(t,"string");return"symbol"===we(e)?e:String(e)}function Ee(t,e){if("object"!==we(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var xe={name:"A17Publisher",components:{"a17-switcher":pe,"a17-radioaccordion":Vt,"a17-checkboxaccordion":et,"a17-reviewaccordion":qt,"a17-revaccordion":Qt,"a17-parentaccordion":_t,"a17-pubaccordion":At,"a17-multibutton":st,"a17-userinfo":_e},props:{showLanguages:{type:Boolean,default:!0},dateFormat:{type:String,default:null},dateDisplayFormat:{type:String,default:null},date_24h:{type:Boolean,default:(0,Pt.aq)()}},data:function(){return{singleOpen:!0,openStates:{A17Reviewaccordion:!1,A17Radioaccordion:!1,A17Checkboxaccordion:!1,A17Revisions:!1,A17Pubaccordion:!1,A17Parents:!1}}},filters:j.Z,computed:Oe(Oe({localizedDateDisplayFormat:function(){return this.dateDisplayFormat?this.dateDisplayFormat:"MMM, DD, YYYY, "+(0,Pt.rA)(this.date_24h)},reviewProcessCompleteValues:function(){var t=[];return this.reviewProcessComplete.length&&this.reviewProcessComplete.forEach((function(e){t.push(e.value)})),t},submitOptions:function(){return this.$store.getters.getSubmitOptions},publishedLanguagesValues:function(){var t=[];return this.publishedLanguages.length&&this.publishedLanguages.forEach((function(e){t.push(e.value)})),t}},(0,o.rn)({languages:function(t){return t.language.all},revisions:function(t){return t.revision.all},parentId:function(t){return t.parents.active},parents:function(t){return t.parents.all},published:function(t){return t.publication.published},publishSubmit:function(t){return t.publication.publishSubmit},textEnabled:function(t){return t.publication.publishedLabel},textDisabled:function(t){return t.publication.draftLabel},textExpired:function(t){return t.publication.expiredLabel},textScheduled:function(t){return t.publication.scheduledLabel},withPublicationToggle:function(t){return t.publication.withPublicationToggle},withPublicationTimeframe:function(t){return t.publication.withPublicationTimeframe},visibility:function(t){return t.publication.visibility},visibilityOptions:function(t){return t.publication.visibilityOptions},reviewProcess:function(t){return t.publication.reviewProcess},hasUnsavedChanges:function(t){return t.publication.hasUnsavedChanges},submitDisableMessage:function(t){return t.publication.submitDisableMessage},userInfo:function(t){return t.publication.userInfo}})),(0,o.Se)(["publishedLanguages","reviewProcessComplete"])),methods:{buttonClicked:function(t){this.$store.commit(a.V1.UPDATE_SAVE_TYPE,t)},openCloseAccordion:function(t,e){if(this.singleOpen)if(t)for(var n in this.openStates)this.openStates[n]=n===e;else this.openStates[e]=!1},openPreview:function(){this.$root.$refs.preview&&this.$root.$refs.preview.open(0)},updateVisibility:function(t){this.$store.commit(a.V1.UPDATE_PUBLISH_VISIBILITY,t)},openMoveToTrashModal:function(){this.$parent.$refs.moveToTrashModal.open()}}},Ce=xe,je=(0,g.Z)(Ce,V,F,!1,null,"5b644dbd",null),Le=je.exports,De=function(){var t=this,e=t._self._c;return t.parents.length||t.hasUrl?e("div",{staticClass:"pagenav"},[t.parents.length?e("div",{staticClass:"pagenav__form"},[e("a17-vselect",{attrs:{name:"parents_sources",placeholder:t.placeholder,size:"large",searchable:!0,options:t.options},on:{change:t.gotoUrl}})],1):t._e(),t.hasUrl?e("nav",{staticClass:"pagenav__nav"},[t.previousUrl?e("a",{staticClass:"pagenav__btn",attrs:{href:t.previousUrl}},[t._v("← "+t._s(t.previousLabel))]):e("span",{staticClass:"pagenav__btn"},[t._v("← "+t._s(t.previousLabel))]),t.nextUrl?e("a",{staticClass:"pagenav__btn",attrs:{href:t.nextUrl}},[t._v(t._s(t.nextLabel)+" →")]):e("span",{staticClass:"pagenav__btn"},[t._v(t._s(t.nextLabel)+" →")])]):t._e()]):t._e()},Te=[];function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){Ne(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ne(t,e,n){return e=$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $e(t){var e=Re(t,"string");return"symbol"===Be(e)?e:String(e)}function Re(t,e){if("object"!==Be(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ze={name:"A17PageNav",props:{previousLabel:{type:String,default:"Previous page"},nextLabel:{type:String,default:"Next page"},previousUrl:{type:String,default:""},nextUrl:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{}},computed:Ae({hasUrl:function(){return this.previousUrl||this.nextUrl},options:function(){return ut(this.parents,"–")}},(0,o.rn)({parents:function(t){return t.parents.all}})),methods:{gotoUrl:function(t){t.edit&&(window.location.href=t.edit)}},beforeMount:function(){}},Me=Ze,Ve=(0,g.Z)(Me,De,Te,!1,null,"578ca18c",null),Fe=Ve.exports,Ue=n(8398),We=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("draggable",{staticClass:"content__content",attrs:{options:t.dragOptions},model:{value:t.blocks,callback:function(e){t.blocks=e},expression:"blocks"}},[e("transition-group",{attrs:{name:"draggable_list",tag:"div"}},t._l(t.blocks,(function(n,r){return e("div",{key:n.id,staticClass:"content__item"},[e("a17-blockeditor-item",{ref:"blockList",refInFor:!0,attrs:{block:n,index:r,withHandle:t.draggable,size:t.blockSize,opened:t.opened}},[t.hasRemainingBlocks?e("a17-button",{attrs:{slot:"block-actions",variant:"icon","data-action":""},on:{click:function(e){return t.duplicateBlock(r)}},slot:"block-actions"},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}})]):t._e(),e("div",{attrs:{slot:"dropdown-action"},slot:"dropdown-action"},[t.opened?e("button",{attrs:{type:"button"},on:{click:function(e){return t.collapseAllBlocks()}}},[t._v(" "+t._s(t.$trans("fields.block-editor.collapse-all","Collapse all"))+" ")]):e("button",{attrs:{type:"button"},on:{click:function(e){return t.expandAllBlocks()}}},[t._v(" "+t._s(t.$trans("fields.block-editor.expand-all","Expand all"))+" ")]),t.hasRemainingBlocks?e("button",{attrs:{type:"button"},on:{click:function(e){return t.duplicateBlock(r)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.clone-block","Clone block"))+" ")]):t._e(),e("button",{attrs:{type:"button"},on:{click:function(e){return t.deleteBlock(r)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.delete","Delete"))+" ")])])],1)],1)})),0)],1),e("div",{staticClass:"content__trigger"},[t.hasRemainingBlocks&&t.blockType.trigger&&t.allowCreate?e("a17-button",{class:t.triggerClass,attrs:{variant:t.triggerVariant},on:{click:function(e){return t.addBlock()}}},[t._v(" "+t._s(t.blockType.trigger)+" ")]):t._e(),t.hasRemainingBlocks&&t.browser?e("a17-button",{class:t.triggerClass,attrs:{variant:t.triggerVariant},on:{click:function(e){return t.openBrowser()}}},[t._v(" "+t._s(t.blockType.selectTrigger)+" ")]):t._e(),e("div",{staticClass:"content__note f--note f--small"},[t._t("default")],2)],1),t.browserIsOpen?e("a17-standalone-browser",{ref:"localbrowser",attrs:{endpoint:t.browser,"for-repeater":!0,max:t.max},on:{selected:t.addRepeatersFromSelection,close:function(e){t.browserIsOpen=!1}}}):t._e()],1)},ze=[],Ge=n(2719),qe=n.n(Ge),Ye=n(5560),Ke=n(1086),He=n(8382);function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(n),!0).forEach((function(e){tn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tn(t,e,n){return e=en(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function en(t){var e=nn(t,"string");return"symbol"===Je(e)?e:String(e)}function nn(t,e){if("object"!==Je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var rn={name:"A17Repeater",components:{A17StandaloneBrowser:Ke.Z,"a17-blockeditor-item":Ye["default"],draggable:qe()},mixins:[He.Z],props:{type:{type:String,required:!0},name:{type:String,required:!0},buttonAsLink:{type:Boolean,default:!1},browser:{type:Object,required:!1,default:null},relation:{type:String,required:!1},allowCreate:{type:Boolean,default:!0},max:{type:[Number,null],required:!1,default:null}},data:function(){return{opened:!0,browserIsOpen:!1,handle:".block__handle"}},computed:Qe({triggerVariant:function(){return this.buttonAsLink?"aslink":this.inContentEditor?"outline":"action"},triggerClass:function(){return this.inContentEditor?"content__button":""},blockSize:function(){return this.inContentEditor?"small":""},inContentEditor:function(){return"undefined"!==typeof this.$parent.repeaterName},hasRemainingBlocks:function(){var t=null;return this.max&&this.max>0?t=this.max:this.blockType.hasOwnProperty("max")&&(t=this.blockType.max),!t||t>this.blocks.length},blockType:function(){return this.availableBlocks[this.type]?this.availableBlocks[this.type]:{}},blocks:{get:function(){return this.savedBlocks.hasOwnProperty(this.name)&&this.savedBlocks[this.name]||[]},set:function(t){this.$store.commit(a.Yc.REORDER_FORM_BLOCKS,{type:this.type,name:this.name,blocks:t})}}},(0,o.rn)({savedBlocks:function(t){return t.repeaters.repeaters},availableBlocks:function(t){return t.repeaters.availableRepeaters}})),methods:{setOpened:function(){var t=this.$refs.blockList&&this.$refs.blockList.every((function(t){return!t.visible}));t&&(this.opened=!1)},addBlock:function(){var t=this;this.$store.commit(a.Yc.ADD_FORM_BLOCK,{type:this.type,name:this.name}),this.$nextTick((function(){t.checkExpandBlocks()}))},addRepeatersFromSelection:function(t){this.$store.commit(a.Yc.ADD_REPEATER_FROM_SELECTION,{type:this.type,name:this.name,selection:t,relation:this.relation})},duplicateBlock:function(t){var e=this;this.$store.commit(a.Yc.DUPLICATE_FORM_BLOCK,{type:this.type,name:this.name,index:t}),this.$nextTick((function(){e.checkExpandBlocks()}))},deleteBlock:function(t){this.$store.commit(a.Yc.DELETE_FORM_BLOCK,{type:this.type,name:this.name,index:t})},collapseAllBlocks:function(){this.opened=!1},expandAllBlocks:function(){this.opened=!0},checkExpandBlocks:function(){void 0!==this.$refs.blockList[this.$refs.blockList.length-1]&&this.$refs.blockList[this.$refs.blockList.length-1].toggleExpand()},openBrowser:function(){this.browserIsOpen=!0}},mounted:function(){this.$nextTick((function(){this.$refs.blockList&&this.blocks&&this.blocks.length<4&&this.$refs.blockList.forEach((function(t){return t.toggleExpand()})),this.setOpened()}))}},on=rn,an=(0,g.Z)(on,We,ze,!1,null,"2f3b2583",null),sn=an.exports,ln=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,note:t.note,locale:t.locale,label:t.label,name:t.name,required:t.required},on:{localize:t.updateLocale}},[e("div",{staticClass:"form__field",class:t.textfieldClasses},[e("input",{attrs:{type:"search",placeholder:t.placeholder,name:t.name,id:t.name,disabled:t.disabled,required:t.required,readonly:t.readonly,autofocus:t.autofocus,autocomplete:t.autocomplete},domProps:{value:t.address},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}}),t.showMap?e("div",{staticClass:"form__field--showMap"},[e("a",{attrs:{href:"#",type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleMap.apply(null,arguments)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"location"}}),e("span",{domProps:{innerHTML:t._s(t.mapMessage)}})])]):t._e(),e("input",{attrs:{type:"hidden",name:"".concat(t.name,"__lat")},domProps:{value:t.lat}}),e("input",{attrs:{type:"hidden",name:"".concat(t.name,"__lng")},domProps:{value:t.lng}})]),t.showMap?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isMapOpen,expression:"isMapOpen"}],staticClass:"form__mapContainer"}):t._e()])},cn=[],un=n(8446),dn=n.n(un),fn=n(2240),pn=n(35),mn=n(2847),bn={show:window.$trans("fields.map.show"),hide:window.$trans("fields.map.hide")},vn="https://maps.googleapis.com/maps/api/js?libraries=places&key=",hn=window["TWILL"].hasOwnProperty("APIKEYS")&&window["TWILL"].APIKEYS.hasOwnProperty("googleMapApi")?window["TWILL"].APIKEYS.googleMapApi:null,yn={name:"A17Locationfield",mixins:[pn.Z,x.Z,C.Z,fn.Z],props:{type:{type:String,default:"text"},zoom:{type:Number,default:15},showMap:{type:Boolean,default:!0},openMap:{type:Boolean,default:!1},saveExtendedData:{type:Boolean,default:!1},autoDetectLatLngValue:{type:Boolean,default:!1},initialLat:{type:Number,default:null},initialLng:{type:Number,default:null}},data:function(){return{map:null,autocompletePlace:null,markers:[],address:"",boundingBox:[],types:[],beforeFocusAddress:"",lat:this.initialLat,lng:this.initialLng,focused:!1,isMapOpen:this.openMap,mapMessage:this.openMap?bn.hide:bn.show}},computed:{value:{get:function(){var t={latlng:this.lat+"|"+this.lng,address:this.address};return this.saveExtendedData&&(t.boundingBox=this.boundingBox,t.types=this.types),t},set:function(t){var e=t.latlng.split("|");this.lat=parseFloat(e[0]),this.lng=parseFloat(e[e.length-1]),this.address=t.address,this.saveExtendedData&&(this.boundingBox=t.boundingBox,this.types=t.types)}},textfieldClasses:function(){return{"s--focus":this.focused,"s--disabled":this.disabled}}},methods:{updateFromStore:function(t){if(!dn()(t,this.value)&&(this.value=t,this.clearMarkers(),""===this.address&&(this.lat=this.initialLat,this.lng=this.initialLng),this.lat&&this.lng&&this.map)){var e={lat:this.lat,lng:this.lng};this.addMarker(e),this.map.panTo(e)}},onFocus:function(t){this.focused=!0,this.beforeFocusAddress=this.address,this.$emit("focus")},onBlur:function(t){this.focused=!1,""===this.address&&(this.clearMarkers(),this.lat=this.initialLat,this.lng=this.initialLng),this.beforeFocusAddress!==this.address&&this.saveIntoStore(),this.$emit("blur")},onInput:function(t){var e=t.target.value;if(this.address=e,this.$emit("change",e),this.autoDetectLatLngValue){var n=e.match(/^(-?\d+(?:\.\d+)?),+ *(-?\d+(?:\.\d+)?)$/);n&&this.onLatLngEntered(n[1],n[2])}},onPlaceChanged:function(){var t=this.autocompletePlace.getPlace();if(this.clearMarkers(),this.clearLatLng(),t.geometry){var e=t.geometry.location;this.address=t.formatted_address,this.setLatLng(e),this.saveExtendedData&&(this.boundingBox=t.geometry.viewport,this.types=t.types),this.map&&(this.addMarker(e),this.map.panTo(e),this.map.setZoom(this.zoom))}this.beforeFocusAddress=this.address,this.saveIntoStore()},onClick:function(t){var e=t.latLng;this.clearMarkers(),this.clearLatLng(),this.address=[e.lat(),e.lng()].join(","),this.setLatLng(e),this.map&&this.addMarker(e),this.saveIntoStore()},onLatLngEntered:b()((function(t,e){var n=new google.maps.LatLng(t,e);this.clearMarkers(),this.clearLatLng(),this.address=[n.lat(),n.lng()].join(","),this.setLatLng(n),this.map&&(this.addMarker(n),this.map.setCenter(n)),this.saveIntoStore()}),600),clearMarkers:function(){for(var t=0;t<this.markers.length;t++)this.markers[t]&&this.markers[t].setMap(null);this.markers=[]},clearLatLng:function(){this.lat=0,this.lng=0},addMarker:function(t){var e=new google.maps.Marker({position:t,map:this.map});this.markers.push(e)},setLatLng:function(t){this.lat=t.lat(),this.lng=t.lng()},toggleMap:function(){this.isMapOpen=!this.isMapOpen,this.mapMessage=this.isMapOpen?bn.hide:bn.show,this.map||"undefined"===typeof google||this.$nextTick((function(){this.initMap()}))},initMap:function(){var t=this.lat+this.lng,e={zoom:t?this.zoom:1,center:new google.maps.LatLng(this.lat,this.lng),mapTypeControl:!1,panControl:!1,zoomControl:!1,streetViewControl:!1},n=document.createElement("div");n.className="form__map",this.$el.querySelector(".form__mapContainer").appendChild(n),this.map=new google.maps.Map(n,e),t&&this.addMarker(new google.maps.LatLng(this.lat,this.lng)),this.map.addListener("click",this.onClick)},initGeocoder:function(){var t=this;if(this.autocompletePlace=new google.maps.places.Autocomplete(this.$el.querySelector('input[type="search"]')),google.maps.event.addListener(this.autocompletePlace,"place_changed",this.onPlaceChanged),""===this.address&&this.lat&&this.lng){var e=new google.maps.Geocoder,n={lat:this.lat,lng:this.lng};e.geocode({location:n},(function(e,n){"OK"===n?e[1]?t.address=e[1].formatted_address:console.error("Geocoding - No results found"):console.error("Geocoding - Geocoder failed due to: "+n)}))}},initGoogleApi:function(){this.initGeocoder(),this.showMap&&this.isMapOpen&&this.initMap()}},mounted:function(){var t=this;if("undefined"!==typeof google)this.initGoogleApi();else{var e="google-map-api-script",n=vn+hn;(0,mn.ve)(e,n,"text/javascript").then((function(){t.initGoogleApi()}))}},beforeDestroy:function(){"undefined"!==typeof google&&google.maps.event.clearListeners(this.autocompletePlace,"place_changed",this.onPlaceChanged)}},gn=yn,_n=(0,g.Z)(gn,ln,cn,!1,null,"c676a44e",null),wn=_n.exports,kn=function(){var t=this,e=t._self._c;return e("div",[t.keepAlive?[e("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},[t._t("default")],2)]:[t.open?e("div",{ref:"fieldContainer"},[t._t("default")],2):t._e()]],2)},On=[],Sn=n(6678),Pn=n.n(Sn);function En(t){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(t)}function xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(n),!0).forEach((function(e){jn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jn(t,e,n){return e=Ln(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ln(t){var e=Dn(t,"string");return"symbol"===En(e)?e:String(e)}function Dn(t,e){if("object"!==En(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==En(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Tn={name:"A17ConnectorField",props:{fieldName:{type:String,required:!0},requiredFieldValues:{default:""},inModal:{type:Boolean,default:!1},keepAlive:{type:Boolean,default:!1},arrayContains:{type:Boolean,default:!0},isValueEqual:{type:Boolean,default:!0},isBrowser:{type:Boolean,default:!1},matchEmptyBrowser:{type:Boolean,default:!1}},computed:Cn(Cn({storedValue:function(){return this.inModal?this.modalFieldValueByName(this.fieldName):this.isBrowser?this.selectedBrowser[this.fieldName]:this.fieldValueByName(this.fieldName)}},(0,o.Se)(["fieldValueByName","modalFieldValueByName"])),(0,o.rn)({fields:function(t){return t.form.fields},modalFields:function(t){return t.form.modalFields},selectedBrowser:function(t){return t.browser.selected}})),data:function(){return{open:!1}},watch:{storedValue:function(t){this.toggleVisibility(t)}},methods:{toggleVisibility:function(t){if(this.$refs.fieldContainer&&this.$slots.default.forEach((function(t){void 0!==t.componentInstance&&t.componentInstance.$refs&&t.componentInstance.$refs.field?t.componentInstance.$refs.field[0]&&t.componentInstance.$refs.field[0].destroyValue():void 0!==t.componentInstance&&void 0!==t.componentInstance.$slots&&void 0!==t.componentInstance.$slots.default&&t.componentInstance.$slots.default.forEach((function(t){t.componentInstance&&t.componentInstance.destroyValue&&t.componentInstance.destroyValue()}))})),this.isBrowser){var e,n=null!==(e=t&&t.length)&&void 0!==e?e:0;return this.matchEmptyBrowser&&0===n?void(this.open=!0):void(this.open=!this.matchEmptyBrowser&&n>0)}var r=Pn()(t),o=Pn()(this.requiredFieldValues),i=Array.isArray(o)?o:[o];Array.isArray(o)&&o.sort(),Array.isArray(r)&&r.sort(),this.isValueEqual?Array.isArray(r)?this.open=this.arrayContains?i.some((function(t){return r.includes(t)})):this.open=JSON.stringify(i)===JSON.stringify(r):this.open=Array.isArray(o)?-1!==o.indexOf(r):dn()(r,o):Array.isArray(r)?this.open=this.arrayContains?i.every((function(t){return!r.includes(t)})):this.open=JSON.stringify(i)!==JSON.stringify(r):this.open=Array.isArray(o)?-1===o.indexOf(r):!dn()(r,o)}},mounted:function(){var t=this;this.$nextTick((function(){t.toggleVisibility(this.storedValue)}))}},Bn=Tn,In=(0,g.Z)(Bn,kn,On,!1,null,null,null),An=In.exports,Nn=n(5989),$n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overlay",class:t.overlayClasses},[e("div",{staticClass:"overlay__window"},[e("header",{staticClass:"overlay__header"},[t.overlayTitle?e("span",[t._v(t._s(t.overlayTitle))]):t._e(),t.$slots["overlay__header"]?e("span",{staticClass:"overlay__header-slot"},[t._t("overlay__header")],2):t._e(),e("button",{staticClass:"overlay__close",attrs:{type:"button"},on:{click:t.hide}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}}),e("span",{staticClass:"overlay__closeLabel"},[t._v(t._s(t.$trans("overlay.close")))])])]),t.active?e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],staticClass:"overlay__content"},[t._t("default")],2):t._e()])])},Rn=[],Zn=n(3523);function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(n),!0).forEach((function(e){Un(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Un(t,e,n){return e=Wn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wn(t){var e=zn(t,"string");return"symbol"===Mn(e)?e:String(e)}function zn(t,e){if("object"!==Mn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Gn=document.documentElement,qn=Zn.Z.overlay,Yn=Zn.Z.modal,Kn={name:"A17Overlay",props:{title:{type:String,default:""},revisionTitle:{type:String,default:function(){return this.$trans("previewer.revision-history")}},forceClose:{type:Boolean,default:!1},forceLock:{type:Boolean,default:!1},mode:{type:String,default:""},customClasses:{type:[String,Array],default:function(){return[]}}},data:function(){return{active:!1,hidden:!0,locked:!1}},computed:Fn({toggleClasses:function(){var t="string"===typeof this.customClasses?[this.customClasses]:this.customClasses;return[qn].concat(t)},activeRevision:function(){return Object.keys(this.currentRevision).length},overlayTitle:function(){return this.activeRevision?this.revisionTitle:this.title},overlayClasses:function(){return{"overlay--active":this.active,"overlay--hidden":this.hidden}}},(0,o.rn)({currentRevision:function(t){return t.revision.active}})),methods:{open:function(){this.active&&!this.hidden||(this.active=!0,this.hidden=!1,this.toggleClasses.forEach((function(t){return Gn.classList.add(t)})),window.addEventListener("keyup",this.keyPressed),this.$emit("open"))},mask:function(){this.toggleClasses.forEach((function(t){return Gn.classList.remove(t)})),window.removeEventListener("keyup",this.keyPressed),this.$emit("close")},hide:function(){this.active&&(this.locked||(this.forceClose?this.close():(this.hidden=!0,this.mask())))},close:function(t){this.active&&(this.locked||(this.active=!1,this.mask()))},keyPressed:function(t){if(27===t.which||27===t.keyCode){if(Gn.classList.contains(Yn))return;this.hide(),this.$emit("esc-key")}}},beforeDestroy:function(){this.$el.parentNode&&(this.active&&window.removeEventListener("keyup",this.keyPressed),this.$el.parentNode.removeChild(this.$el))}},Hn=Kn,Jn=(0,g.Z)(Hn,$n,Rn,!1,null,"6227219a",null),Xn=Jn.exports,Qn=function(){var t=this,e=t._self._c;return e("a17-overlay",{ref:"overlay",attrs:{title:t.$trans("previewer.title")}},[t.revisions.length?e("div",{staticClass:"previewer",class:{"previewer--loading":t.loading}},[t.activeRevision?e("a17-button",{staticClass:"previewer__restore",attrs:{variant:"warning",size:"small"},on:{click:t.restoreRevision}},[t._v(t._s(t.$trans("previewer.restore")))]):t._e(),!t.activeRevision&&t.editor?e("a17-button",{staticClass:"previewer__restore",attrs:{variant:"editor",size:"small"},on:{click:t.openEditor}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"hide--xsmall",attrs:{symbol:"editor"}}),t._v(t._s(t.$trans("previewer.editor")))]):t._e(),e("div",{staticClass:"previewer__frame"},[e("div",{staticClass:"previewer__inner"},[e("div",{staticClass:"previewer__nav"},[e("div",{staticClass:"previewer__revisions"},[t.slipScreen?e("span",{staticClass:"tag tag--revision"},[t._v(t._s(t.$trans("previewer.past-revision")))]):t._e(),e("a17-dropdown",{ref:"previewRevisionsDropdown",attrs:{position:"bottom-left",maxWidth:400,maxHeight:300}},[e("a17-button",{staticClass:"previewer__trigger",on:{click:function(e){return t.$refs.previewRevisionsDropdown.toggle()}}},[t.activeRevision?[t._v(" "+t._s(t._f("formatDate")(t.currentRevision.datetime))+" ("+t._s(t.currentRevision.author)+") "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]:[t._v(" "+t._s(t.$trans("previewer.last-edit"))+" "),e("timeago",{attrs:{"auto-update":1,datetime:new Date(t.revisions[0].datetime)}}),t._v(" "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]],2),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.revisions,(function(n){return e("button",{key:n.id,staticClass:"previewerRevision",class:{"previewerRevision--active":t.currentRevision.id===n.id},attrs:{type:"button"},on:{click:function(e){return t.toggleRevision(n.id)}}},[e("span",{staticClass:"previewerRevision__author"},[t._v(t._s(n.author))]),e("span",{staticClass:"previewerRevision__datetime"},[n.label?e("span",{staticClass:"tag"},[t._v(t._s(n.label))]):t._e(),t._v(" "+t._s(t._f("formatDate")(n.datetime)))])])})),0)],1)],1),t.slipScreen?t._e():e("ul",{staticClass:"previewer__breakpoints"},t._l(t.breakpoints,(function(n){return e("li",{key:n.size,staticClass:"previewer__breakpoint",class:{"s--active":t.activeBreakpoint===n.size}},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.resizePreview(n.size)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:n.name}})])])})),0),t.activeRevision?e("div",{staticClass:"previewer__compare"},[t.slipScreen?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.singleView.apply(null,arguments)}}},[e("span",{staticClass:"previewer__compareLabel"},[t._v(t._s(t.$trans("previewer.single-view")))]),t._v(" "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"revision-single"}})]):e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.compareView.apply(null,arguments)}}},[e("span",{staticClass:"previewer__compareLabel"},[t._v(t._s(t.$trans("previewer.compare-view")))]),t._v(" "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"revision-compare"}})])]):t._e()]),e("div",{staticClass:"previewer__content"},[e("div",{staticClass:"previewer__iframe"},[e("a17-iframe",{attrs:{content:t.activeRevision?t.activeContent:t.currentContent,size:t.activeBreakpoint,scrollPosition:t.scrollPosition},on:{scrollDoc:t.setIframeScroll}})],1),t.slipScreen?e("div",{staticClass:"previewer__iframe"},[e("div",{staticClass:"previewer__iframeInfos"},[e("span",{staticClass:"tag tag--revision"},[t._v(t._s(t.$trans("previewer.current-revision")))]),t._v(t._s(t.$trans("previewer.unsaved")))]),e("a17-iframe",{attrs:{content:t.currentContent,scrollPosition:t.scrollPosition},on:{scrollDoc:t.setIframeScroll}})],1):t._e()])])])],1):t._e()])},tr=[],er=function(){var t=this,e=t._self._c;return e("iframe",{staticClass:"previewerframe",style:{width:t.size>0?t.size+"px":""},attrs:{srcdoc:t.content,frameborder:"0"},on:{load:t.loadPreview}})},nr=[],rr={name:"A17previewerFrame",props:{size:{type:Number,default:0},content:{type:String,default:""},scrollPosition:{type:Number,default:0}},data:function(){return{currentScroll:this.scrollPosition}},watch:{scrollPosition:function(t){this.$el.contentWindow.scrollTo(0,t)}},methods:{loadPreview:function(t){var e=this,n=t.target,r=Array.from(n.contentDocument.querySelectorAll("a:not(.sf-dump-toggle)")||[]);r.forEach((function(t){t.getAttribute("href").startsWith("#")&&"#"!==t.getAttribute("href")||(t.setAttribute("disabled","disabled"),t.style.pointerEvents="none"),t.onclick=function(t){if(!t.defaultPrevented)return!1}}));var o=Array.from(n.contentDocument.querySelectorAll("form")||[]);o.forEach((function(t){t.addEventListener("submit",(function(t){t.preventDefault()}),!0)})),n.contentDocument.addEventListener("scroll",(function(t){var r=n.contentWindow.pageYOffset;r!==e.currentScroll&&(e.$emit("scrollDoc",r),e.currentScroll=r)})),this.$el.contentWindow.scrollTo(0,this.currentScroll)}}},or=rr,ir=(0,g.Z)(or,er,nr,!1,null,"0559a056",null),ar=ir.exports;function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function lr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lr(Object(n),!0).forEach((function(e){ur(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ur(t,e,n){return e=dr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dr(t){var e=fr(t,"string");return"symbol"===sr(e)?e:String(e)}function fr(t,e){if("object"!==sr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var pr={name:"A17Previewer",components:{"a17-iframe":ar},data:function(){return{loadedCurrent:!1,slipScreen:!1,activeBreakpoint:1280,lastActiveBreakpoint:1280,scrollPosition:0,breakpoints:[{size:1280,name:"preview-desktop"},{size:1024,name:"preview-tablet-h"},{size:768,name:"preview-tablet-v"},{size:320,name:"preview-mobile"}]}},filters:j.Z,computed:cr({activeRevision:function(){return Object.keys(this.currentRevision).length}},(0,o.rn)({editor:function(t){return t.blocks.editor},loading:function(t){return t.revision.loading},currentRevision:function(t){return t.revision.active},activeContent:function(t){return t.revision.activeContent},currentContent:function(t){return t.revision.currentContent},revisions:function(t){return t.revision.all},restoreRevisionUrl:function(t){return t.form.restoreUrl}})),methods:{open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this;function n(){e.$refs.overlay&&e.$refs.overlay.open(),e.singleView()}this.loadedCurrent=!1,this.activeBreakpoint=1280,this.lastActiveBreakpoint=1280,t?this.previewRevision(t,(function(){n()})):this.previewCurrent((function(){n()}))},close:function(){this.$refs.overlay.close()},openEditor:function(){var t=this.$root.$refs;t.preview&&t.preview.close(),t.editor&&t.editor.open()},restoreRevision:function(){window.location.href=this.restoreRevisionUrl+"?revisionId="+this.currentRevision.id},resizePreview:function(t){this.activeBreakpoint=parseInt(t),this.lastActiveBreakpoint=parseInt(t)},previewCurrent:function(t){this.$store.commit(a.UZ.UPDATE_REV,0),this.loadCurrent(t)},loadCurrent:function(t){var e=this;this.loadedCurrent?t&&"function"===typeof t&&t():(this.loadedCurrent=!0,this.$store.dispatch(s.ZP.GET_CURRENT).then((function(){t&&"function"===typeof t&&t()}),(function(t){e.$store.commit(a.Yc.SET_FORM_ERRORS,t.response.data),e.$store.commit(a.qq.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"})})))},toggleRevision:function(t){if(this.activeRevision&&this.currentRevision.id===t)return this.singleView(),void this.previewCurrent();this.previewRevision(t)},previewRevision:function(t,e){var n=this;this.$store.commit(a.UZ.UPDATE_REV,t),this.$store.dispatch(s.ZP.GET_REVISION).then((function(){e&&"function"===typeof e&&e()}),(function(t){n.$store.commit(a.qq.SET_NOTIF,{message:"Invalid revision.",variant:"error"})}))},compareView:function(){this.activeBreakpoint=0,this.slipScreen=!0,this.activeRevision&&this.loadCurrent()},singleView:function(){this.activeBreakpoint=this.lastActiveBreakpoint,this.slipScreen=!1},setIframeScroll:function(t){this.scrollPosition=t}}},mr=pr,br=(0,g.Z)(mr,Qn,tr,!1,null,"b3a55fa0",null),vr=br.exports,hr=function(){var t=this,e=t._self._c;return e("a17-overlay",{ref:"overlay",attrs:{title:t.$trans("editor.title"),customClasses:t.htmlEditorClass},on:{close:t.close},scopedSlots:t._u([t.editorNames.length>1?{key:"overlay__header",fn:function(){return[e("a17-dropdown",{ref:"editorDropdown",attrs:{position:"bottom-left",maxWidth:400,maxHeight:300}},[e("a17-button",{staticClass:"editorDropdown__trigger",on:{click:function(e){return t.$refs.editorDropdown.toggle()}}},[t._v(" "+t._s(t.currentEditorLabel)+" "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.editorNames,(function(n){return e("button",{key:n.value,staticClass:"editorDropdown",attrs:{type:"button"},on:{click:function(e){return t.updateEditorName(n.value)}}},[t._v(" "+t._s(n.label)+" ")])})),0)],1)]},proxy:!0}:null],null,!0)},[e("a17-blocks-list",{attrs:{"editor-name":t.editorName},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.availableBlocks,o=n.hasBlockActive,i=n.savedBlocks,a=n.editorNames,s=n.moveBlock;return[e("div",{staticClass:"editor"},[t.revisions.length?e("a17-button",{staticClass:"editor__leave",attrs:{variant:"editor",size:"small"},on:{click:t.openPreview}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"hide--xsmall",attrs:{symbol:"preview"}}),t._v(t._s(t.$trans("fields.block-editor.preview","Preview"))+" ")]):t._e(),e("div",{staticClass:"editor__frame"},[e("div",{staticClass:"editor__inner"},[e("div",{ref:"sidebar",staticClass:"editor__sidebar"},[e("a17-editorsidebar",{attrs:{"editor-name":t.editorName,hasBlockActive:o,editorNames:a,blocks:r},on:{"editorName:update":t.updateEditorName}},[t._v(" "+t._s(t.$trans("fields.block-editor.add-content","Add content"))+" ")])],1),e("div",{staticClass:"editor__resizer",on:{mousedown:t.resize}},[e("span")]),e("div",{staticClass:"editor__preview"},[t.editorOpen?e("a17-editorpreview",{ref:"previews",attrs:{"editor-name":t.editorName,blocks:i,hasBlockActive:o,sandbox:t.previewSandbox,bgColor:t.bgColor},on:{"blocks:move":s}}):t._e()],1)])])],1)]}}])})],1)},yr=[],gr=n(139),_r=function(){var t=this,e=t._self._c;return e("a17-blockeditor-model",{attrs:{"editor-name":t.editorName},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.add,o=n.edit,i=n.unEdit;return[e("div",{staticClass:"editorPreview",class:t.previewClass,style:t.previewStyle,on:{mousedown:function(e){return t._unselectBlock(i)}}},[t.blocks.length?t._e():e("div",{staticClass:"editorPreview__empty"},[e("b",[t._v(t._s(t.$trans("previewer.drag-and-drop","Drag and drop content from the left navigation")))])]),e("draggable",{ref:"previewContent",staticClass:"editorPreview__content",attrs:{value:t.blocks,options:{group:"editorBlocks",handle:t.handle}},on:{add:function(e){return t.onAdd(r,o,e)},update:t.onUpdate}},[t._l(t.blocks,(function(n){return[e("a17-blockeditor-model",{key:n.id,attrs:{block:n,"editor-name":t.editorName},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.block,i=r.isActive,a=r.blockIndex,s=r.move,l=r.remove,c=r.edit,u=r.unEdit,d=r.cloneBlock;return[e("a17-editor-block-preview",{key:n.id,ref:o.id,refInFor:!0,attrs:{block:o,blockIndex:a,blocksLength:t.blocks.length,isBlockActive:i},on:{"block:select":function(e){return t._selectBlock(c,a)},"block:unselect":function(e){return t._unselectBlock(u,a)},"block:move":s,"block:clone":function(e){return t._cloneBlock(d,a)},"block:delete":function(e){return t._deleteBlock(l)},"scroll-to":t.scrollToActive}})]}}],null,!0)})]}))],2),t.loading?e("a17-spinner",{attrs:{visible:!0}},[t._v(t._s(t.$trans("fields.block-editor.loading","Loading"))+"… ")]):t._e()],1)]}}])})},wr=[],kr=n(7621),Or=n.n(kr),Sr=n(6214),Pr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editorPreview__item",class:t.previewBlockItemClasses,on:{mousedown:function(t){t.stopPropagation()}}},[e("div",{staticClass:"editorPreview__frame"},[e("a17-editor-iframe",{ref:"blockIframe",attrs:{block:t.block},on:{loaded:t.iframeLoaded}})],1),e("div",{staticClass:"editorPreview__protector editorPreview__dragger",on:{click:function(e){return e.preventDefault(),t.handleBlockPreviewClick.apply(null,arguments)}}}),e("div",{staticClass:"editorPreview__header"},[e("a17-buttonbar",{attrs:{variant:"visible"}},[e("button",{attrs:{type:"button"},on:{click:t.cloneBlock}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"clone"}})]),t.blocksLength>1?e("a17-dropdown",{ref:"blockDropdown",staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270},on:{open:t.handleDropDownOpen,close:t.handleDropDownClose}},[e("button",{attrs:{type:"button"},on:{click:function(e){return t.toggleBlockDropdown(t.blockIndex)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"drag"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.blocksLength,(function(n){return e("button",{key:n,attrs:{type:"button"},on:{click:function(e){return t.moveBlock(n-1)}}},[t._v(" "+t._s(n)+" ")])})),0)]):t._e(),e("button",{attrs:{type:"button"},on:{click:t.deleteBlock}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})])],1)],1)])},Er=[],xr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editorIframe"},[""===t.preview?e("div",{staticClass:"editorIframe__empty"},[t._v(" "+t._s(t.title)+" ")]):[t.sandbox?e("iframe",{ref:"frame",attrs:{srcdoc:t.preview,sandbox:t.sandboxOptions,scrolling:"no"},on:{load:t.loadedPreview}}):e("iframe",{ref:"frame",attrs:{srcdoc:t.preview,scrolling:"no"},on:{load:t.loadedPreview}})]],2)},Cr=[];function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Lr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lr(Object(n),!0).forEach((function(e){Tr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tr(t,e,n){return e=Br(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Br(t){var e=Ir(t,"string");return"symbol"===jr(e)?e:String(e)}function Ir(t,e){if("object"!==jr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ar={name:"A17editorIframe",props:{block:{type:Object,default:function(){return{}}}},computed:Dr({preview:function(){return this.previewsById(this.block.id)||""},title:function(){return this.block.title||""},sandboxOptions:function(){return"boolean"===typeof this.sandbox?"allow-same-origin allow-top-navigation allow-scripts":this.sandbox.join(" ")}},(0,o.Se)(["previewsById"])),inject:["sandbox"],methods:{loadedPreview:function(){this.$refs.frame&&this.$refs.frame.srcdoc&&(this.$emit("loaded",this.$refs.frame),this.resize())},resize:function(){var t=this;if(this.$refs.frame){var e=this.$refs.frame.contentWindow.document.body;e.style.overflow="hidden";var n=window.getComputedStyle(e),r=n.getPropertyValue("margin-top"),o=n.getPropertyValue("margin-bottom"),i=e.scrollHeight+parseInt(r)+parseInt(o);window.requestAnimationFrame((function(){t.$refs.frame.height=i+"px"}))}}},mounted:function(){window.addEventListener("resize",this.resize)},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}},Nr=Ar,$r=(0,g.Z)(Nr,xr,Cr,!1,null,"f2eb11aa",null),Rr=$r.exports,Zr=n(7591),Mr={name:"A17EditorPreviewBlockItem",props:{isBlockActive:{type:Boolean,default:!1}},mixins:[Zr.R0],components:{"a17-editor-iframe":Rr},data:function(){return{dropdownOpen:!1}},computed:{previewBlockItemClasses:function(){return{"editorPreview__item--active":this.isBlockActive,"editorPreview__item--dropdown-open":this.dropdownOpen}}},methods:{handleBlockPreviewClick:function(){this.isBlockActive?this.unselectBlock():this.selectBlock()},handleDropDownOpen:function(){this.dropdownOpen=!0},handleDropDownClose:function(){this.dropdownOpen=!1},iframeLoaded:function(){var t=this;this.isBlockActive&&this.$nextTick((function(){t.$emit("scroll-to",t.$el.offsetTop)}))}},beforeDestroy:function(){this.unselectBlock()}},Vr=Mr,Fr=(0,g.Z)(Vr,Pr,Er,!1,null,"022e4340",null),Ur=Fr.exports,Wr=n(1124),zr={name:"A17editorPreview",props:{bgColor:{type:String,default:"#FFFFFF"},hasBlockActive:{props:{type:Boolean,default:!1}}},mixins:[Zr.tD,Zr.NF],components:{draggable:qe(),"a17-editor-block-preview":Ur,"a17-blockeditor-model":Sr["default"],"a17-spinner":Wr.Z},data:function(){return{loading:!1,blockSelectIndex:-1,handle:".editorPreview__dragger"}},computed:{previewClass:function(){var t=Or()(this.bgColor);return{"editorPreview--dark":t.getBrightness()<180,"editorPreview--loading":this.loading}},previewStyle:function(){return{"background-color":this.bgColor}}},methods:{onAdd:function(t,e,n){var r=n.item,o={};o.title=r.getAttribute("data-title"),o.component=r.getAttribute("data-component"),o.icon=r.getAttribute("data-icon");var i=Math.max(0,n.newIndex);this.addAndEditBlock(t,e,{block:o,index:i}),this._selectBlock(null,i)},onUpdate:function(t){var e=t.oldIndex,n=t.newIndex;this.$emit("blocks:move",{oldIndex:e,newIndex:n})},_selectBlock:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;e&&this.selectBlock(e,n),this.blockSelectIndex!==n&&(this.unSubscribe(),this.blockSelectIndex=n,this._unSubscribeInternal=this.$store.subscribe((function(e){a.c6.REFRESH_BLOCK_PREVIEW.includes(e.type)&&(a.c6.REFRESH_BLOCK_PREVIEW_ALL.includes(e.type)?t.getAllPreviews():t.getPreview(n))})))},_unselectBlock:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.blockSelectIndex;this.unSubscribe(),this.getPreview(e),this.unselectBlock(t,e),this.blockSelectIndex=-1},_deleteBlock:function(t){this.unSubscribe(),this.deleteBlock(t)},_cloneBlock:function(t,e){this.cloneBlock(t),this.getPreview(e+1)},unSubscribe:function(){this._unSubscribeInternal&&(this._unSubscribeInternal(),this._unSubscribeInternal=null)},getAllPreviews:function(){var t=this;this.loading=!0,this.$store.dispatch(s.ZP.GET_ALL_PREVIEWS,{editorName:this.editorName}).then((function(){t.$nextTick((function(){t.loading=!1}))}))},getPreview:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.loading=!0,this.$store.dispatch(s.ZP.GET_PREVIEW,{editorName:this.editorName,index:e}).then((function(){t.$nextTick((function(){t.loading=!1}))}))},scrollToActive:function(t){this.$refs.previewContent.$el.scrollTop=Math.max(0,t-20)},resizeAllIframes:function(){this.$refs.blockPreview&&this.$refs.blockPreview.forEach((function(t){t.$refs.blockIframe.resize()}))},_resize:b()((function(){this.resizeAllIframes()}),200),init:function(){window.addEventListener("resize",this._resize)},dispose:function(){window.removeEventListener("resize",this._resize)}},mounted:function(){var t=this;this.init(),this.$nextTick((function(){t.getAllPreviews()}))},beforeDestroy:function(){this.dispose()},watch:{editorName:function(){this.unSubscribe(),this.getAllPreviews()},hasBlockActive:function(t){t||(this.unSubscribe(),this.blockSelectIndex=-1)}}},Gr=zr,qr=(0,g.Z)(Gr,_r,wr,!1,null,"822d85b0",null),Yr=qr.exports,Kr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editorSidebar"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasBlockActive,expression:"hasBlockActive"}]},[e("a17-blocks-list",{attrs:{"editor-name":t.editorName},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.allSavedBlocks;return[e("div",{staticClass:"editorSidebar__edit-list"},t._l(r,(function(n){return e("a17-blockeditor-model",{key:n.id,attrs:{block:n,"editor-name":t.editorName},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.block,i=n.isActive,a=n.blockIndex,s=n.move,l=n.remove,c=n.unEdit;return[e("div",{staticClass:"editorSidebar__edit-block"},[e("a17-sidebar-block-item",{directives:[{name:"show",rawName:"v-show",value:i,expression:"isActive"}],attrs:{block:o,blockIndex:a,blocksLength:r.length},on:{"block:move":s,"block:delete":function(e){return t.deleteBlock(l)}}}),e("div",{staticClass:"editorSidebar__actions"},[e("a17-button",{attrs:{variant:"action"},on:{click:function(e){return t.saveBlock(c,a)}}},[t._v(" "+t._s(t.$trans("editor.done"))+" ")]),e("a17-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.cancelBlock(c,a)}}},[t._v(" "+t._s(t.$trans("editor.cancel"))+" ")])],1)],1)]}}],null,!0)})})),1)]}}])})],1),t.hasBlockActive?t._e():[e("div",{staticClass:"editorSidebar__list"},[e("a17-sidebar-block-list",{attrs:{blocks:t.blocks}})],1),e("div",{staticClass:"editorSidebar__actions"},[t.isSubmitDisabled(t.submitOptions[0])?e("a17-button",{attrs:{variant:"validate",disabled:!0}},[t._v(t._s(t.submitOptions[0].text))]):e("a17-button",{attrs:{name:t.submitOptions[0].name,variant:"validate"},on:{click:function(e){return t.saveForm(t.submitOptions[0].name)}}},[t._v(t._s(t.submitOptions[0].text))])],1)]],2)},Hr=[],Jr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editorSidebar__item"},[e("div",{staticClass:"editorSidebar__title"},[e("div",{staticClass:"editorSidebar__blockTitle"},[e("a17-dropdown",{ref:"blockDropdown",staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270}},[e("span",{staticClass:"editorSidebar__counter f--tiny",on:{click:t.toggleBlockDropdown}},[t._v(t._s(t.blockIndex+1))]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.blocksLength,(function(n){return e("button",{key:n,attrs:{type:"button"},on:{click:function(e){return t.moveBlock(n-1)}}},[t._v(" "+t._s(n)+" ")])})),0)]),t._v(" "+t._s(t.block.title)+" ")],1),e("span",[e("a",{staticClass:"f--small f--note f--underlined",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteBlock.apply(null,arguments)}}},[t._v(t._s(t.$trans("editor.delete")))])])]),e("div",{staticClass:"editorSidebar__body"},[e("a17-inputframe",{attrs:{label:"",name:"block.".concat(t.block.id)}}),[e("".concat(t.block.type),t._b({key:"`editor_${block.type}_${block.id}`",tag:"component",attrs:{name:"blocks[".concat(t.block.id,"]")}},"component",t.setBlockAttributes(t.block.attributes),!1))]],2)])},Xr=[];function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function to(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?to(Object(n),!0).forEach((function(e){no(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function no(t,e,n){return e=ro(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ro(t){var e=oo(t,"string");return"symbol"===Qr(e)?e:String(e)}function oo(t,e){if("object"!==Qr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var io={name:"A17EditorSidebarBlockItem",mixins:[Zr.R0],methods:{setBlockAttributes:function(t){return eo({keepAlive:!0},t)}}},ao=io,so=(0,g.Z)(ao,Jr,Xr,!1,null,"1275ea0e",null),lo=so.exports,co=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editorSidebar__listItems"},[e("draggable",{staticClass:"editorSidebar__blocks",class:t.editorSidebarClasses,attrs:{options:{group:{name:"editorBlocks",pull:"clone",put:!1},handle:".editorSidebar__button"}},model:{value:t.blocks,callback:function(e){t.blocks=e},expression:"blocks"}},t._l(t.blocks,(function(n){return e("div",{key:n.component,staticClass:"editorSidebar__button",attrs:{"data-title":n.title,"data-icon":n.icon,"data-component":n.component}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:t.iconSymbol(n.icon)}}),e("span",{staticClass:"editorSidebar__buttonLabel"},[t._v(t._s(n.title))])])})),0)],1)},uo=[],fo={name:"A17EditorSidebarBlockList",props:{blocks:{type:Array,default:function(){return[]}},inFieldset:{type:Boolean,default:!1}},mixins:[Zr.tD],components:{draggable:qe()},computed:{editorSidebarClasses:function(){return{"editorSidebar__blocks--in-fieldset":this.inFieldset}}},methods:{iconSymbol:function(t){return this.hasLgIconVariation(t)?"".concat(t,"-lg"):t},hasLgIconVariation:function(t){return Boolean(document.querySelector("#icon--".concat(t,"-lg")))}}},po=fo,mo=(0,g.Z)(po,co,uo,!1,null,"0f803405",null),bo=mo.exports,vo={name:"A17editorSidebar",props:{hasBlockActive:{type:Boolean,default:!1},activeBlock:{type:Object,default:function(){}},editorName:{type:String,required:!0},editorNames:{type:Array,default:function(){return[]}}},components:{"a17-sidebar-block-item":lo,"a17-sidebar-block-list":bo,"a17-blocks-list":gr["default"],"a17-blockeditor-model":Sr["default"]},mixins:[Zr.NF],computed:{submitOptions:function(){return this.$store.getters.getSubmitOptions}},methods:{isSubmitDisabled:function(t){return!!t.hasOwnProperty("disabled")&&!0===t.disabled},saveForm:function(t){this.$store.commit(a.V1.UPDATE_SAVE_TYPE,t),this.$root.submitForm&&this.$root.submitForm()}}},ho=vo,yo=(0,g.Z)(ho,Kr,Hr,!1,null,"7c217157",null),go=yo.exports;function _o(t){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(t)}function wo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wo(Object(n),!0).forEach((function(e){Oo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oo(t,e,n){return e=So(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function So(t){var e=Po(t,"string");return"symbol"===_o(e)?e:String(e)}function Po(t,e){if("object"!==_o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Eo,xo={name:"A17Editor",components:{"a17-editorsidebar":go,"a17-editorpreview":Yr,"a17-blocks-list":gr["default"]},props:{bgColor:{type:String,default:"#FFFFFF"},previewSandbox:{type:[Boolean,Array],default:!0}},data:function(){return{editorName:null,editorOpen:!1,htmlEditorClass:Zn.Z.editor}},computed:ko(ko(ko({currentEditorLabel:function(){var t=this,e=this.editorNames&&this.editorNames.find((function(e){return e.value===t.editorName}));return e&&e.label}},(0,o.rn)({revisions:function(t){return t.revision.all},editorNamesBase:function(t){return t.blocks.editorNames}})),(0,o.Se)(["blocks"])),{},{editorNames:function(){return this.editorNamesBase.filter((function(t){return!1===t.nested}))}}),provide:function(){return{sandbox:this.previewSandbox}},methods:{initEditorName:function(){if(!this.editorName){var t=this.editorNames[0]&&this.editorNames[0].value;this.updateEditorName(t)}},updateEditorName:function(t){this.editorName!==t&&(this.editorName=t)},open:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&this.updateEditorName(e),this.editorOpen=!0,this.$refs.overlay.open()},close:function(){this.editorOpen=!1},resize:function(){window.addEventListener("mousemove",this.resizeSidebar,!1),window.addEventListener("mouseup",this.stopResizeSidebar,!1)},resizeSidebar:function(t){var e=this.$refs.sidebar,n=window.innerWidth;e&&(e.style.width=(t.clientX-e.offsetLeft)/n*100+"%")},stopResizeSidebar:function(){window.removeEventListener("mousemove",this.resizeSidebar,!1),window.removeEventListener("mouseup",this.stopResizeSidebar,!1),this.$refs.previews.resizeAllIframes()},openPreview:function(){this.$root.$refs.preview&&this.$root.$refs.preview.open()}},created:function(){this.initEditorName()}},Co=xo,jo=(0,g.Z)(Co,hr,yr,!1,null,"05dfc68c",null),Lo=jo.exports,Do=n(3242),To=n(6808),Bo=function(){var t=this,e=t._self._c;return e("a17-modal",{ref:"modal",staticClass:"modal--form",attrs:{title:t.modalTitle,forceClose:!0}},[e("form",{attrs:{action:t.formCreate},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t._t("default"),e("a17-modal-validation",{attrs:{"is-disable":!0}})],2)])},Io=[],Ao=n(5512),No={name:"A17ModalAdd",mixins:[Ao.Z],props:{name:{type:String,default:""},modalTitle:{type:String,default:"Add new"},formCreate:{type:String,default:"#"}},components:{"a17-modal-validation":E.Z},methods:{open:function(){this.$refs.modal&&this.$refs.modal.open()},submit:function(){if(this.isSubmitPrevented)this.shouldRetrySubmitWhenAllowed=!0;else if(!this._isSubmitting){this._isSubmitting=!0;var t=this;this.$store.commit(a.Yc.UPDATE_FORM_LOADING,!0);var e=document.activeElement.name;this.$nextTick((function(){this.$store.dispatch(s.ZP.CREATE_FORM_IN_MODAL,{name:this.name,endpoint:this.formCreate,method:"post"}).then((function(){t.$refs.modal&&t.$refs.modal.close(),t.$nextTick((function(){t.$store.commit(a.qq.SET_NOTIF,{message:"Your content has been added",variant:"success"}),"create-another"===e&&t.$refs.modal&&t.$refs.modal.open()}))}),(function(e){t.$store.commit(a.qq.SET_NOTIF,{message:"Your content can not be added, please retry",variant:"error"})}))}))}}}},$o=No,Ro=(0,g.Z)($o,Bo,Io,!1,null,null,null),Zo=Ro.exports,Mo=n(890);function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function Fo(t,e,n){return e=Uo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uo(t){var e=Wo(t,"string");return"symbol"===Vo(e)?e:String(e)}function Wo(t,e){if("object"!==Vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var zo,Go,qo={withPublicationToggle:window["TWILL"].STORE.publication.withPublicationToggle||!1,published:window["TWILL"].STORE.publication.published||!1,publishSubmit:window["TWILL"].STORE.publication.published||!window["TWILL"].STORE.publication.withPublicationToggle?"update":"live",publishedLabel:window["TWILL"].STORE.publication.publishedLabel||"Live",draftLabel:window["TWILL"].STORE.publication.draftLabel||"Draft",expiredLabel:window["TWILL"].STORE.publication.expiredLabel||"Expired",scheduledLabel:window["TWILL"].STORE.publication.scheduledLabel||"Scheduled",withPublicationTimeframe:window["TWILL"].STORE.publication.withPublicationTimeframe||!1,startDate:window["TWILL"].STORE.publication.startDate||null,endDate:window["TWILL"].STORE.publication.endDate||null,visibility:window["TWILL"].STORE.publication.visibility||!1,reviewProcess:window["TWILL"].STORE.publication.reviewProcess||[],userInfo:window["TWILL"].STORE.publication.userInfo||null,createWithoutModal:window["TWILL"].STORE.publication.createWithoutModal||!1,hasUnsavedChanges:!1,saveType:void 0,visibilityOptions:[{value:"public",label:"Public"},{value:"private",label:"Private"}],submitDisableMessage:window["TWILL"].STORE.publication.submitDisableMessage||"",submitOptions:window["TWILL"].STORE.publication.submitOptions||{draft:[{name:"save",text:window.$trans("publisher.save","Save as draft"),disabled:!1},{name:"save-close",text:window.$trans("publisher.save-close","Save as draft and close"),disabled:!1},{name:"save-new",text:window.$trans("publisher.save-new","Save as draft and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}],live:[{name:"publish",text:window.$trans("publisher.publish","Publish"),disabled:!1},{name:"publish-close",text:window.$trans("publisher.publish-close","Publish and close"),disabled:!1},{name:"publish-new",text:window.$trans("publisher.publish-new","Publish and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}],update:[{name:"update",text:window.$trans("publisher.update","Update"),disabled:!1},{name:"update-close",text:window.$trans("publisher.update-close","Update and close"),disabled:!1},{name:"update-new",text:window.$trans("publisher.update-new","Update and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}]}},Yo={reviewProcessComplete:function(t){return t.reviewProcess.filter((function(t){return t.checked}))},getSubmitOptions:function(t){return t.published||!t.withPublicationToggle?t.submitOptions[t.publishSubmit]:t.submitOptions.draft},isEnabledSubmitOption:function(t,e){return function(t){var n=!0,r={},o=e.getSubmitOptions.filter((function(e){return e.name===t}));return o.length&&(r=o[0]),r.hasOwnProperty("disabled")&&(n=!r.disabled),n}},getSaveType:function(t,e){return t.saveType||e.getSubmitOptions[0].name}},Ko=(Eo={},Fo(Eo,a.V1.UPDATE_PUBLISH_START_DATE,(function(t,e){t.startDate=e})),Fo(Eo,a.V1.UPDATE_PUBLISH_END_DATE,(function(t,e){t.endDate=e})),Fo(Eo,a.V1.UPDATE_PUBLISH_STATE,(function(t,e){t.published=e})),Fo(Eo,a.V1.UPDATE_PUBLISH_SUBMIT,(function(t){t.publishSubmit=t.published||!t.withPublicationToggle?"update":"live"})),Fo(Eo,a.V1.UPDATE_PUBLISH_VISIBILITY,(function(t,e){t.visibility=e})),Fo(Eo,a.V1.UPDATE_REVIEW_PROCESS,(function(t,e){var n="",r=-1;e.length&&(n=e[e.length-1],t.reviewProcess.forEach((function(t,e){t.value===n&&(r=e)}))),t.reviewProcess.forEach((function(t,e){t.checked=e<=r,t.disabled=!(e===r||e===r+1)}))})),Fo(Eo,a.V1.UPDATE_SAVE_TYPE,(function(t,e){t.saveType=e})),Fo(Eo,a.V1.UPDATE_HAS_UNSAVED_CHANGES,(function(t,e){t.hasUnsavedChanges=e})),Eo),Ho={state:qo,getters:Yo,mutations:Ko},Jo=n(9065),Xo=n(9669),Qo=n.n(Xo),ti=n(3827),ei={getBlockPreview:function(t,e,n,r){Qo().post(t,e).then((function(t){n&&"function"===typeof n&&n(t.data)}),(function(t){var e={message:"Block preview request error.",value:t};(0,ti.I)("CONTENT",e),r&&"function"===typeof r&&r(t)}))}};function ni(t){return ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(t)}function ri(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ri=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(C){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=c;var d={};function f(){}function p(){}function m(){}var b={};l(b,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(E([])));h&&h!==e&&n.call(h,i)&&(b=h);var y=m.prototype=f.prototype=Object.create(b);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==ni(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(_.prototype),l(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(y),l(y,s,"Generator"),l(y,i,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function oi(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,o)}function ii(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){oi(i,r,o,a,s,"next",t)}function s(t){oi(i,r,o,a,s,"throw",t)}a(void 0)}))}}function ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ai(Object(n),!0).forEach((function(e){li(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function li(t,e,n){return e=ci(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ci(t){var e=ui(t,"string");return"symbol"===ni(e)?e:String(e)}function ui(t,e){if("object"!==ni(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var di,fi,pi={loading:!1,editor:window["TWILL"].STORE.form.editor||!1,editorNames:window["TWILL"].STORE.form.editorNames||[],available:window["TWILL"].STORE.form.availableBlocks||{},blocks:window["TWILL"].STORE.form.blocks||{},previews:window["TWILL"].STORE.form.previews||{},active:{}},mi={previewsById:function(t){return function(e){return t.previews[e]?t.previews[e]:""}},blocks:function(t){return function(e){return t.blocks[e]||[]}},availableBlocks:function(t){return function(e){return t.available[e]||[]}},blockIndex:function(t,e){return function(t,n){return e.blocks(n).findIndex((function(e){return e.id===t.id}))}}},bi=function(){return Date.now()+Math.floor(1e3*Math.random())},vi=(zo={},li(zo,a.RG.ADD_BLOCK,(function(t,e){var n=e.block,o=e.index,i=e.editorName,a=t.blocks[i]||[],s=si(si({},n),{},{id:bi(),name:i});s.twillUi={},s.twillUi.isNew=!0,o>-1?a.splice(o,0,s):a.push(s),r.ZP.set(t.blocks,i,a)})),li(zo,a.RG.MOVE_BLOCK,(function(t,e){var n=e.editorName,o=e.newIndex,i=e.oldIndex,a=t.blocks[n]||[];if(o>=a.length){var s=o-a.length;while(1+s--)a.push(void 0)}a.splice(o,0,a.splice(i,1)[0]),r.ZP.set(t.blocks,n,a)})),li(zo,a.RG.DELETE_BLOCK,(function(t,e){var n=e.editorName,o=e.index,i=t.blocks[n][o].id,a=t.blocks[n]||[];i&&r.ZP["delete"](t.previews,i),a.splice(o,1),r.ZP.set(t.blocks,n,a)})),li(zo,a.RG.DUPLICATE_BLOCK,(function(t,e){var n=e.editorName,o=e.index,i=e.block,a=e.id,s=t.blocks[n]||[];s.splice(o,0,si(si({},i),{},{id:a,name:n})),r.ZP.set(t.blocks,n,s)})),li(zo,a.RG.REORDER_BLOCKS,(function(t,e){var n=e.editorName,o=e.value;r.ZP.set(t.blocks,n,o)})),li(zo,a.RG.ACTIVATE_BLOCK,(function(t,e){var n=e.editorName,r=e.index;t.blocks[n]&&t.blocks[n][r]?t.active=si({},t.blocks[n][r]):t.active={}})),li(zo,a.RG.ADD_BLOCK_PREVIEW,(function(t,e){r.ZP.set(t.previews,e.id,e.html)})),li(zo,a.RG.UPDATE_PREVIEW_LOADING,(function(t,e){t.loading=!t.loading})),zo),hi=function(t,e,n,r){if(t&&t.hasOwnProperty("id")){var o=(0,Jo.BI)(t,n);n.language.all.length>1&&(o.activeLanguage=n.language.active.value),(0,Jo.oH)(o)?(e(a.RG.ADD_BLOCK_PREVIEW,{id:t.id,html:""}),r&&"function"===typeof r&&r()):ei.getBlockPreview(n.form.blockPreviewUrl,o,(function(n){e(a.RG.ADD_BLOCK_PREVIEW,{id:t.id,html:n}),r&&"function"===typeof r&&r()}),(function(t){}))}},yi=(Go={},li(Go,s.ZP.GET_PREVIEW,(function(t,e){var n=t.commit,r=t.state,o=t.rootState,i=e.editorName,a=e.index,s=void 0===a?-1:a,l=r.blocks[i]&&s>=0?si({},r.blocks[i][s]):{};r.active&&r.active.hasOwnProperty("id")&&-1===s&&(l=si({},r.active)),hi(l,n,o)})),li(Go,s.ZP.GET_ALL_PREVIEWS,(function(t,e){var n=t.commit,r=t.state,o=t.rootState,i=e.editorName;if(r.blocks[i]&&r.blocks[i].length>0&&!r.loading){n(a.RG.UPDATE_PREVIEW_LOADING,!0);var s=0,l=r.blocks[i].length;Object.values(r.blocks[i]).forEach((function(t){hi(t,n,o,(function(){s++,s===l&&n(a.RG.UPDATE_PREVIEW_LOADING,!0)}))}))}})),li(Go,s.ZP.DUPLICATE_BLOCK,(function(t,e){return ii(ri().mark((function n(){var r,o,i,s,l;return ri().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.commit,t.state,t.rootState,o=e.editorName,i=e.futureIndex,s=e.block,l=e.id,r(a.RG.DUPLICATE_BLOCK,{editorName:o,index:i,block:s,id:l});case 3:case"end":return n.stop()}}),n)})))()})),li(Go,s.ZP.MOVE_BLOCK_TO_EDITOR,(function(t,e){return ii(ri().mark((function n(){var r,o,i,l,c,u,d;return ri().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=t.dispatch,i=e.editorName,l=e.index,c=e.block,u=e.futureIndex,d=e.id,n.next=4,o(s.ZP.DUPLICATE_BLOCK,{editorName:i,futureIndex:u,block:c,id:d});case 4:r(a.RG.DELETE_BLOCK,{editorName:c.name,index:l});case 5:case"end":return n.stop()}}),n)})))()})),Go),gi={state:pi,getters:mi,mutations:vi,actions:yi},_i=n(6625),wi={getRevisionContent:function(t,e,n,r){Qo().put(t,e).then((function(t){n&&"function"===typeof n&&n(t.data)}),(function(t){var e={message:"Preview request error.",value:t};(0,ti.I)("REVISION",e),r&&"function"===typeof r&&r(t)}))}};function ki(t){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(t)}function Oi(t,e,n){return e=Si(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Si(t){var e=Pi(t,"string");return"symbol"===ki(e)?e:String(e)}function Pi(t,e){if("object"!==ki(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ki(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ei,xi={loading:!1,active:{},activeContent:"",currentContent:"",all:window["TWILL"].STORE.revisions||[]},Ci={},ji=(di={},Oi(di,a.UZ.LOADING_REV,(function(t){t.loading=!0})),Oi(di,a.UZ.UPDATE_REV,(function(t,e){function n(t){return t.id===e}var r=t.all.findIndex(n);t.active=-1!==r?t.all[r]:{}})),Oi(di,a.UZ.UPDATE_REV_CONTENT,(function(t,e){t.loading=!1,t.activeContent=e})),Oi(di,a.UZ.UPDATE_REV_CURRENT_CONTENT,(function(t,e){t.loading=!1,t.currentContent=e})),Oi(di,a.UZ.UPDATE_REV_ALL,(function(t,e){t.all=e})),di),Li=(fi={},Oi(fi,s.ZP.GET_CURRENT,(function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,r){e(a.UZ.LOADING_REV);var o=(0,Jo.zi)(n);n.language.all.length>1&&(o.activeLanguage=n.language.active.value),wi.getRevisionContent(n.form.previewUrl,o,(function(n){e(a.UZ.UPDATE_REV_CURRENT_CONTENT,n),t()}),(function(t){r(t)}))}))})),Oi(fi,s.ZP.GET_REVISION,(function(t){var e=t.commit,n=t.state,r=t.rootState;return new Promise((function(t,o){e(a.UZ.LOADING_REV);var i=0;i=0===Object.keys(n.active).length?n.all[0].id:n.active.id;var s={revisionId:i};r.language.all.length>1&&(s.activeLanguage=r.language.active.value),wi.getRevisionContent(r.form.previewUrl,s,(function(n){e(a.UZ.UPDATE_REV_CONTENT,n),t()}),(function(t){o(t)}))}))})),fi),Di={state:xi,getters:Ci,actions:Li,mutations:ji},Ti=n(2374);function Bi(t){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(t)}function Ii(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ii=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(C){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new P(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=c;var d={};function f(){}function p(){}function m(){}var b={};l(b,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(E([])));h&&h!==e&&n.call(h,i)&&(b=h);var y=m.prototype=f.prototype=Object.create(b);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==Bi(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(_.prototype),l(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(y),l(y,s,"Generator"),l(y,i,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Ai(t){return Zi(t)||Ri(t)||$i(t)||Ni()}function Ni(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $i(t,e){if(t){if("string"===typeof t)return Mi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(t,e):void 0}}function Ri(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Zi(t){if(Array.isArray(t))return Mi(t)}function Mi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vi(Object(n),!0).forEach((function(e){zi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ui(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,o)}function Wi(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ui(i,r,o,a,s,"next",t)}function s(t){Ui(i,r,o,a,s,"throw",t)}a(void 0)}))}}function zi(t,e,n){return e=Gi(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(t){var e=qi(t,"string");return"symbol"===Bi(e)?e:String(e)}function qi(t,e){if("object"!==Bi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Yi={repeaters:window["TWILL"].STORE.form.repeaters||{},availableRepeaters:window["TWILL"].STORE.form.availableRepeaters||{}},Ki={repeatersByBlockId:function(t){return function(e){var n=Object.keys(t.repeaters).filter((function(t){return t.startsWith("blocks-".concat(e))})),r={};return n.forEach((function(e){return r[e]=t.repeaters[e]})),r}}};function Hi(){return Date.now()+Math.floor(1e3*Math.random())}var Ji=(Ei={},zi(Ei,a.Yc.ADD_FORM_BLOCK,(function(t,e){var n=e.name,r=e.type,o={},i=t.availableRepeaters[r],a=!t.repeaters[n];if(i)if(o.id=Hi(),o.type=i.component,o.title=i.title,o.twillUi={},o.twillUi.isNew=!0,a){var s={};s[n]=[],s[n].push(o),t.repeaters=Object.assign({},t.repeaters,s)}else t.repeaters[n].push(o)})),zi(Ei,a.Yc.ADD_REPEATER_FROM_SELECTION,(function(t,e){var n=this,r=e.name,o=e.type,i=t.availableRepeaters[o],s=!t.repeaters[r];if(i){var l={};l[r]=[],e.selection.forEach((function(e){var o={};o.id=Hi(),o.type=i.component,o.title=i.title,o.repeater_target_id=e.id;var c=[];for(var u in e.repeaterFields)e.repeaterFields.hasOwnProperty(u)&&c.push({name:"blocks[".concat(o.id,"][").concat(u,"]"),value:e.repeaterFields[u]});n.commit(a.Yc.ADD_FORM_FIELDS,c),s?l[r].push(o):t.repeaters[r].push(o)})),s&&(t.repeaters=Object.assign({},t.repeaters,l))}})),zi(Ei,a.Yc.DELETE_FORM_BLOCK,(function(t,e){t.repeaters[e.name].splice(e.index,1)})),zi(Ei,a.Yc.DUPLICATE_FORM_BLOCK,(function(t,e){var n=Object.assign({},t.repeaters[e.name][e.index]);n.id=Hi(),n.twillUi={},n.twillUi.isNew=!0,t.repeaters[e.name].splice(e.index+1,0,n)})),zi(Ei,a.Yc.REORDER_FORM_BLOCKS,(function(t,e){var n={};n[e.name]=e.blocks,t.repeaters=Object.assign({},t.repeaters,n)})),zi(Ei,a.Yc.ADD_REPEATERS,(function(t,e){var n=e.repeaters;t.repeaters=Object.assign({},t.repeaters,n)})),Ei),Xi=zi({},s.ZP.DUPLICATE_BLOCK,(function(t,e){return Wi(Ii().mark((function n(){var r,o,i,s,l,c,u,d;return Ii().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.commit,o=t.getters,i=e.block,s=e.id,l=Fi({},o.repeatersByBlockId(i.id)),c=Object.keys(l),u={},c.forEach((function(t){return u[t.replace(i.id,s)]=Ai(l[t])})),d=[],Object.keys(u).forEach((function(t){u[t].forEach((function(e,n){var r=Date.now()+Math.floor(1e3*Math.random()),i=Ai(o.fieldsByBlockId(e.id));u[t][n]=Fi(Fi({},u[t][n]),{},{id:r}),i.forEach((function(t){d.push({name:t.name.replace(e.id,r),value:t.value})}))}))})),r(a.Yc.ADD_REPEATERS,{repeaters:u}),r(a.Yc.ADD_FORM_FIELDS,d);case 10:case"end":return n.stop()}}),n)})))()})),Qi={state:Yi,getters:Ki,mutations:Ji,actions:Xi};function ta(t){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(t)}function ea(t,e,n){return e=na(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function na(t){var e=ra(t,"string");return"symbol"===ta(e)?e:String(e)}function ra(t,e){if("object"!==ta(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var oa={active:window["TWILL"].STORE.parentId||0,all:window["TWILL"].STORE.parents||[]},ia={},aa=ea({},a.Lp.UPDATE_PARENT,(function(t,e){t.active=e||0})),sa={state:oa,getters:ia,mutations:aa},la=n(7224),ca={groups:window["TWILL"].STORE.groups||[],groupUserMapping:window["TWILL"].STORE.groupUserMapping||[]},ua={state:ca},da=n(1483),fa=n(4084),pa=n(5340),ma=n(361),ba=n.n(ma),va=n(9734),ha=n.n(va);function ya(t){return ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(t)}function ga(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ga(Object(n),!0).forEach((function(e){wa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wa(t,e,n){return e=ka(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ka(t){var e=Oa(t,"string");return"symbol"===ya(e)?e:String(e)}function Oa(t,e){if("object"!==ya(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}r.ZP.use(Do.Z),r.ZP.use(To.Z),i.Z.registerModule("form",Mo.Z),i.Z.registerModule("publication",Ho),i.Z.registerModule("blocks",gi),i.Z.registerModule("language",_i.Z),i.Z.registerModule("revision",Di),i.Z.registerModule("browser",Ti.Z),i.Z.registerModule("repeaters",Qi),i.Z.registerModule("parents",sa),i.Z.registerModule("attributes",la.Z),i.Z.registerModule("permissions",ua),r.ZP.component("a17-fieldset",d.Z),r.ZP.component("a17-publisher",Le),r.ZP.component("a17-title-editor",Z),r.ZP.component("a17-blocks",Ue["default"]),r.ZP.component("a17-page-nav",Fe),r.ZP.component("a17-langswitcher",M.Z),r.ZP.component("a17-sticky-nav",w),r.ZP.component("a17-spinner",Wr.Z),r.ZP.component("a17-repeater",sn),r.ZP.component("a17-browser",Nn.Z),r.ZP.component("a17-connectorfield",An),r.ZP.component("a17-locationfield",wn),r.ZP.component("a17-overlay",Xn),r.ZP.component("a17-previewer",vr),r.ZP.component("a17-editor",Lo),r.ZP.component("a17-modal-add",Zo);var Sa=function(t,e){return!r.ZP.options.components[t]&&r.ZP.component(t,e)};"undefined"!==typeof window["TWILL"].TWILL_BLOCKS_COMPONENTS&&window["TWILL"].TWILL_BLOCKS_COMPONENTS.map((function(t){return Sa(t,{template:"#"+t,mixins:[pa.Z]})}));var Pa=function(t){return"a17-".concat(t.match(/\w+/)[0].replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase())},Ea=n(9259);Ea.keys().map((function(t){var e=Pa(t.replace(/customs\//,""));return Sa(e,Ea(t).default)}));var xa=n(1837);xa.keys().map((function(t){var e=Pa(t);return Sa(e,xa(t).default)}));var Ca=n(1479);Ca.keys().map((function(t){var e=Pa(t);return r.ZP.component(e,Ca(t).default)}));var ja=n(7574);ja.keys().map((function(t){var e=Pa(t);return r.ZP.component(e,ja(t).default)})),window["TWILL"].vm=window.vm=new r.ZP({store:i.Z,el:"#app",mixins:[da.Z,fa.Z,Ao.Z],data:function(){return{unSubscribe:function(){return null},isFormUpdated:!1}},computed:_a(_a({},(0,o.rn)({loading:function(t){return t.form.loading},editor:function(t){return t.blocks.editor},isCustom:function(t){return t.form.isCustom}})),(0,o.Se)(["getSaveType","isEnabledSubmitOption"])),methods:{submitForm:function(){var t=this;this.isSubmitPrevented?this.shouldRetrySubmitWhenAllowed=!0:this.loading||(this.isFormUpdated=!1,this.$store.commit(a.Yc.UPDATE_FORM_LOADING,!0),this.unSubscribe(),this.$nextTick((function(){var e=t.getSaveType||document.activeElement.name;t.isEnabledSubmitOption(e)?t.$store.dispatch(s.ZP.SAVE_FORM,e).then((function(){t.mutationsSubscribe()})):(t.$store.commit(a.Yc.UPDATE_FORM_LOADING,!1),t.mutationsSubscribe())})))},confirmExit:function(t){if(this.isFormUpdated&&!this.isCustom)return"message";void 0!==window.event?window.event.cancelBubble=!0:t.cancelBubble=!0},mutationsSubscribe:function(){var t=this;this.unSubscribe=this.$store.subscribe((function(e,n){l.d.includes(e.type)&&(t.isFormUpdated=!0,t.unSubscribe())}))},watchForFormUpdates:function(t,e){var n=this,r="form"===t&&("fields"===e||"modalFields"===e),o=this.sortObjectArraysDeep(ba()(this.$store.state[t][e]),r);this.$store.watch((function(n){return n[t][e]}),(function(t){var e=n.sortObjectArraysDeep(ba()(t),r);n.isFormUpdated=!dn()(o,e),n.$store.commit(a.V1.UPDATE_HAS_UNSAVED_CHANGES,n.isFormUpdated)}),{deep:!0})},sortArrayByFirstKey:function(t){return ha()(t,(function(t){if("object"===ya(t)){var e=Object.keys(t)[0];return t[e]}return t}))},sortObjectArraysDeep:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)&&n?t=this.sortArrayByFirstKey(t):Object.keys(t).forEach((function(r){Array.isArray(t[r])?n&&(t[r]=e.sortArrayByFirstKey(t[r])):"object"===ya(t[r])&&(t[r]=e.sortObjectArraysDeep(t[r]))})),t}},mounted:function(){var t=this;window.onbeforeunload=this.confirmExit,this.$nextTick((function(){t.watchForFormUpdates("mediaLibrary","selected"),t.watchForFormUpdates("form","fields"),t.watchForFormUpdates("form","modalFields"),t.watchForFormUpdates("blocks","blocks"),t.watchForFormUpdates("browser","selected"),t.watchForFormUpdates("repeaters","repeaters")}))},beforeDestroy:function(){this.unSubscribe()},created:function(){(0,u.Z)()}}),document.addEventListener("DOMContentLoaded",c.Z)},5340:function(t,e){"use strict";e["Z"]={props:{name:{type:String,required:!0},isOpen:{type:Boolean,default:!1}},data:function(){return{opened:this.isOpen}},methods:{open:function(){this.opened=!0},fieldName:function(t){return this.name+"["+t+"]"},repeaterName:function(t){return this.name.replace("[","-").replace("]","")+"|"+t},nestedEditorName:function(t){return this.name.replace("[","-").replace("]","")+"|"+t}}}},3677:function(t,e,n){"use strict";var r=n(361),o=n.n(r);e["Z"]={props:{editorName:{type:String,required:!0},blocks:{type:Array,default:function(){return[]}},savedBlocksLength:{type:Number,default:0}},methods:{addAndEditBlock:function(t,e,n){var r=n.block,i=n.index;window["TWILL"].PREVSTATE=o()(this.$store.state),t(r,i),e(i)},saveBlock:function(t,e){window["TWILL"].hasOwnProperty("PREVSTATE")&&delete window["TWILL"].PREVSTATE,this.unselectBlock(t,e),this.$emit("block:save",e)},cancelBlock:function(t,e){window["TWILL"].hasOwnProperty("PREVSTATE")&&(console.warn("Store - Restore previous Store state"),this.$store.replaceState(window["TWILL"].PREVSTATE)),this.unselectBlock(t,e),this.$emit("block:cancel",e)},selectBlock:function(t,e){window["TWILL"].PREVSTATE=o()(this.$store.state),t(),this.$emit("block:select",e)},unselectBlock:function(t,e){t(),window["TWILL"].hasOwnProperty("PREVSTATE")&&delete window["TWILL"].PREVSTATE,this.$emit("block:unselect",e)},moveBlock:function(t){this.$emit("block:move",t)},cloneBlock:function(t){t(),this.$emit("block:clone")},deleteBlock:function(t){var e=this;this.$root.$refs.warningContentEditor?this.$root.$refs.warningContentEditor.open((function(){t(),e.$emit("block:delete")})):(t(),this.$emit("block:delete"))}}}},6591:function(t,e){"use strict";e["Z"]={props:{block:{type:Object,default:function(){}},blockIndex:{type:Number,default:0},blocksLength:{type:Number,default:0}},methods:{selectBlock:function(){this.$emit("block:select")},unselectBlock:function(){this.$emit("block:unselect")},deleteBlock:function(){this.$emit("block:delete")},moveBlock:function(t){this.$emit("block:move",t)},cloneBlock:function(){this.$emit("block:clone")},toggleBlockDropdown:function(){this.blocksLength>1&&this.$refs.blockDropdown&&this.$refs.blockDropdown.toggle()}}}},9253:function(t,e,n){"use strict";var r=n(629),o=n(3145),i=n(4181);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e=u(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Boolean,Boolean,l(l({rows:{get:function(){return this.$store.state.datatable.data},set:function(t){var e=this.rows.length!==t.length;this.$store.commit(i.yY.UPDATE_DATATABLE_DATA,t),this.saveNewTree(e)}},isEmpty:function(){return this.rows.length<=0},isEmptyDatable:function(){return{"datatable__table--empty":this.isEmpty}}},(0,r.rn)({columns:function(t){return t.datatable.columns}})),(0,r.Se)(["visibleColumns","hideableColumns","visibleColumnsNames"]))},3865:function(t,e,n){"use strict";var r=n(629),o=n(9952),i=n(3145),a=n(4181),s=n(484);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e=f(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){var e=p(t,"string");return"symbol"===l(e)?e:String(e)}function p(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}u({editInModal:function(){return!!this.row.hasOwnProperty("editInModal")&&this.row.editInModal},editUrl:function(){return this.row.hasOwnProperty("edit")?this.row.edit:"#"},updateUrl:function(){return this.row.updateUrl?this.row.updateUrl:"#"}},(0,r.rn)({bulkIds:function(t){return t.datatable.bulk}}))},7710:function(){"use strict";Boolean},4084:function(t,e){"use strict";e["Z"]={methods:{openEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$root.$refs.editor&&this.$root.$refs.editor.open(t,e)}}}},1483:function(t,e,n){"use strict";var r=n(629),o=n(4181),i=n(1633);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e=u(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["Z"]={filters:i.Z,computed:l({},(0,r.rn)({currentLocale:function(t){return t.language.active}})),methods:{formatPermalink:function(t){var e=this.$refs.permalink;if(e&&t){var n="";t.value&&"string"===typeof t.value?n=t.value:"string"===typeof t&&(n=t);var r=this.$options.filters.slugify(n),i={name:e.attributes?e.attributes.name:e.name,value:r};t.locale?i.locale=t.locale:i.locale=this.currentLocale.value,this.$store.commit(o.Yc.UPDATE_FORM_FIELD,i)}}}}},7591:function(t,e,n){"use strict";n.d(e,{NF:function(){return o.Z},R0:function(){return r.Z},Rb:function(){return a.Z},tD:function(){return i.Z}});n(6193),n(5340);var r=n(6591),o=n(3677),i=(n(5445),n(2544),n(5602),n(9253),n(3865),n(8382)),a=n(4084);n(1483),n(2240),n(35),n(6830),n(8348),n(2954),n(9160),n(1017),n(7710),n(9464),n(325),n(9996)},4181:function(t,e,n){"use strict";n.d(e,{CV:function(){return r.ZP},DF:function(){return c.ZP},Lp:function(){return m.Z},N0:function(){return b.ZP},RG:function(){return s.ZP},UZ:function(){return d.ZP},Uv:function(){return a.ZP},V1:function(){return f.ZP},Yc:function(){return i.ZP},ad:function(){return u.ZP},c6:function(){return l.Z},qq:function(){return o.ZP},yY:function(){return p.ZP}});var r=n(9193),o=n(484),i=n(9628),a=n(7763),s=n(1171),l=n(3853),c=n(4108),u=n(4576),d=(n(8968),n(2541)),f=n(1663),p=n(4973),m=n(232),b=(n(1003),n(7264))}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,i){if(!r){var a=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],i=t[u][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.j=821}(),function(){var t={821:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var u=l(n)}for(e&&e(r);c<a.length;c++)i=a[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},r=self["webpackChunk_area17_twill"]=self["webpackChunk_area17_twill"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998,64],(function(){return n(658)}));r=n.O(r)})();
"use strict";(self["webpackChunk_area17_twill"]=self["webpackChunk_area17_twill"]||[]).push([[64],{2279:function(e,t,n){n.d(t,{Z:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{class:e.avatarClasses},[e.thumbnail?t("img",{attrs:{src:e.thumbnail,alt:e.name}}):e._e(),t("span",{staticClass:"avatar__letter"},[e._v(e._s(e.nameFirstLetter))])])},r=[],a={name:"A17Avatar",props:{name:{type:String,default:null},thumbnail:{type:String,default:null}},computed:{avatarClasses:function(){return["avatar",this.getBackgroundColor]},getBackgroundColor:function(){var e=["orange","blue","purple","red"],t=this.name.length%e.length;return"avatar--background-".concat(e[t])},nameFirstLetter:function(){return this.name.charAt(0)}}},o=a,s=n(1001),l=(0,s.Z)(o,i,r,!1,null,"44a53510",null),u=l.exports},5989:function(e,t,n){n.d(t,{Z:function(){return P}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"browser"},[t("div",{staticClass:"browser__frame"},[t("div",{ref:"form",staticClass:"browser__header"},[e.multiSources?t("div",{staticClass:"browser__sources"},[t("a17-vselect",{staticClass:"browser__sources-select",attrs:{name:"sources",selected:e.currentEndpoint,options:e.endpoints,required:!0},on:{change:e.changeBrowserSource}})],1):e._e(),t("div",{staticClass:"browser__search"},[t("a17-filter",{on:{submit:e.submitFilter}},[e.browserNote?t("div",{attrs:{slot:"additional-actions"},slot:"additional-actions"},[t("span",{staticClass:"browser__note f--small"},[e._v(" "+e._s(e.browserNote)+" ")])]):e._e()])],1)]),t("div",{staticClass:"browser__inner"},[t("div",{ref:"list",staticClass:"browser__list"},[t("a17-itemlist",{attrs:{items:e.fullItems,keysToCheck:["id","edit"],selectedItems:e.selectedItems},on:{change:e.updateSelectedItems}})],1)]),t("div",{staticClass:"browser__footer"},[t("a17-button",{attrs:{type:"button",variant:"action"},on:{click:e.saveAndClose}},[e._v(e._s(e.browserTitle))]),t("span",{staticClass:"browser__size-infos"},[e._v(e._s(e.selectedItems.length)+" / "+e._s(e.max))])],1)])])},r=[],a=n(629),o=n(4181),s=n(5573),l=n(7713),u=n(1385);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e){return m(e)||h(e)||p(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t=_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=w(e,"string");return"symbol"===c(t)?t:String(t)}function w(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var E={name:"A17Browser",components:{"a17-filter":l.Z,"a17-itemlist":u.Z},props:{btnLabel:{type:String,default:"Insert"},btnMultiLabel:{type:String,default:"Insert files"},initialPage:{type:Number,default:1}},data:function(){return{maxPage:20,fullItems:[],listHeight:0,page:this.initialPage}},computed:g({currentEndpoint:function(){var e=this;return this.endpoints.find((function(t){return t.value===e.endpoint}))},multiSources:function(){return this.endpoints.length>0},selectedItems:{get:function(){return this.selected[this.connector]||[]},set:function(e){this.$store.commit(o.Uv.SAVE_ITEMS,e)}}},(0,a.rn)({connector:function(e){return e.browser.connector},max:function(e){return e.browser.max},endpoint:function(e){return e.browser.endpoint},endpointName:function(e){return e.browser.endpointName},endpoints:function(e){return e.browser.endpoints},browserTitle:function(e){return e.browser.title},browserNote:function(e){return e.browser.note},selected:function(e){return e.browser.selected}})),methods:{updateSelectedItems:function(e){var t=this.multiSources?["id","endpointType"]:["id"],n=this.fullItems.some((function(n){return t.every((function(t){return n[t]===e[t]}))}));if(n){var i=this.selectedItems.some((function(n){return t.every((function(t){return n[t]===e[t]}))}));if(i){var r=this.selectedItems.findIndex((function(n){return t.every((function(t){return n[t]===e[t]}))}));if(r<0)return;var a=d(this.selectedItems);a.splice(r,1),this.selectedItems=a}else{if(1===this.max&&this.clearSelectedItems(),this.selectedItems.length>=this.max&&this.max>0)return;this.selectedItems=[].concat(d(this.selectedItems),[e])}}},getFormData:function(e){var t=(0,s.Z)(e);return t?t.page=this.page:t={page:this.page},t},clearSelectedItems:function(){this.selectedItems=[]},clearFullItems:function(){this.fullItems.splice(0)},reloadList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.page=1);var n=this.$refs.form,i=this.$refs.list,r=this.getFormData(n);this.$http.get(this.endpoint,{params:r}).then((function(n){var r;t&&e.clearFullItems(),(r=e.fullItems).push.apply(r,d(n.data.data)),e.$nextTick((function(){e.listHeight!==i.scrollHeight&&(e.listHeight=i.scrollHeight,i.addEventListener("scroll",e.scrollToPaginate))}))}),(function(e){}))},submitFilter:function(){this.page=1,this.clearFullItems(),this.reloadList()},scrollToPaginate:function(){var e=this.$refs.list;e.scrollTop+e.clientHeight>this.listHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page&&(this.page=this.page+1,this.reloadList()))},saveAndClose:function(){this.$store.commit(o.Uv.SAVE_ITEMS,this.selectedItems),this.$parent.close()},changeBrowserSource:function(e){this.$store.commit(o.Uv.UPDATE_BROWSER_ENDPOINT,e),this.reloadList(!0)}},mounted:function(){this.reloadList()}},S=E,O=n(1001),T=(0,O.Z)(S,i,r,!1,null,"0de50c6f",null),P=T.exports},9980:function(e,t,n){n.d(t,{Z:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown",class:e.dropdownClasses,attrs:{"aria-title":e.title}},[e.fixed?t("div",{ref:"dropdown__cta"},[e._t("default")],2):e._t("default"),t("transition",{attrs:{name:"fade_move_dropdown"}},[e.active?t("div",{ref:"dropdown__position",staticClass:"dropdown__position"},[t("div",{staticClass:"dropdown__content",style:e.offsetStyle,attrs:{"data-dropdown-content":""}},[t("div",{staticClass:"dropdown__inner"},[e.arrow?t("span",{staticClass:"dropdown__arrow"}):e._e(),t("div",{staticClass:"dropdown__scroller",style:e.innerStyle},[e.title?t("span",{staticClass:"dropdown__title f--small"},[e._v(e._s(e.title))]):e._e(),e._t("dropdown__content")],2)])])]):e._e()])],2)},r=[],a={name:"A17Dropdown",props:{title:{type:String,default:""},position:{type:String,default:"bottom"},width:{type:String,default:"auto"},maxWidth:{type:Number,default:300},maxHeight:{type:Number,default:0},minWidth:{type:Number,default:0},arrow:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},offset:{type:Number,default:5},sideOffset:{type:Number,default:0},fixed:{type:Boolean,default:!1}},data:function(){return{currentPosition:this.position,currentHeight:100,currentMaxWidth:this.maxWidth,active:!1,originScrollPostion:null,scrollOffset:75}},computed:{dropdownClasses:function(){return{"dropdown--active":this.active,"dropdown--arrow":this.arrow,"dropdown--bottom":this.isPosition("bottom"),"dropdown--top":this.isPosition("top"),"dropdown--left":this.isPosition("left"),"dropdown--right":this.isPosition("right"),"dropdown--center":this.isPosition("center"),"dropdown--full":"full"===this.width,"dropdown--fixed":this.fixed}},offsetStyle:function(){return{"margin-top":this.isPosition("bottom")?this.offset+"px":"","margin-bottom":this.isPosition("top")?this.offset+"px":"",transform:this.sideOffset?"translateX("+this.sideOffset+"px)":"","max-width":this.currentMaxWidth>0&&"full"!==this.width?this.currentMaxWidth+"px":"","min-width":this.minWidth>0?this.minWidth+"px":""}},innerStyle:function(){return{"max-height":this.maxHeight>0?this.maxHeight+"px":"",overflow:this.maxHeight>0?"hidden":"","overflow-y":this.maxHeight>0?"scroll":""}}},methods:{isPosition:function(e){return-1!==this.currentPosition.indexOf(e)},reposition:function(){var e=this.$el.getBoundingClientRect().top+this.$el.offsetHeight+window.pageYOffset+this.offset,t=this.$el.getBoundingClientRect().top+window.pageYOffset-this.offset,n=window.pageYOffset+window.innerHeight;this.currentPosition!==this.position&&(this.currentPosition=this.position),this.isPosition("bottom")?e+this.currentHeight>n&&(this.currentPosition=this.currentPosition.replace(/bottom/i,"top")):this.isPosition("top")&&t-this.currentHeight<window.pageYOffset&&(this.currentPosition=this.currentPosition.replace(/top/i,"bottom"))},getHeight:function(){this.currentHeight=this.$el.querySelector("[data-dropdown-content]")?this.$el.querySelector("[data-dropdown-content]").offsetHeight:100},setMaxWidth:function(){var e=this.$el.getBoundingClientRect();this.isPosition("left")?this.currentMaxWidth=this.maxWidth+e.left>window.innerWidth?window.innerWidth-e.left:this.maxWidth:this.isPosition("right")?this.currentMaxWidth=this.maxWidth+(window.innerWidth-e.right)>window.innerWidth?window.innerWidth-(window.innerWidth-e.right):this.maxWidth:this.currentMaxWidth=this.maxWidth>window.innerWidth?window.innerWidth:this.maxWidth},setFixedPosition:function(){var e=this.$refs.dropdown__cta.getBoundingClientRect();this.isPosition("top")?this.$refs.dropdown__position.style.bottom=Math.round(window.innerHeight-e.bottom+e.height)+"px":this.$refs.dropdown__position.style.top=Math.round(e.top+e.height)+"px",this.isPosition("left")?this.$refs.dropdown__position.style.left=Math.round(e.left)+"px":this.isPosition("right")?this.$refs.dropdown__position.style.right=Math.round(window.innerWidth-e.right)+"px":this.$refs.dropdown__position.style.left=Math.round(e.left+e.width/2)+"px"},closeFromDoc:function(e){var t=e.target;if("scroll"===e.type){if(this.$el.querySelector("[data-dropdown-content]").contains(t))return;var n=window.pageYOffset||document.documentElement.scrollTop;if(n>this.originScrollPostion-this.scrollOffset&&n<this.originScrollPostion+this.scrollOffset)return void this.setFixedPosition()}this.clickable?!this.$el.querySelector("[data-dropdown-content]").contains(t)&&this.clickable&&this.close():this.close()},open:function(e){var t=this;this.active||(document.body.click(),this.timer=setTimeout((function(){t.timer=null,t.active=!0,document.addEventListener("click",t.closeFromDoc,!0),document.addEventListener("touchend",t.closeFromDoc,!0),t.fixed&&(window.addEventListener("scroll",t.closeFromDoc,!0),t.originScrollPostion=window.pageYOffset||document.documentElement.scrollTop),t.$nextTick((function(){this.getHeight(),this.reposition(),this.setMaxWidth(),this.fixed&&this.setFixedPosition()})),t.$emit("open")}),1))},close:function(e){var t=this;if(this.active){if(clearTimeout(this.timer),document.removeEventListener("click",this.closeFromDoc,!0),document.removeEventListener("touchend",this.closeFromDoc,!0),this.fixed)return window.removeEventListener("scroll",this.closeFromDoc,!0),this.originScrollPostion=null,this.active=!1,void this.$emit("close");setTimeout((function(){t.active=!1,t.$emit("close")}),0)}},toggle:function(e){this.active?this.close():this.open()}}},o=a,s=n(1001),l=(0,s.Z)(o,i,r,!1,null,"0e7b000c",null),u=l.exports},7536:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fieldset",class:e.visibilityClasses},[e.title?t("header",{staticClass:"fieldset__header",class:e.activeClasses},[e.activeToggle?t("h3",{attrs:{role:"button","aria-expanded":e.visible?"true":"false"},on:{click:e.onClickVisibility}},[e._v(e._s(e.title)+" "),t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):t("h3",[e._v(e._s(e.title))])]):t("header",{staticClass:"fieldset__header",class:e.activeClasses},[e._t("header")],2),t("div",{staticClass:"fieldset__content",attrs:{hidden:!e.visible||null,"aria-hidden":!e.visible||null}},[e._t("default")],2)])},r=[],a=n(9996),o={name:"A17Fieldset",mixins:[a.Z],props:{open:{type:Boolean,default:!0},title:{default:""},activeToggle:{type:Boolean,default:!0}},computed:{activeClasses:function(){return{"fieldset--hoverable":this.activeToggle}}}},s=o,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,"5e017f1a",null),c=u.exports},7713:function(e,t,n){n.d(t,{Z:function(){return f}});var i=function(){var e=this,t=e._self._c;return t("form",{ref:"form",staticClass:"filter",class:{"filter--opened":e.opened,"filter--single":!e.withNavigation,"filter--full":!e.withNavigation&&e.fullWidth,"filter--withHiddenFilters":e.withHiddenFilters},on:{submit:function(t){return t.preventDefault(),e.submitFilter.apply(null,arguments)}}},[t("div",{staticClass:"filter__inner"},[t("div",{staticClass:"filter__navigation"},[e._t("navigation")],2),t("div",{staticClass:"filter__search"},[t("input",{staticClass:"form__input form__input--small",attrs:{type:"search",name:"search",placeholder:e.placeholder},domProps:{value:e.searchValue},on:{input:e.onSearchInput}}),e.withHiddenFilters?t("a17-button",{staticClass:"filter__toggle",attrs:{variant:"ghost","aria-expanded":e.opened?"true":"false"},on:{click:e.toggleFilter}},[e._v(e._s(e.$trans("filter.toggle-label","Filter"))+" "),t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):e._e(),e._t("additional-actions"),t("button",{staticClass:"visually-hidden",attrs:{"aria-hidden":"true",type:"submit"}},[e._v(e._s(e.$trans("filter.apply-btn","Apply")))])],2)]),t("transition",{attrs:{css:!1,duration:275},on:{"before-enter":e.beforeEnter,enter:e.enter,"before-leave":e.beforeLeave,leave:e.leave}},[e.withHiddenFilters?t("div",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],ref:"more",staticClass:"filter__more",attrs:{"aria-hidden":!e.opened||null}},[t("div",{ref:"moreInner",staticClass:"filter__moreInner"},[e._t("hidden-filters"),t("a17-button",{attrs:{variant:"ghost",type:"submit"}},[e._v(e._s(e.$trans("filter.apply-btn","Apply")))]),e.clearOption?t("a17-button",{attrs:{variant:"ghost",type:"button"},on:{click:e.clear}},[e._v(e._s(e.$trans("filter.clear-btn","Clear")))]):e._e()],2)]):e._e()])],1)},r=[],a=n(3279),o=n.n(a),s=n(5573),l={name:"A17Filter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default:function(){return this.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,t){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout((function(){e.style.overflow="visible"}),275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,t){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){var e=(0,s.Z)(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e.target.value},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:o()((function(){this.resetHeight()}),50)},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},u=l,c=n(1001),d=(0,c.Z)(u,i,r,!1,null,"a04856e4",null),f=d.exports},1385:function(e,t,n){n.d(t,{Z:function(){return f}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"itemlist"},[t("table",{staticClass:"itemlist__table"},[t("tbody",[e._l(e.itemsLoading,(function(n,i){return t("tr",{directives:[{name:"show",rawName:"v-show",value:!n.isReplacement,expression:"!item.isReplacement"}],key:n.id,staticClass:"itemlist__row"},[t("td",{staticClass:"itemlist__cell itemlist__cell--loading",class:{"itemlist__cell--error":n.error},attrs:{colspan:e.columnsNumber}},[n.error?t("span",{staticClass:"itemlist__progressError"},[e._v("Upload Error")]):t("span",{staticClass:"itemlist__progress"},[t("span",{staticClass:"itemlist__progressBar",style:e.loadingProgress(i)})])])])})),e._l(e.allItems,(function(n,i){return t("tr",{key:"".concat(n.endpointType,"_").concat(n.id),staticClass:"itemlist__row",class:{"s--picked":e.isSelected(n,e.keysToCheck),"s--disabled":n.disabled||!!e.replacingMediaIds[n.id]},on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.toggleSelection(n))},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.shiftToggleSelection(n)):null}]}},[n.isReplacement?n.isReplacement?[t("td",{staticClass:"itemlist__cell itemlist__cell--loading",class:{"itemlist__cell--error":n.error},attrs:{colspan:e.columnsNumber}},[n.error?t("span",{staticClass:"itemlist__progressError"},[e._v("Upload Error")]):t("span",{staticClass:"itemlist__progress"},[t("span",{staticClass:"itemlist__progressBar",style:e.loadingProgress(i,"allItems")})])])]:e._e():[n.hasOwnProperty("id")?t("td",{staticClass:"itemlist__cell itemlist__cell--btn"},[t("a17-checkbox",{attrs:{name:"item_list",value:n.endpointType+"_"+n.id,initialValue:e.checkedItems,theme:"bold",disabled:n.disabled}})],1):e._e(),n.hasOwnProperty("thumbnail")?t("td",{class:"itemlist__cell itemlist__cell--thumb ".concat("users"===n.endpointType?"itemlist__cell--thumb-rounded":"")},["users"===n.endpointType?[t("a17-avatar",{attrs:{name:n.name,thumbnail:n.thumbnail}})]:[t("img",{attrs:{src:n.thumbnail}})]],2):e._e(),n.hasOwnProperty("name")?t("td",{staticClass:"itemlist__cell itemlist__cell--name"},[n.hasOwnProperty("renderHtml")?t("div",{domProps:{innerHTML:e._s(n.name)}}):t("div",[e._v(e._s(n.name))])]):e._e(),e._l(e.extraColumns,(function(i,r){return t("td",{key:r,staticClass:"itemlist__cell",class:e.rowClass(i)},["size"===i?[e._v(e._s(e._f("uppercase")(n[i])))]:[e._v(e._s(n[i]))]],2)}))]],2)}))],2)])])},r=[],a=n(2279),o=n(9160),s=n(1633),l={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:function(){return["id"]}}},components:{"a17-avatar":a.Z},mixins:[o.Z],filters:s.Z,computed:{allItems:function(){var e=this;return this.items.map((function(t){if(e.replacingMediaIds[t.id]){var n=e.itemsLoading.find((function(e){return e.replacementId===t.id}));return n||t}return t}))},columnsNumber:function(){if(!this.items.length)return 0;var e=this.extraColumns.length,t=this.items[0];return t.hasOwnProperty("id")&&e++,t.hasOwnProperty("name")&&e++,t.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];var e=this.items[0];return Object.keys(e).filter((function(t){return!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(t)&&"string"===typeof e[t]}))},checkedItems:function(){var e=[];return this.selectedItems.length&&this.selectedItems.forEach((function(t){e.push(t.endpointType+"_"+t.id)})),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e,t){var n=t?this[t]:this.itemsLoading;return{width:n[e].progress?n[e].progress+"%":"0%"}},getFirstLetter:function(e){return e.name.charAt(0)}}},u=l,c=n(1001),d=(0,c.Z)(u,i,r,!1,null,"04a8279a",null),f=d.exports},8193:function(e,t,n){n.d(t,{Z:function(){return _}});var i=function(){var e=this,t=e._self._c;return e.languages.length>1?t("div",{staticClass:"languageManager"},[t("div",{staticClass:"languageManager__switcher"},[t("a17-langswitcher",{attrs:{"in-modal":!0,"all-published":!e.controlPublication}})],1),e.controlPublication?t("a17-dropdown",{ref:"languageManagerDropdown",staticClass:"languageManager__dropdown",attrs:{position:"bottom-right",clickable:!0}},[t("button",{staticClass:"languageManager__button",attrs:{type:"button"},on:{click:function(t){return e.$refs.languageManagerDropdown.toggle()}}},[e._v(" "+e._s(e.currentValue.length)+" "+e._s(e.$trans("lang-manager.published"))+" "),t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]),t("div",{staticClass:"languageManager__dropdown-content",attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t("a17-checkboxgroup",{attrs:{name:"langManager",options:e.languages,selected:e.currentValue,min:1},on:{change:e.changeValue}})],1)]):e._e()],1):e._e()},r=[],a=n(629),o=n(8348),s=n(9996),l=n(4181),u=n(4884);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t=h(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=m(e,"string");return"symbol"===c(t)?t:String(t)}function m(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b={name:"A17LangManager",mixins:[s.Z,o.Z],components:{"a17-langswitcher":u.Z},props:{controlPublication:{type:Boolean,default:!0},value:{default:function(){return[]}}},computed:f(f({currentValue:{get:function(){var e=[];return this.publishedLanguages.length&&this.publishedLanguages.forEach((function(t){e.push(t.value)})),e}}},(0,a.rn)({languages:function(e){return e.language.all}})),(0,a.Se)(["publishedLanguages"])),methods:{changeValue:function(e){this.$store.commit(l.ad.PUBLISH_LANG,e)}}},y=b,g=n(1001),v=(0,g.Z)(y,i,r,!1,null,"06768eb6",null),_=v.exports},4884:function(e,t,n){n.d(t,{Z:function(){return g}});var i=function(){var e=this,t=e._self._c;return e.languages.length>1?t("div",{staticClass:"language",class:e.languageClass},[e.inModal?e._e():t("span",{staticClass:"language__label f--small"},[e._v(e._s(e.$trans("lang-switcher.edit-in")))]),t("span",{staticClass:"language__toolbar"},e._l(e.languages,(function(n){return t("button",{key:n.value,staticClass:"language__button",class:{selected:n.value===e.localeValue.value,published:n.published,"no-state":e.allPublished},attrs:{type:"button"},on:{click:function(t){return e.onClick(n.value)}}},[e._v(e._s(n.shortlabel))])})),0)]):e._e()},r=[],a=n(629),o=n(8348),s=n(4181);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t=f(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=p(e,"string");return"symbol"===l(t)?t:String(t)}function p(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h={name:"A17Langswitcher",mixins:[o.Z],props:{inModal:{type:Boolean,default:!1},toggleOnClick:{type:Boolean,default:!1},allPublished:{type:Boolean,default:!1}},computed:c({languageClass:function(){return{"language--in-modal":this.inModal}},localeValue:function(){return this.$store.state.language.active}},(0,a.Se)(["publishedLanguages"])),methods:{onClick:function(e){this.$store.commit(s.ad.UPDATE_LANG,e)}}},m=h,b=n(1001),y=(0,b.Z)(m,i,r,!1,null,"1131928c",null),g=y.exports},9935:function(e,t,n){n.d(t,{Z:function(){return v}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",class:e.modalClasses,on:{mousedown:e.hide,touchend:function(t){return t.preventDefault(),e.hide.apply(null,arguments)}}},[t("transition",{attrs:{name:"fade_scale_modal"}},[e.active?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],staticClass:"modal__window",on:{mousedown:function(e){e.stopPropagation()},touchend:function(e){e.stopPropagation()}}},[e.modalTitle?t("header",{staticClass:"modal__header"},[e._v(" "+e._s(e.modalTitle)+" "),t("button",{staticClass:"modal__close",attrs:{type:"button"},on:{click:e.hide}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}})])]):e._e(),t("div",{staticClass:"modal__content"},[e._t("default")],2)]):e._e()])],1)},r=[],a=n(629),o=n(3523);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t=d(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=f(e,"string");return"symbol"===s(t)?t:String(t)}function f(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=document.documentElement,h=o.Z.modal,m={name:"A17Modal",props:{title:{type:String,default:""},mode:{type:String,default:""},forceClose:{type:Boolean,default:!1},forceLock:{type:Boolean,default:!1}},data:function(){return{active:!1,hidden:!0,locked:!1,firstFocusableEl:null,lastFocusableEl:null}},computed:u({modalTitle:function(){return""!==this.title?this.title:this.browserTitle},modalClasses:function(){return{"modal--active":this.active,"modal--hidden":this.hidden,"modal--tiny":"tiny"===this.mode,"modal--medium":"medium"===this.mode,"modal--wide":"wide"===this.mode}}},(0,a.rn)({browserTitle:function(e){return e.browser.title}})),watch:{forceLock:function(){this.locked=this.forceLock}},methods:{open:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.active&&!this.hidden||(this.active=!0,this.hidden=!1,p.classList.add(h),this.bindKeyboard(),this.$nextTick((function(){if(e){var t='textarea, input:not([type="hidden"]), select, button[type="submit"]',n=this.$el.querySelectorAll(t),i=this.$el.querySelectorAll(t+', a, button[type="button"]');this.firstFocusableEl=this.$el.querySelector(".modal__close"),this.lastFocusableEl=i[i.length-1],n.length&&n[0].focus()}this.$emit("open")})))},mask:function(){p.classList.remove(h),this.unbindKeyboard(),this.$emit("close")},hide:function(){this.active&&(this.locked||(this.forceClose?this.close():(this.hidden=!0,this.mask())))},close:function(e){this.active&&(this.locked||(this.active=!1,this.$emit("close"),this.mask()))},bindKeyboard:function(){window.addEventListener("keyup",this.keyPressed),document.addEventListener("keydown",this.keyDown,!1)},unbindKeyboard:function(){window.removeEventListener("keyup",this.keyPressed),document.removeEventListener("keydown",this.keyDown)},keyPressed:function(e){27!==e.which&&27!==e.keyCode||(this.hide(),this.$emit("esc-key"))},keyDown:function(e){e.keyCode&&9===e.keyCode&&(e.shiftKey?document.activeElement.isEqualNode(this.firstFocusableEl)&&(this.lastFocusableEl.focus(),e.preventDefault()):document.activeElement.isEqualNode(this.lastFocusableEl)&&(this.firstFocusableEl.focus(),e.preventDefault()))}},beforeDestroy:function(){this.$el.parentNode&&(this.active&&this.unbindKeyboard(),this.$el.parentNode.removeChild(this.$el))}},b=m,y=n(1001),g=(0,y.Z)(b,i,r,!1,null,"5d2936e8",null),v=g.exports},1124:function(e,t,n){n.d(t,{Z:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade_spinner"},on:{"before-enter":e.beforeEnter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave}},[t("div",{staticClass:"a17spinner"},[t("div",{staticClass:"a17spinner__anim",class:{"a17spinner__anim--visible":e.isVisible}},[t("span",{staticClass:"loader"},[t("span")])])])])},r=[],a={name:"A17Spinner",props:{visible:{type:Boolean,default:!1}},data:function(){return{isVisible:this.visible}},methods:{beforeEnter:function(e){this.isVisible=this.visible},afterEnter:function(e){this.isVisible=!0},beforeLeave:function(e){this.isVisible=!1}}},o=a,s=n(1001),l=(0,s.Z)(o,i,r,!1,null,null,null),u=l.exports},1086:function(e,t,n){n.d(t,{Z:function(){return v}});var i=function(){var e=this,t=e._self._c;return t("a17-modal",{ref:"standalone-"+e.endpointName,staticClass:"modal--browser",attrs:{mode:"medium","force-close":!0},on:{close:e.closeModal}},[t("div",{staticClass:"browser"},[t("div",{staticClass:"browser__frame"},[t("div",{ref:"form",staticClass:"browser__header"},[e.multiSources?t("div",{staticClass:"browser__sources"},[t("a17-vselect",{staticClass:"browser__sources-select",attrs:{name:"sources",selected:e.currentEndpoint,options:e.endpoints,required:!0},on:{change:e.changeBrowserSource}})],1):e._e(),t("div",{staticClass:"browser__search"},[t("a17-filter",{on:{submit:e.submitFilter}},[e.browserNote?t("div",{attrs:{slot:"additional-actions"},slot:"additional-actions"},[t("span",{staticClass:"browser__note f--small"},[e._v(" "+e._s(e.browserNote)+" ")])]):e._e()])],1)]),t("div",{staticClass:"browser__inner"},[t("div",{ref:"list",staticClass:"browser__list"},[t("a17-itemlist",{attrs:{items:e.fullItems,keysToCheck:["id","edit"],selectedItems:e.selectedItems},on:{change:e.updateSelectedItems}})],1)]),t("div",{staticClass:"browser__footer"},[t("a17-button",{attrs:{type:"button",variant:"action"},on:{click:e.saveAndClose}},[e._v(e._s(e.browserTitle))]),t("span",{staticClass:"browser__size-infos"},[e._v(e._s(e.selectedItems.length)+" / "+e._s(e.max))])],1)])])])},r=[],a=n(5573),o=n(7713),s=n(1385),l=n(9935);function u(e){return p(e)||f(e)||d(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var m={name:"A17StandaloneBrowser",components:{"a17-filter":o.Z,"a17-itemlist":s.Z,"a17-modal":l.Z},props:{btnLabel:{type:String,default:"Insert"},btnMultiLabel:{type:String,default:"Insert files"},initialPage:{type:Number,default:1},open:{type:Boolean,default:!1},forRepeater:{type:Boolean,default:!1},endpoint:{type:Object,required:!1,default:null},endpointMultiple:{type:Array,required:!1,default:null},max:{type:Number,default:0}},data:function(){return{maxPage:20,fullItems:[],listHeight:0,page:this.initialPage,endpoints:[],endpointName:null,browserTitle:"Select",browserNote:null,currentSource:null,selected:[]}},computed:{currentEndpoint:function(){var e=this;return this.endpoints.find((function(t){return t.value===e.currentSource}))},multiSources:function(){return this.endpoints.length>1},selectedItems:{get:function(){return this.selected||[]},set:function(e){this.selected=e}}},watch:{open:function(e,t){e!==t&&(e?this.openModal():this.closeModal())}},methods:{openModal:function(){var e="standalone-"+this.endpointName;this.$refs[e].open()},closeModal:function(){var e="standalone-"+this.endpointName;this.$refs[e].close(),this.$emit("close")},updateSelectedItems:function(e){var t=this.multiSources?["id","endpointType"]:["id"],n=this.fullItems.some((function(n){return t.every((function(t){return n[t]===e[t]}))}));if(n){var i=this.selectedItems.some((function(n){return t.every((function(t){return n[t]===e[t]}))}));if(i){var r=this.selectedItems.findIndex((function(n){return t.every((function(t){return n[t]===e[t]}))}));if(r<0)return;var a=u(this.selectedItems);a.splice(r,1),this.selectedItems=a}else{if(1===this.max&&this.clearSelectedItems(),this.selectedItems.length>=this.max&&this.max>0)return;this.selectedItems=[].concat(u(this.selectedItems),[e])}}},getFormData:function(e){var t=(0,a.Z)(e);return t?t.page=this.page:t={page:this.page},t.forRepeater=this.forRepeater,t},clearSelectedItems:function(){this.selectedItems=[]},clearFullItems:function(){this.fullItems.splice(0)},reloadList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.page=1);var n=this.$refs.form,i=this.getFormData(n);this.$http.get(this.currentEndpoint.value,{params:i}).then((function(n){var i;t&&e.clearFullItems(),(i=e.fullItems).push.apply(i,u(n.data.data)),e.$nextTick((function(){e.listHeight!==e.$refs.list.scrollHeight&&(e.listHeight=e.$refs.list.scrollHeight,e.$refs.list.addEventListener("scroll",e.scrollToPaginate))}))}),(function(e){}))},submitFilter:function(){this.page=1,this.clearFullItems(),this.reloadList()},scrollToPaginate:function(){var e=this.$refs.list;e.scrollTop+e.clientHeight>this.listHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page&&(this.page=this.page+1,this.reloadList()))},saveAndClose:function(){this.$emit("selected",this.selectedItems),this.closeModal()},changeBrowserSource:function(e){this.currentSource=e.value,this.reloadList(!0)}},mounted:function(){this.openModal(),this.endpointMultiple?this.endpoints=this.endpointMultiple:this.endpoints=[this.endpoint],this.currentSource=this.endpoints[0].value,this.reloadList()}},b=m,y=n(1001),g=(0,y.Z)(b,i,r,!1,null,"3ff94fa2",null),v=g.exports},6287:function(e,t,n){n.d(t,{Z:function(){return b}});var i=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,"label-for":e.uniqId,required:e.required},on:{localize:e.updateLocale}},[t("div",{staticClass:"input__field",class:e.textfieldClasses,attrs:{dir:e.dirLocale}},[e.hasPrefix?t("span",{staticClass:"input__prefix"},[e._v(e._s(e.prefix))]):e._e(),"textarea"===e.type?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"clone",staticClass:"input__clone",attrs:{rows:e.rows,disabled:"true"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e(),"textarea"===e.type?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",attrs:{name:e.name,id:e.uniqId,placeholder:e.placeholder,disabled:e.disabled,required:e.required,readonly:e.readonly,rows:e.rows,autofocus:e.autofocus},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:[function(t){t.target.composing||(e.value=t.target.value)},e.onInput]}}):e._e(),"number"===e.type?t("input",{ref:"input",attrs:{type:"number",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),"text"===e.type?t("input",{ref:"input",attrs:{type:"text",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,"x-mask":e.mask},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),"email"===e.type?t("input",{ref:"input",attrs:{type:"email",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),"password"===e.type?t("input",{ref:"input",attrs:{type:"password",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),"url"===e.type?t("input",{ref:"input",attrs:{type:"url",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),e.hasMaxlength?t("span",{staticClass:"input__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e(),"email"===e.type?t("span",{class:e.validityClasses}):e._e()])])},r=[],a=n(3279),o=n.n(a),s=n(2240),l=n(35),u=n(6830),c=n(8348),d=n(9464),f={name:"A17Textfield",mixins:[d.Z,l.Z,u.Z,c.Z,s.Z],props:{name:{type:String,required:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:null},initialValue:{default:""},mask:{type:String,default:null},rows:{type:Number,default:5}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},textfieldClasses:function(){return{"input__field--textarea":"textarea"===this.type,"input__field--small":"small"===this.size&&"textarea"===!this.type,"s--focus":this.focused,"s--disabled":this.disabled}},hasMaxlength:function(){return this.maxlength>0},hasPrefix:function(){return""!==this.prefix},displayedMaxlength:function(){return!!this.hasMaxlength&&this.maxlength},limitClasses:function(){return{"input__limit--red":this.counter<.1*this.maxlength}},validityClasses:function(){return["input__validity",!0===this.isFieldValid?"input__validity--valid":"",!1===this.isFieldValid?"input__validity--error":""]}},data:function(){return{value:this.initialValue,lastSavedValue:this.initialValue,focused:!1,isFieldValid:null,counter:0}},watch:{initialValue:function(){this.updateValue(this.initialValue)}},methods:{updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&this.updateValue(e)},updateValue:function(e){this.value=e,this.updateCounter(e)},updateAndSaveValue:function(e){this.updateValue(e),this.lastSavedValue=this.value,this.saveIntoStore()},updateCounter:function(e){this.maxlength>0&&(this.counter=this.maxlength-(e?e.toString().length:0))},onFocus:function(e){this.focused=!0,this.resizeTextarea(),this.$emit("focus")},onBlur:function(e){var t=e.target.value;this.updateAndSaveValue(t),this.focused=!1,this.$emit("blur",t)},onInput:function(e){this.preventSubmit(),this._onInputInternal(e)},_onInputInternal:o()((function(e){var t=e.target.value;this.updateAndSaveValue(t),this.checkFieldValidity(e.target),this.$emit("change",t),this.$emit("input",t),this.allowSubmit()}),250),resizeTextarea:function(){if("textarea"===this.type){var e=this.$refs.clone,t=15;if(e){var n=e.scrollHeight;this.$refs.input.style.minHeight="".concat(n+t,"px")}}},checkFieldValidity:function(e){var t=null,n=null;switch(e.type){case"email":if(e.value.length<1)return void(this.isFieldValid=null);t=e.pattern,n=RegExp(t),this.isFieldValid=n.test(this.value);break}}},mounted:function(){this.updateCounter(this.value),"textarea"===this.type&&(this.resizeTextarea(),this.$watch("value",this.resizeTextarea),this.$nextTick((function(){window.addEventListener("resize",this.resizeTextarea)})))},beforeDestroy:function(){"textarea"===this.type&&window.removeEventListener("resize",this.resizeTextarea)}},p=f,h=n(1001),m=(0,h.Z)(p,i,r,!1,null,"9edd5ab6",null),b=m.exports},1894:function(e,t,n){n.d(t,{Z:function(){return T}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vselectOuter"},[t("a17-inputframe",{attrs:{error:e.error,label:e.label,note:e.note,size:e.size,name:e.name,"label-for":e.uniqId,required:e.required,"add-new":e.addNew}},[t("div",{staticClass:"vselect",class:e.vselectClasses},[t("div",{staticClass:"vselect__field"},[t("input",{attrs:{type:"hidden",name:e.name,id:e.uniqId},domProps:{value:e.inputValue}}),t("v-select",{attrs:{multiple:e.multiple,placeholder:e.placeholder,value:e.value,options:e.currentOptions,searchable:e.searchable,selectable:e.selectable,clearSearchOnSelect:e.clearSearchOnSelect,label:e.optionsLabel,taggable:e.taggable,pushTags:e.pushTags,transition:e.transition,requiredValue:e.required,maxHeight:e.maxHeight,disabled:e.disabled},on:{input:e.updateValue,search:e.getOptions}},[t("span",{attrs:{slot:"no-options"},slot:"no-options"},[e._v(e._s(e.emptyText))])])],1)])]),e.addNew?[t("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},r=[],a=n(3279),o=n.n(a),s=n(9938),l=n.n(s);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var c,d,f={extends:l(),props:{toggleSelectOption:{type:Boolean,default:!1},requiredValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{mutableValue:this.value}},computed:{showClearButton:function(){return!1}},methods:{maybeDeleteValue:function(){if(!this.requiredValue&&!this.$refs.search.value.length&&this.mutableValue)return this.multiple?this.mutableValue.pop():this.mutableValue=null},isOptionSelected:function(e){var t=this;return void 0!==this.valueAsArray&&this.valueAsArray.some((function(n){return"object"===u(n)?t.optionObjectComparator(n,e):n===e||n===e[t.index]}))}},mounted:function(){this.taggable&&this.$emit("search",this.search,this.toggleLoading)}},p=f,h=n(1001),m=(0,h.Z)(p,c,d,!1,null,null,null),b=m.exports,y=n(6193),g=n(2240),v=n(6830),_=n(9464);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var E={name:"A17VueSelect",mixins:[_.Z,v.Z,g.Z,y.Z],props:{placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},name:{type:String,default:""},transition:{type:String,default:"fade_move_dropdown"},multiple:{type:Boolean,default:!1},taggable:{type:Boolean,default:!1},pushTags:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},selectable:{type:Function,default:function(e){var t;return null===(t=e.selectable)||void 0===t||t}},clearSearchOnSelect:{type:Boolean,default:!0},selected:{default:null},emptyText:{default:function(){return this.$trans("select.empty-text","Sorry, no matching options.")}},options:{default:function(){return[]}},optionsLabel:{type:String,default:"label"},endpoint:{type:String,default:""},size:{type:String,default:""},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"400px"}},components:{"v-select":b},data:function(){return{value:this.selected,currentOptions:this.options,ajaxUrl:this.endpoint}},watch:{options:function(e){this.currentOptions=this.options}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},inputValue:{get:function(){if(this.value){if(this.multiple){if(Array.isArray(this.value))return"object"===w(this.value[0])?this.value.map((function(e){return e.value})):this.value.join(",")}else if("object"===w(this.value))return this.value.value;return this.value}return""},set:function(e){Array.isArray(e)?this.taggable?this.value=e:this.value=this.options.filter((function(t){return e.includes(t.value)})):this.value=this.options.find((function(t){return"number"===typeof t.value?t.value%1!==0?t.value===parseFloat(e):t.value===parseInt(e):t.value===String(e)}))}},vselectClasses:function(){return[this.value?"vselect--has-value":"",this.multiple?"vselect--multiple":"vselect--single","small"===this.size?"vselect--small":"","large"===this.size?"vselect--large":"",this.error?"vselect--error":""]}},methods:{updateFromStore:function(e){this.inputValue=e},isAjax:function(){return""!==this.ajaxUrl},updateValue:function(e){this.value=e,this.saveIntoStore(),this.$emit("change",e)},getOptions:o()((function(e,t){var n=this;if(!this.isAjax())return!0;t(!0),this.$http.get(this.ajaxUrl,{params:{q:e}}).then((function(e){e.data.items&&e.data.items.length&&(n.taggable&&Array.isArray(n.value)?n.currentOptions=e.data.items.filter((function(e){return!n.value.includes(e)})):n.currentOptions=e.data.items),t(!1)}),(function(e){t(!1)}))}),500)}},S=E,O=(0,h.Z)(S,i,r,!1,null,null,null),T=O.exports},2674:function(e,t,n){n.d(t,{Z:function(){return b}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modalValidation"},[t("a17-inputframe",["create"===e.mode?[t("a17-button",{attrs:{type:"submit",name:"create",variant:"validate",disabled:e.isDisabled}},[e._v(e._s(e.$trans("modal.create.button","Create")))]),e.isDisabled?e._e():t("a17-button",{attrs:{type:"submit",name:"create-another",variant:"aslink-grey"},nativeOn:{click:function(e){return e.currentTarget.focus()}}},[t("span",[e._v(e._s(e.$trans("modal.create.create-another","Create and add another")))])])]:"update"===e.mode?t("a17-button",{attrs:{type:"submit",name:"update",variant:"validate",disabled:e.isDisabled}},[e._v(e._s(e.$trans("modal.update.button","Update")))]):t("a17-button",{attrs:{type:"submit",name:"done",variant:"validate",disabled:e.isDisabled}},[e._v(e._s(e.$trans("modal.done.button","Done")))])],2),e.activePublishState?t("label",{staticClass:"switcher__button",class:e.switcherClasses,attrs:{for:e.publishedName}},[e.isChecked?t("span",{staticClass:"switcher__label"},[e._v(e._s(e.textEnabled))]):e._e(),e.isChecked?e._e():t("span",{staticClass:"switcher__label"},[e._v(e._s(e.textDisabled))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.published,expression:"published"}],attrs:{type:"checkbox",disabled:e.disabled,name:e.publishedName,id:e.publishedName},domProps:{value:1,checked:Array.isArray(e.published)?e._i(e.published,1)>-1:e.published},on:{change:function(t){var n=e.published,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=1,o=e._i(n,a);i.checked?o<0&&(e.published=n.concat([a])):o>-1&&(e.published=n.slice(0,o).concat(n.slice(o+1)))}else e.published=r}}}),t("span",{staticClass:"switcher__switcher"})]):e._e()],1)},r=[],a=n(4181);function o(e){return c(e)||u(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function u(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var f={name:"A17ModalValidationButtons",props:{publishedName:{type:String,required:!1},disabled:{type:Boolean,default:!1},activePublishState:{type:Boolean,default:!1},isPublish:{type:Boolean,default:!1},isDisable:{type:Boolean,default:!1},mode:{type:String,default:"create"},textEnabled:{type:String,default:"Live"},textDisabled:{type:String,default:"Draft"}},data:function(){return{fields:!1,isDisabled:this.isDisable,published:this.isPublish}},watch:{published:function(e){this.$store.commit(a.Yc.UPDATE_FORM_FIELD,{name:"published",value:e})}},computed:{switcherClasses:function(){return[this.isChecked?"switcher--active":""]},isChecked:function(){return this.published},checkedValue:{get:function(){return this.published},set:function(e){this.published=e}}},methods:{addListeners:function(){var e=this;this.$nextTick((function(){e.fields.forEach((function(t){t.removeEventListener("input",e.disable)})),e.fields=o(e.$parent.$el.querySelectorAll("input, textarea, select")),e.fields.forEach((function(t){t.addEventListener("input",(function(){e.disable()}))}))}))},disable:function(){if(!this.fields)return this.isDisabled=!0,void this.$emit("disable",!0);var e=this.fields.filter((function(e){return e.getAttribute("required")}));if(0===e.length)return this.isDisabled=!1,void this.$emit("disable",!1);var t=e.filter((function(e){return e.value.length>0}));if(t.length===e.length)return this.isDisabled=!1,void this.$emit("disable",!1);this.isDisabled=!0,this.$emit("disable",!0)}},mounted:function(){var e=this;this.fields=o(this.$parent.$el.querySelectorAll("input, textarea, select")),e.disable(),this.fields.length&&this.addListeners()},beforeDestroy:function(){var e=this;this.fields.length&&this.fields.forEach((function(t){t.removeEventListener("input",e.disable)}))}},p=f,h=n(1001),m=(0,h.Z)(p,i,r,!1,null,"376dc8cc",null),b=m.exports},4126:function(e,t,n){n.d(t,{Z:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"paginate"},[t("p",{staticClass:"paginate__offset f--small"},[e._v(" "+e._s(e.$trans("listing.paginate.rows-per-page"))+" "),e.availableOffsets.length>1?[t("a17-dropdown",{ref:"paginateDropdown",attrs:{position:"bottom-right"}},[t("button",{staticClass:"paginate__button",on:{click:function(t){return e.$refs.paginateDropdown.toggle()}}},[e._v(e._s(e.newOffset))]),t("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},e._l(e.availableOffsets,(function(n){return t("button",{key:n,class:{dropdown__active:n===e.newOffset},attrs:{type:"button"},on:{click:function(t){return e.changeOffset(n)}}},[e._v(e._s(n))])})),0)])]:[e._v(" "+e._s(e.newOffset)+" ")]],2),e.max>1?t("div",{staticClass:"paginate__pages"},[t("p",{staticClass:"paginate__current f--small"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPageFormat,expression:"newPageFormat"}],staticClass:"form__input paginate__input",attrs:{type:"number",maxlength:"4"},domProps:{value:e.newPageFormat},on:{blur:e.formatPage,input:function(t){t.target.composing||(e.newPageFormat=t.target.value)}}}),e._v(" of "+e._s(e.max))]),t("button",{staticClass:"paginate__prev",attrs:{type:"button",disabled:e.value<=e.min},on:{click:e.previousPage}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"pagination_left"}})]),t("button",{staticClass:"paginate__next",attrs:{type:"button",disabled:e.value>=e.max},on:{click:e.nextPage}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"pagination_right"}})])]):e._e()])},r=[],a={name:"A17Paginate",props:{value:{type:Number,required:!0},offset:{type:Number,default:60},availableOffsets:{type:Array,default:function(){return[]}},min:{type:Number,default:1},max:{type:Number,required:!0}},data:function(){return{newOffset:this.offset}},computed:{newPageFormat:{get:function(){return this.value},set:function(e){return parseInt(e)}}},methods:{formatPage:function(e){var t=e.target.value;t=""!==t?parseInt(t):1,t>this.max&&(t=this.max),t<1&&(t=1),e.target.value=t,t!==this.value&&this.$emit("changePage",t)},changeOffset:function(e){this.newOffset=e,this.$emit("changeOffset",parseInt(this.newOffset))},previousPage:function(){this.$emit("changePage",parseInt(this.value-1))},nextPage:function(){this.$emit("changePage",parseInt(this.value+1))}}},o=a,s=n(1001),l=(0,s.Z)(o,i,r,!1,null,"7a3996c9",null),u=l.exports},7119:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("a17-dropdown",{ref:"rowSetupDropdown",attrs:{position:"bottom-right",fixed:!0}},[t("a17-button",{attrs:{variant:"icon"},on:{click:function(t){return e.$refs.rowSetupDropdown.toggle()}}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),t("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e.row.hasOwnProperty("permalink")?t("a",{attrs:{href:e.row["permalink"],target:"_blank"}},[e._v("View permalink")]):e._e(),e.row.hasOwnProperty("edit")&&!e.row.hasOwnProperty("deleted")&&e.row["edit"]?t("a",{attrs:{href:e.editUrl},on:{click:function(t){return e.preventEditInPlace(t)}}},[e._v(e._s(e.$trans("listing.dropdown.edit","Edit")))]):e._e(),e.row.hasOwnProperty("published")&&!e.row.hasOwnProperty("deleted")?t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.update("published")}}},[e._v(e._s(e.row["published"]?e.$trans("listing.dropdown.unpublish","Unpublish"):e.$trans("listing.dropdown.publish","Publish")))]):e._e(),e.row.hasOwnProperty("featured")&&!e.row.hasOwnProperty("deleted")?t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.update("featured")}}},[e._v(e._s(e.row["featured"]?e.$trans("listing.dropdown.unfeature","Unfeature"):e.$trans("listing.dropdown.feature","Feature")))]):e._e(),e.row.duplicate&&!e.row.hasOwnProperty("deleted")?t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.duplicateRow.apply(null,arguments)}}},[e._v(e._s(e.$trans("listing.dropdown.duplicate","Duplicate")))]):e._e(),e.row.hasOwnProperty("deleted")?t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.restoreRow.apply(null,arguments)}}},[e._v(e._s(e.$trans("listing.dropdown.restore","Restore")))]):e._e(),e.row.hasOwnProperty("deleted")&&e.row.hasOwnProperty("destroyable")?t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.destroyRow.apply(null,arguments)}}},[e._v(e._s(e.$trans("listing.dropdown.destroy","Destroy")))]):e.row.delete&&!e.row.hasOwnProperty("deleted")?t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.deleteRow.apply(null,arguments)}}},[e._v(e._s(e.$trans("listing.dropdown.delete","Delete")))]):e._e()])],1)},r=[],a=n(325),o={name:"TableCellActions",mixins:[a.Z],methods:{update:function(e){this.$emit("update",{row:this.row,col:e})}}},s=o,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,"13effc32",null),c=u.exports},4040:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleBulk.apply(null,arguments)}}},[t("a17-checkbox",{attrs:{name:"bulkEdit",value:e.value,initialValue:e.initialValue}})],1)},r=[],a=n(325),o={name:"A17TableCellBulk",mixins:[a.Z],components:{},props:{value:{type:Number,required:!0},initialValue:{type:Array,required:!0}},methods:{toggleBulk:function(){this.update()}}},s=o,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,"39bc7724",null),c=u.exports},4474:function(e,t,n){n.d(t,{Z:function(){return p}});var i=function(){var e=this,t=e._self._c;return t("span",[e.formatDateLabel.length>0?t("span",{staticClass:"tablecell__datePub",class:{"s--expired":e.formatDateLabel===e.textExpired}},[e._v(" "+e._s(e._f("formatDatatableDate")(e.startDate))+" "),e.endDate?[e._v("- "+e._s(e._f("formatDatatableDate")(e.endDate)))]:e._e(),t("br"),t("span",[e._v(e._s(e.formatDateLabel))])],2):t("span",[e.startDate?[e._v(" "+e._s(e._f("formatDatatableDate")(e.startDate))+" ")]:[e._v(" — ")]],2)])},r=[],a=n(3374),o=n.n(a),s=n(325),l=n(1633),u={name:"A17TableCellDates",mixins:[s.Z],data:function(){return{textExpired:this.$trans("publisher.expired"),textScheduled:this.$trans("publisher.scheduled")}},computed:{formatDateLabel:function(){var e="",t=o()(this.startDate,new Date),n=this.endDate?o()(this.endDate,new Date):1;return this.startDate&&n<0?e=this.textExpired:t>0&&(e=this.textScheduled),e},startDate:function(){return this.row.hasOwnProperty("publish_start_date")?this.row.publish_start_date:""},endDate:function(){return this.row.hasOwnProperty("publish_end_date")?this.row.publish_end_date:""}},filters:l.Z},c=u,d=n(1001),f=(0,d.Z)(c,i,r,!1,null,"01c55ed4",null),p=f.exports},6258:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(e,t){return e("span",{staticClass:"tablecell__handle"})},r=[],a=n(325),o={name:"A17TableCellDraggable",mixins:[a.Z]},s=o,l=n(1001),u=(0,l.Z)(s,i,r,!0,null,"5e2e3a3a",null),c=u.exports},7106:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return e.row.hasOwnProperty("featured")?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tablecell__feature",class:{"tablecell__feature--active":e.row[e.colName]},attrs:{"data-tooltip-title":e.row.featured?"Unfeature":"Feature"},on:{click:function(t){return t.preventDefault(),e.toggleFeatured.apply(null,arguments)}}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"star-feature_active"}}),t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"star-feature"}})]):e._e()},r=[],a=n(325),o={name:"A17TableCellFeatured",mixins:[a.Z],methods:{toggleFeatured:function(){this.update()}}},s=o,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,"4b9e917c",null),c=u.exports},3782:function(e,t,n){n.d(t,{Z:function(){return b}});var i=function(){var e=this,t=e._self._c;return e.col.hasOwnProperty("html")?t("a17-table-cell-html",e._b({on:{update:e.update,editInPlace:e.editInPlace}},"a17-table-cell-html",e.childProps,!1)):t("span",[e._v(e._s(e.row[e.colName]))])},r=[],a=n(325),o=function(){var e=this,t=e._self._c;return t("span",{ref:"cell",staticClass:"tablecell__raw",domProps:{innerHTML:e._s(e.row[e.colName])}})},s=[],l={name:"A1TableCellHtml",mixins:[a.Z],mounted:function(){var e=this.$refs.cell.querySelector('a[data-edit="true"]');e&&e.addEventListener("click",this.preventEditInPlace)}},u=l,c=n(1001),d=(0,c.Z)(u,o,s,!1,null,null,null),f=d.exports,p={name:"A17TableCellGeneric",mixins:[a.Z],computed:{childProps:function(){return this.$props}},components:{"a17-table-cell-html":f}},h=p,m=(0,c.Z)(h,i,r,!1,null,"5babcbdd",null),b=m.exports},4738:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("span",[e._l(e.displayedLanguages,(function(n){return t("a",{key:n.value,staticClass:"tag tag--disabled",class:{"tag--enabled":n.published},attrs:{href:e.editWithLanguage(n)},on:{click:function(t){return e.editInPlace(t,n)}}},[e._v(" "+e._s(n.shortlabel)+" ")])})),e.languages.length>4?t("a",{staticClass:"more__languages f--small",attrs:{href:e.editWithLanguage(e.languages[0])},on:{click:function(t){return e.editInPlace(t,e.languages[0])}}},[e._v(" + "+e._s(e.languages.length-4)+" more ")]):e._e()],2)},r=[],a=n(325),o={name:"A17TableCellLanguages",mixins:[a.Z],props:{languages:{type:Array,default:function(){return[]}}},computed:{displayedLanguages:function(){return this.languages.slice(0,4)}},methods:{editWithLanguage:function(e){var t={};return t.lang=e.value,this.editWithQuery(t)},editWithQuery:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));var i=t.length?"?"+t.join("&"):"";return"#"!==this.editUrl?this.editUrl+i:this.editUrl},editInPlace:function(e,t){this.$emit("editInPlace",e,t)}}},s=o,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,"9ab54676",null),c=u.exports},8924:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("span",{staticClass:"tablecell__nested-depth",style:e.cellWidth})},r=[],a=n(325),o={name:"A17TableCellNested",mixins:[a.Z],props:{depth:{type:Number,default:0},offset:{type:Number,default:0}},computed:{cellWidth:function(){return this.depth>0?{width:80*this.depth-20-this.offset+"px"}:""}}},s=o,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,"20294257",null),c=u.exports},6651:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return e.row.hasOwnProperty("published")?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tablecell__pubstate",class:{"tablecell__pubstate--live":e.row[e.colName]},attrs:{"data-tooltip-title":e.row.published?"Unpublish":"Publish"},on:{click:function(t){return t.preventDefault(),e.togglePublish.apply(null,arguments)}}}):e._e()},r=[],a=n(325),o={name:"A17TableCellPublished",mixins:[a.Z],methods:{togglePublish:function(){this.update()}}},s=o,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,"120b42fa",null),c=u.exports},982:function(e,t,n){n.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{class:e.getThumbClasses},[t("a",{attrs:{href:!e.row.hasOwnProperty("deleted")&&e.editUrl},on:{click:function(t){!e.row.hasOwnProperty("deleted")&&e.preventEditInPlace(t)}}},["rounded"===e.col.variation?[t("a17-avatar",{attrs:{name:e.rowTitle,thumbnail:e.row[e.colName]}})]:[t("img",{attrs:{src:e.row[e.colName]}})]],2)])},r=[],a=n(2279),o=n(325),s={name:"A17TableCellThumbNail",mixins:[o.Z],components:{"a17-avatar":a.Z},computed:{rowTitle:function(){var e,t;return null!==(e=null!==(t=this.row.name)&&void 0!==t?t:this.row.title.replace(/<[^>]*>?/gm,""))&&void 0!==e?e:""},getThumbClasses:function(){return["tablecell__thumb",this.col.variation?"tablecell__thumb--".concat(this.col.variation):""]}}},l=s,u=n(1001),c=(0,u.Z)(l,i,r,!1,null,"3311a7fc",null),d=c.exports},4670:function(e,t,n){var i=n(8963),r=function(){var e=document.querySelectorAll("[data-medialib-btn]");function t(){window["TWILL"].vm&&window["TWILL"].vm.openFreeMediaLibrary()}e.length&&(0,i.Z)(e,(function(e){e.addEventListener("click",(function(n){n.preventDefault(),t(),e.blur()}))}))};t["Z"]=r},8413:function(e,t,n){n.d(t,{Z:function(){return P}});var i,r=n(538),a=n(3242),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container search",class:{"search--dashboard":"dashboard"===e.type}},["dashboard"===e.type?t("transition",{attrs:{name:"fade_search-overlay"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult,expression:"readyToShowResult"}],staticClass:"search__overlay",on:{click:e.toggleSearch}})]):e._e(),t("div",{staticClass:"search__input"},[t("input",{ref:"search",staticClass:"form__input",attrs:{type:"search",name:"search",autocomplete:"off",placeholder:e.placeholder},on:{input:e.onSearchInput}}),t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"search"}})]),t("transition",{attrs:{name:"fade_search-overlay"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult,expression:"readyToShowResult"}],staticClass:"search__results"},[t("ul",[e._l(e.searchResults,(function(n){return t("li",{key:n.id},[t("a",{staticClass:"search__result",attrs:{href:n.href}},[t("div",{staticClass:"search__cell search__cell--thumb hide--xsmall"},[t("figure",{staticClass:"search__thumb"},[t("img",{attrs:{src:n.thumbnail}})])]),t("div",{staticClass:"search__cell search__cell--pubstate hide--xsmall"},[t("span",{staticClass:"search__pubstate",class:{"search__pubstate--live":n.published}})]),t("div",{staticClass:"search__cell"},[t("span",{staticClass:"search__title"},[e._v(e._s(n.title))]),n.date?t("p",{staticClass:"f--note"},[e._v(" "+e._s(n.activity)+" "),t("timeago",{attrs:{"auto-update":1,datetime:new Date(n.date)}}),e._v(" by "+e._s(n.author)+" "),t("span",{staticClass:"search__type"},[e._v(e._s(n.type))])],1):e._e()])])])})),t("li",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"search__no-result"},[e._v(" "+e._s(e.$trans("dashboard.search.loading","Loading…"))+" ")]),t("li",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult&&!e.searchResults.length&&!e.loading,expression:"readyToShowResult && !searchResults.length && !loading"}],staticClass:"search__no-result"},[e._v(" "+e._s(e.$trans("dashboard.search.no-result","No results found."))+" ")])],2)])])],1)},s=[],l=n(9669),u=n.n(l),c=n(3279),d=n.n(c),f=n(3523),p=document.documentElement,h=[f.Z.search,f.Z.overlay],m=u().CancelToken,b=m.source(),y=document.querySelector(".header .header__title > a"),g={name:"A17Search",props:{open:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},placeholder:{type:String,default:function(){return this.$trans("dashboard.search-placeholder","Search everything…")}},endpoint:{type:String,default:null},type:{type:String,default:"header"}},data:function(){return{searchValue:"",loading:!1,readyToShowResult:!1,searchResults:[]}},watch:{open:function(){this.toggleSearch()},opened:function(){this.opened&&(i=this.$refs.search,i.focus())}},methods:{toggleSearch:function(){h.forEach((function(e){p.classList.toggle(e)})),this.open?document.addEventListener("keydown",this.handleKeyDown,!1):(this.$refs.search.blur(),this.searchResults=[],this.searchValue="",this.readyToShowResult=!1,document.removeEventListener("keydown",this.handleKeyDown,!1))},handleKeyDown:function(e){e.keyCode&&9===e.keyCode&&(e.shiftKey?document.activeElement.isEqualNode(y)&&(i.focus(),e.preventDefault()):document.activeElement.isEqualNode(i)&&(y.focus(),e.preventDefault()))},setLastFocusElement:function(){var e=this.searchResults.length;e?setTimeout((function(){i=document.querySelectorAll(".search__result")[e-1]}),1):i=this.$refs.search},fetchSearchResults:function(){var e=this,t={search:this.searchValue};this.loading?(b.cancel(),b=m.source()):this.loading=!0,this.readyToShowResult=!0,this.$http.get(this.endpoint,{params:t,cancelToken:b.token}).then((function(t){e.searchResults=t.data,e.loading=!1,e.setLastFocusElement()}),(function(t){u().isCancel(t)||(e.loading=!1)}))},onSearchInput:d()((function(e){this.searchValue=e.target.value,this.searchValue&&this.searchValue.length>0?("dashboard"===this.type&&h.forEach((function(e){p.classList.add(e)})),this.fetchSearchResults()):("dashboard"===this.type&&h.forEach((function(e){p.classList.remove(e)})),this.readyToShowResult=!1,this.searchResults=[],this.setLastFocusElement())}),300)}},v=g,_=n(1001),w=(0,_.Z)(v,o,s,!1,null,"2e1cd2e2",null),E=w.exports;r.ZP.use(a.Z);var S="searchApp",O={el:"#searchApp",components:{"a17-search":E},props:{topSpacing:{type:Number,default:60}},data:function(){return{open:!1,opened:!1,top:this.topSpacing}},computed:{positionStyle:function(){return{top:this.top+"px"}}},methods:{afterAnimate:function(){this.opened=!0},toggleSearch:function(){this.open=!this.open,this.top=this.topSpacing-(window.pageYOffset||document.documentElement.scrollTop),this.open?document.addEventListener("keydown",this.handleKeyDown,!1):(this.opened=!1,document.removeEventListener("keydown",this.handleKeyDown,!1))},handleKeyDown:function(e){e.keyCode&&27===e.keyCode&&this.toggleSearch()}}},T=!!document.getElementById(S)&&new r.ZP(O),P=T},2357:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(538),r=n(8963),a=function(){var e=!1,t=!1,n=0,i=document.documentElement,a=document.querySelector("[data-header-mobile]"),o=document.querySelector(".ham"),s=document.querySelectorAll("[data-ham-btn]"),l=document.querySelectorAll("[data-closenav-btn]"),u=document.querySelector(".a17"),c="s--nav";function d(){return!e&&(!t&&(e=!0,n=window.pageYOffset,i.classList.add(c),u.style.top="-"+n+"px",o.style.top="-"+n+"px",a.style.top="-"+n+"px",document.addEventListener("keydown",p,!1),t=!0,void(e=!1)))}function f(){return!e&&(!!t&&(e=!0,i.classList.remove(c),u.style.top="",o.style.top="",a.style.top="",document.removeEventListener("keydown",p,!1),window.scrollTo(0,n),n=0,t=!1,void(e=!1)))}function p(e){27===e.keyCode&&t&&f()}s.length&&(0,r.Z)(s,(function(e){e.addEventListener("click",(function(n){t?f():d(),e.blur()}))})),l.length&&(0,r.Z)(l,(function(e){e.addEventListener("click",(function(n){t&&f(),e.blur()}))}))},o=a,s=n(3279),l=n.n(s),u=function(){var e=0,t=!1,n=167,i=document.documentElement,r="s--env";function a(){e=window.pageYOffset,t||window.requestAnimationFrame((function(){o()})),t=!0}function o(){e>n?i.classList.add(r):i.classList.remove(r),t=!1}window.addEventListener("scroll",(function(){a()})),window.addEventListener("resize",l()((function(){a()}))),a()},c=u,d=function(){var e=document.querySelector("[data-logout-form]");e&&document.body.addEventListener("click",(function(t){t.target.hasAttribute("data-logout-btn")&&(t.preventDefault(),e.submit())}))},f=d,p=n(8413),h=n(3857),m=n.n(h),b=n(4306),y=n(3550);e=n.hmd(e);var g=function(){o(),c(),f()};e&&e.hot,b.Z.plugin(y.Z),window.Alpine=b.Z,b.Z.start(),window["TWILL"]||(window["TWILL"]={}),window["TWILL"].vheader=new i.ZP({el:"#headerUser"}),window["TWILL"].vsearch=p.Z,console.log("[32m","Made with ".concat("TWILL"," - v").concat(window["TWILL"].version)),m()(window["TWILL"].STORE,window.STORE);var v=g},6193:function(e,t,n){var i=n(629);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t=l(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=u(e,"string");return"symbol"===r(t)?t:String(t)}function u(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}t["Z"]={props:{name:{type:String,default:""},addNew:{type:String,default:""},options:{type:Array,default:function(){return[]}}},computed:o({fullOptions:function(){var e=this.optionsByName(this.name),t=this.options;return Array.isArray(e)&&e.forEach((function(e){var n=t.findIndex((function(t){return t.value===e.value}));-1===n&&t.push(e)})),e.length?t:this.options}},(0,i.Se)(["optionsByName"]))}},5445:function(e,t){t["Z"]={props:{buckets:{type:Array,default:function(){return[]}},item:{type:Object},singleBucket:{type:Boolean,default:!0}},computed:{bucketClasses:function(){return{selected:"bucket"!==this.type&&this.inBuckets,single:this.singleBucket}}},methods:{addToBucket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bucket;this.$emit("add-to-bucket",this.item,e)},inBucketById:function(e){var t=this,n=this.buckets.findIndex((function(t){return t.id===e}));if(-1!==n){var i=this.buckets[n].children.find((function(e){return e.id===t.item.id&&e.content_type.value===t.item.content_type.value}));return!!i}},restrictedBySource:function(e){var t=this.buckets.find((function(t){return t.id===e}));if(!t)return!1;if(!t.hasOwnProperty("acceptedSources"))return!0;if(0===t.acceptedSources.length)return!0;var n=this.item.content_type.value;return-1!==t.acceptedSources.findIndex((function(e){return e===n}))}}}},2544:function(e,t,n){var i=n(8446),r=n.n(i);t["Z"]={props:{min:{type:Number,default:0},max:{type:Number,default:0},disabled:{type:Boolean,default:!1},selected:{type:Array,default:function(){return[]}}},data:function(){return{currentValue:this.selected}},watch:{selected:function(e){this.currentValue=e}},computed:{checkedValue:{get:function(){return this.currentValue},set:function(e){r()(e,this.currentValue)||(this.currentValue=e,"undefined"!==typeof this.saveIntoStore&&this.saveIntoStore(e),this.$emit("change",e))}}},methods:{isMax:function(e){return e.length>this.max&&this.max>0},isMin:function(e){return e.length<this.min&&this.min>0}}}},5602:function(e,t){t["Z"]={props:{aspectRatio:{type:Number,default:null},viewMode:{type:Number,default:2},cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},dragMode:{type:String,default:"crop"},rotatable:{type:Boolean,default:!1},scalable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1}},computed:{defaultCropsOpts:function(){return{aspectRatio:this.initAspectRatio,viewMode:this.viewMode,cropBoxResizable:this.cropBoxResizable,cropBoxMovable:this.cropBoxMovable,dragMode:this.dragMode,rotatable:this.rotatable,scalable:this.scalable,zoomable:this.zoomable,guides:!1,center:!1,checkCrossOrigin:!1,background:!1}}}}},8382:function(e,t){t["Z"]={props:{draggable:{type:Boolean,default:!0}},data:function(){return{animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30}},computed:{dragOptions:function(){return{animation:this.animation,handle:this.handle,ghostClass:this.ghostClass,chosenClass:this.chosenClass,dragClass:this.dragClass,scrollSensitivity:this.scrollSensitivity,disabled:!this.draggable}}}}},2240:function(e,t,n){var i=n(8446),r=n.n(i),a=n(629),o=n(4181);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t=d(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=f(e,"string");return"symbol"===s(t)?t:String(t)}function f(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}t["Z"]={props:{hasDefaultStore:{type:Boolean,default:!1},inModal:{type:Boolean,default:!1},inStore:{type:String,default:""},fieldName:{type:String,default:""}},computed:u(u({storedValue:function(){return this.inModal?this.modalFieldValueByName(this.getFieldName()):this.fieldValueByName(this.getFieldName())}},(0,a.Se)(["fieldValueByName","modalFieldValueByName"])),(0,a.rn)({submitting:function(e){return e.form.loading},fields:function(e){return e.form.fields},modalFields:function(e){return e.form.modalFields}})),watch:{storedValue:function(e){if(""!==this.inStore){var t=this[this.inStore],n=this.locale?e[this.locale.value]:e;r()(t,n)||"undefined"!==typeof this.updateFromStore&&this.updateFromStore(n)}}},methods:{getFieldName:function(){return""!==this.fieldName?this.fieldName:this.name},saveIntoStore:function(e){if(""!==this.inStore){var t="";t=e||this[this.inStore];var n={};n.name=this.getFieldName(),n.value=t,this.locale&&(n.locale=this.locale.value),this.inModal?this.$store.commit(o.Yc.UPDATE_MODAL_FIELD,n):this.$store.commit(o.Yc.UPDATE_FORM_FIELD,n)}},preventSubmit:function(){this.$store.commit(o.Yc.PREVENT_SUBMIT)},allowSubmit:function(){this.$store.commit(o.Yc.ALLOW_SUBMIT)},destroyValue:function(){""!==this.inStore&&(this.inModal?this.$store.commit(o.Yc.REMOVE_MODAL_FIELD,this.getFieldName()):this.$store.commit(o.Yc.REMOVE_FORM_FIELD,this.getFieldName()))}},beforeMount:function(){var e=this.getFieldName();if(""!==this.inStore&&""!==e){var t=this.inModal?this.modalFields:this.fields,n=t.filter((function(t){return t.name===e}));n.length?this.locale?this[this.inStore]=n[0].value[this.locale.value]:this[this.inStore]=n[0].value:this.hasDefaultStore&&this.saveIntoStore()}}}},35:function(e,t){t["Z"]={props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},name:{default:""},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"on"}}}},6830:function(e,t){function n(e){var t=e.length;return e.reduce((function(e,n,i){return e+(i-1===t?", ":" and ")+n}))}t["Z"]={props:{label:{type:String,default:""},labelFor:{type:String,default:""},size:{type:String,default:"large"},variant:{type:String,default:""},fixedErrorKey:{type:String},note:{type:String,default:""}},computed:{errorKey:function(){return this.fixedErrorKey?this.hasLocale?this.fixedErrorKey.replace("[",".").replace("]",""):this.fixedErrorKey:this.hasLocale?this.name.replace("[",".").replace("]",""):this.name},errorLocales:function(){if(!this.hasLocale)return[];var e=this.errorKey.substr(0,this.errorKey.indexOf(".")),t=[],n=this.$store.state.language.all.map((function(e){return e.value}));return Object.keys(this.$store.state.form.errors).forEach((function(i){if(i.substr(0,i.indexOf("."))===e){var r=i.substr(i.indexOf(".")+1,i.length);n.includes(r)&&t.push(r)}}),[]),t},otherLocalesError:function(){var e=this;return this.errorLocales.filter((function(t){return t!==e.currentLocale.value})).length},errorMessageLocales:function(){var e=this;return n(this.errorLocales.map((function(t){return e.languages.find((function(e){return e.value===t})).label})))+" language"+(this.errorLocales.length>1?"s":"")+" missing details."},errorMessage:function(){return this.error?this.$store.state.form.errors[this.errorKey][0]:""},error:function(){return!!this.$store.state.form&&Object.keys(this.$store.state.form.errors).includes(this.errorKey)}}}},8348:function(e,t,n){var i=n(629);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t=l(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=u(e,"string");return"symbol"===r(t)?t:String(t)}function u(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}t["Z"]={props:{locale:{default:null}},computed:o({hasLocale:function(){return null!=this.locale},hasCurrentLocale:function(){return null!=this.currentLocale},isCurrentLocale:function(){return!this.hasLocale||!this.hasCurrentLocale||this.locale.value===this.currentLocale.value},isLocaleRTL:function(){var e=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return!!this.hasLocale&&e.includes(this.locale.shortlabel.toLowerCase())},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return!!this.hasLocale&&this.locale.shortlabel}},(0,i.rn)({currentLocale:function(e){return e.language.active},languages:function(e){return e.language.all}})),methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}}}},2954:function(){},9160:function(e,t,n){var i=n(629);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t=l(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=u(e,"string");return"symbol"===r(t)?t:String(t)}function u(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}t["Z"]={props:{items:{type:Array,default:function(){return[]}},selectedItems:{type:Array,default:function(){return[]}},usedItems:{type:Array,default:function(){return[]}}},computed:o(o({},(0,i.rn)({itemsLoading:function(e){return e.mediaLibrary.loading}})),{},{replacingMediaIds:function(){return this.itemsLoading.reduce((function(e,t){return t.isReplacement&&(e[t.replacementId]=t.id),e}),{})}}),methods:{isSelected:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id"];return Boolean(this.selectedItems.find((function(n){return t.every((function(t){return n[t]===e[t]}))})))},isUsed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id"];return Boolean(this.usedItems.find((function(n){return t.every((function(t){return n[t]===e[t]}))})))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}}},1017:function(e,t,n){var i=n(4181);t["Z"]={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.name,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.$store.commit(i.CV.UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(i.CV.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(i.CV.UPDATE_REPLACE_INDEX,n),this.$store.commit(i.CV.UPDATE_MEDIA_MAX,e),this.$store.commit(i.CV.UPDATE_MEDIA_MODE,!0),this.$store.commit(i.CV.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(i.CV.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(i.CV.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}}},9464:function(e,t){t["Z"]={data:function(){return{randKey:Date.now()+Math.floor(9999*Math.random())}}}},5512:function(e,t,n){var i=n(629);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t=l(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=u(e,"string");return"symbol"===r(t)?t:String(t)}function u(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}t["Z"]={data:function(){return{shouldRetrySubmitWhenAllowed:!1}},computed:o({},(0,i.rn)({isSubmitPrevented:function(e){return e.form.isSubmitPrevented}})),watch:{isSubmitPrevented:function(e){!e&&this.shouldRetrySubmitWhenAllowed&&(this.shouldRetrySubmitWhenAllowed=!1,this.retrySubmit())}},methods:{retrySubmit:function(){this.submitForm?this.submitForm():this.submit&&this.submit()}}}},325:function(e,t){t["Z"]={props:{col:{type:Object,default:function(){}},row:{type:Object,default:function(){}},editUrl:{type:String,default:"#"},editInModal:{type:Boolean,default:!1}},computed:{colName:function(){return this.col.hasOwnProperty("name")?this.col.name:""}},methods:{update:function(){this.$emit("update",{row:this.row,col:this.colName})},preventEditInPlace:function(e){this.editInModal&&e.preventDefault(),this.editInPlace()},editInPlace:function(e,t){this.$emit("editInPlace",{event:e,lang:t})},restoreRow:function(){this.$emit("restoreRow",this.row)},destroyRow:function(){this.$emit("destroyRow",this.row)},deleteRow:function(){this.$emit("deleteRow",this.row)},duplicateRow:function(){this.$emit("duplicateRow",this.row)}}}},9996:function(e,t){t["Z"]={props:{open:{type:Boolean,default:!1}},data:function(){return{visible:this.open}},computed:{visibilityClasses:function(){return{"s--open":this.visible}}},methods:{onClickVisibility:function(){this.visible=!this.visible,this.$emit("toggleVisibility",this.visible)}}}},3242:function(e,t,n){n.d(t,{Z:function(){return Vs}});var i=n(9669),r=n.n(i),a=n(7361),o=n.n(a),s=n(6604),l=n.n(s),u=n(2987),c=n(2279),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"browserField"},[e.buttonOnTop&&e.remainingItems?t("div",{staticClass:"browserField__trigger"},[t("a17-button",{attrs:{type:"button",disabled:e.disabled||e.connectedBrowserField&&0===e.connectedBrowserFieldItems.length,variant:"ghost"},on:{click:e.openBrowser}},[e._v(" "+e._s(e.addLabel)+" ")]),t("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),t("span",{staticClass:"browserField__note f--small"},[e._t("default")],2)],1):e._e(),e.items.length?t("table",{staticClass:"browserField__table"},[t("draggable",{attrs:{tag:"tbody",disabled:e.disabled},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},e._l(e.items,(function(n,i){return t("a17-browseritem",{key:n.endpointType+"_"+n.id,staticClass:"item__content",attrs:{name:"".concat(e.name,"_").concat(n.id),draggable:!e.disabled&&e.draggable,item:n,disabled:e.disabled,max:e.max,showType:e.endpoints.length>0},on:{delete:function(t){return e.deleteItem(i)}}})})),1)],1):e._e(),!e.buttonOnTop&&e.remainingItems?t("div",{staticClass:"browserField__trigger"},[t("a17-button",{attrs:{type:"button",disabled:e.disabled||e.connectedBrowserField&&0===e.connectedBrowserFieldItems.length,variant:"ghost"},on:{click:e.openBrowser}},[e._v(" "+e._s(e.addLabel)+" ")]),t("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),t("span",{staticClass:"browserField__note f--small"},[e._t("default")],2)],1):e._e()])},f=[],p=n(2719),h=n.n(p),m=n(629),b=n(8382),y=n(4181),g=function(){var e=this,t=e._self._c;return t("tr",{staticClass:"browserItem"},[e.draggable&&e.max>1?t("td",{staticClass:"browserItem__cell browserItem__cell--drag"},[t("div",{class:e.dragClasses})]):e._e(),e.hasThumbnail?t("td",{class:e.thumbnailClasses},[e.isUser?[t("a17-avatar",{attrs:{name:e.currentItem.name,thumbnail:e.currentItem.thumbnail}})]:[t("a",{attrs:{href:"#",target:"_blank"}},[t("img",{attrs:{src:e.currentItem.thumbnail}})])]],2):e._e(),t("td",{staticClass:"browserItem__cell browserItem__cell--name"},[t("a",{attrs:{href:e.currentItem.edit,target:"_blank"}},[e.currentItem.hasOwnProperty("renderHtml")?t("span",{staticClass:"f--link-underlined--o",domProps:{innerHTML:e._s(e.currentItem.name)}}):t("span",{staticClass:"f--link-underlined--o"},[e._v(e._s(e.currentItem.name))])]),t("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentItem.id}})]),e.currentItem.hasOwnProperty("endpointType")&&e.showType?t("td",{staticClass:"browserItem__cell browserItem__cell--type"},[t("span",[e._v(e._s(e.currentItem.endpointType))])]):e._e(),e.deletable?t("td",{staticClass:"browserItem__cell browserItem__cell--icon"},[e.disabled?e._e():t("a17-button",{staticClass:"bucket__action",attrs:{icon:"close"},on:{click:function(t){return e.deleteItem()}}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})])],1):e._e()])},v=[],_={name:"A17BrowserItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},max:{type:Number,default:10},showType:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{handle:".item__handle"}},computed:{hasThumbnail:function(){return Boolean(this.currentItem.hasOwnProperty("thumbnail"))},hasLargeThumbnail:function(){return this.hasThumbnail&&!this.isUser},isUser:function(){return Boolean("users"===this.currentItem.endpointType)},dragClasses:function(){return["drag__handle--drag",this.hasLargeThumbnail?"":"drag__handle--drag-small"]},thumbnailClasses:function(){return["browserItem__cell","browserItem__cell--thumb",this.isUser?"browserItem__cell--thumb-avatar":""]},currentItem:function(){return this.item},deletable:function(){return!this.currentItem.hasOwnProperty("deletable")||!0===this.currentItem.deletable}},methods:{deleteItem:function(){this.$emit("delete")}}},w=_,E=n(1001),S=(0,E.Z)(w,g,v,!1,null,"19917f52",null),O=S.exports;function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t=x(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=D(e,"string");return"symbol"===T(t)?t:String(t)}function D(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==T(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var k,L,I={name:"A17BrowserField",components:{"a17-browseritem":O,draggable:h()},mixins:[b.Z],props:{name:{type:String,required:!0},modalTitle:{type:String,default:""},browserNote:{type:String,default:""},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},endpoints:{type:Array,default:function(){return[]}},draggable:{type:Boolean,default:!0},max:{type:Number,default:10},wide:{type:Boolean,default:!1},buttonOnTop:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},connectedBrowserField:{type:String,defautl:null}},data:function(){return{handle:".item__handle"}},computed:C(C({remainingItems:function(){return this.max-this.items.length},addLabel:function(){return this.$trans("fields.browser.add-label","Add")+" "+this.itemLabel},browserTitle:function(){return""!==this.modalTitle?this.modalTitle:this.addLabel},items:{get:function(){return this.selectedBrowser.hasOwnProperty(this.name)&&this.selectedBrowser[this.name]||[]},set:function(e){this.$store.commit(y.Uv.REORDER_ITEMS,{name:this.name,items:e})}},itemsIds:function(){return this.selectedItemsByIds[this.name]?this.selectedItemsByIds[this.name].join():""},connectedBrowserFieldItems:function(){return this.selectedBrowser[this.connectedBrowserField]||[]}},(0,m.rn)({selectedBrowser:function(e){return e.browser.selected}})),(0,m.Se)(["selectedItemsByIds"])),methods:{deleteAll:function(){this.$store.commit(y.Uv.DESTROY_ITEMS,{name:this.name})},deleteItem:function(e){this.$store.commit(y.Uv.DESTROY_ITEM,{name:this.name,index:e})},openBrowser:function(){if(this.$store.commit(y.Uv.UPDATE_BROWSER_CONNECTOR,this.name),this.endpoints.length>0)this.$store.commit(y.Uv.UPDATE_BROWSER_ENDPOINTS,this.endpoints);else{this.$store.commit(y.Uv.DESTROY_BROWSER_ENDPOINTS);var e=this.endpoint;if(this.connectedBrowserFieldItems.length){var t="?";e.indexOf("?")>-1&&(t="&"),e=e+t+"connectedBrowserIds= "+encodeURIComponent(JSON.stringify(this.connectedBrowserFieldItems.map((function(e){return e.id}))))}this.$store.commit(y.Uv.UPDATE_BROWSER_ENDPOINT,{value:e,label:this.name})}this.$store.commit(y.Uv.UPDATE_BROWSER_MAX,this.max),this.$store.commit(y.Uv.UPDATE_BROWSER_TITLE,this.browserTitle),this.$store.commit(y.Uv.UPDATE_BROWSER_NOTE,this.browserNote),this.wide?this.$root.$refs.browserWide.open(this.endpoints.length<=0):this.$root.$refs.browser.open(this.endpoints.length<=0)},destroyValue:function(){this.deleteAll()}},watch:{connectedBrowserFieldItems:function(e){this.connectedBrowserField&&0===e.length&&this.deleteAll()}}},M=I,R=(0,E.Z)(M,d,f,!1,null,"0ddc4be5",null),j=R.exports,N={name:"A17Button",props:{el:{type:String,default:"button"},type:{type:String,default:"button"},href:{type:String,default:""},target:{type:String,default:""},download:{type:String,default:""},rel:{type:String,default:""},variant:{type:String,default:""},icon:{default:""},disabled:{type:Boolean,default:!1},size:{type:String,default:""}},computed:{buttonClasses:function(){var e=["button",this.size?"button--".concat(this.size):""];return this.variant&&this.variant.split(" ").forEach((function(t){e.push("button--".concat(t))})),this.icon&&e.push("button--icon button--".concat(this.icon)),e}},methods:{onClick:function(e){this.$emit("click")}},render:function(e){var t=this,n={class:this.buttonClasses,attrs:{},on:{click:function(e){t.onClick(e)}}};return"button"===this.el&&(n.attrs.type=this.type,this.disabled&&(n.attrs.disabled=this.disabled)),"a"===this.el&&this.href&&(n.attrs.href=this.href,this.target&&(n.attrs.target=this.target),this.download&&(n.attrs.download=this.download),this.rel&&(n.attrs.rel=this.rel)),e(this.el,n,this.$slots.default)}},B=N,F=(0,E.Z)(B,k,L,!1,null,"59eeac35",null),U=F.exports,V=function(){var e=this,t=e._self._c;return t("div",{class:e.barClasses},[e._t("default")],2)},$=[],Z={name:"A17Buttonbar",props:{type:{type:String,default:"button"},variant:{type:String,default:""}},computed:{barClasses:function(){return["buttonbar",this.variant?"buttonbar--".concat(this.variant):""]}}},q=Z,W=(0,E.Z)(q,V,$,!1,null,"7223fc6a",null),H=W.exports,Y=function(){var e=this,t=e._self._c;return t("span",{staticClass:"checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],key:e.uniqId,staticClass:"checkbox__input",class:e.checkboxClasses,attrs:{type:"checkbox",name:e.name,id:e.uniqId,disabled:e.disabled},domProps:{value:e.value,checked:Array.isArray(e.checkedValue)?e._i(e.checkedValue,e.value)>-1:e.checkedValue},on:{change:function(t){var n=e.checkedValue,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e.value,o=e._i(n,a);i.checked?o<0&&(e.checkedValue=n.concat([a])):o>-1&&(e.checkedValue=n.slice(0,o).concat(n.slice(o+1)))}else e.checkedValue=r}}}),t("label",{staticClass:"checkbox__label",attrs:{for:e.uniqId}},[e._v(e._s(e.label)+" "),t("span",{staticClass:"checkbox__icon"},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})])])])},z=[],K=n(9464),G={name:"A17Checkbox",mixins:[K.Z],props:{value:{default:""},initialValue:{default:function(){return[]}},name:{type:String,default:""},theme:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{uniqId:function(e){return this.name+"_"+this.value+"-"+this.randKey},checkboxClasses:function(){return[this.theme?"checkbox__input--".concat(this.theme):""]},checkedValue:{get:function(){return this.initialValue},set:function(e){this.$emit("change",e)}}}},X=G,Q=(0,E.Z)(X,Y,z,!1,null,"20e8e5e7",null),J=Q.exports,ee=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name}},[t("ul",{staticClass:"checkboxGroup",class:e.checkboxClasses},e._l(e.options,(function(n){return t("li",{key:n.value,staticClass:"checkboxGroup__item"},[t("a17-checkbox",{attrs:{name:e.name,value:n.value,label:n.label,initialValue:e.currentValue,disabled:n.disabled||e.disabled},on:{change:e.changeValue}})],1)})),0)])},te=[],ne=n(8446),ie=n.n(ne),re=n(2544),ae=n(2240),oe=n(6830),se={name:"A17CheckboxGroup",props:{name:{type:String,default:""},inline:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}}},mixins:[oe.Z,re.Z,ae.Z],computed:{checkboxClasses:function(){return[this.inline?"checkboxGroup--inline":""]}},methods:{formatValue:function(e,t){var n=this;if(e&&t){var i=this.isMax(e),r=this.isMin(e);(i||r)&&(ie()(t,n.checkedValue)||(n.checkedValue=t))}},updateFromStore:function(e){this.updateValue(e)},updateValue:function(e){this.checkedValue=e},changeValue:function(e){ie()(e,this.currentValue)||this.updateValue(e)}},mounted:function(){this.max+this.min>0&&this.$watch("currentValue",this.formatValue,{immediate:!0})}},le=se,ue=(0,E.Z)(le,ee,te,!1,null,"3e53c5c2",null),ce=ue.exports,de=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,required:e.required}},[t("div",{staticClass:"form__field",class:e.textfieldClasses},[t("input",{attrs:{type:"text",placeholder:e.placeholder,name:e.name,id:e.name,disabled:e.disabled,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,maxlength:"7"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}),t("a17-dropdown",{ref:"colorDropdown",staticClass:"form__field--color",attrs:{position:"bottom-right",arrow:!0,offset:15,minWidth:300,clickable:!0,sideOffset:15},on:{close:e.saveIntoStore}},[t("span",{staticClass:"form__field--colorBtn",style:e.bcgStyle,on:{click:function(t){return e.$refs.colorDropdown.toggle()}}}),t("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t("a17-colorpicker",{attrs:{color:e.value},on:{change:e.updateValueFromPicker}})],1)])],1)])},fe=[],pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"colorpicker"},[t("div",{staticClass:"colorpicker__color"},[t("div",{ref:"satContainer",staticClass:"colorpicker__saturation",style:{background:e.bgColor},on:{mousedown:function(t){return e.handleMouseDown("saturation")}}},[t("div",{staticClass:"colorpicker__saturation--white"}),t("div",{staticClass:"colorpicker__saturation--black"}),t("div",{staticClass:"colorpicker__saturation-pointer",style:{top:e.satPointerTop,left:e.satPointerLeft}},[t("div",{staticClass:"colorpicker__saturation-circle"})])]),t("div",{staticClass:"colorpicker__hue colorpicker__hue--vertical"},[t("div",{ref:"hueContainer",staticClass:"colorpicker__hue-container",on:{mousedown:function(t){return e.handleMouseDown("hue")}}},[t("div",{staticClass:"colorpicker__hue-pointer",style:{top:e.huePointerTop,left:e.huePointerLeft}},[t("div",{staticClass:"colorpicker__hue-picker"})])])])])])},he=[],me=n(3493),be=n.n(me),ye=n(7621),ge=n.n(ye),ve={name:"a17ColorPicker",props:{color:{type:String,required:!0},direction:{type:String,default:"vertical"}},data:function(){return{currentColor:ge()(this.color),currentColorHue:ge()(this.color).toHsv().h,currentTarget:"",pullDirection:""}},computed:{bgColor:function(){return"hsl(".concat(this.currentColorHue,", 100%, 50%)")},satPointerTop:function(){return-100*this.currentColor.toHsv().v+1+100+"%"},satPointerLeft:function(){return 100*this.currentColor.toHsv().s+"%"},huePointerTop:function(){return"vertical"===this.direction?0===this.currentColorHue&&"right"===this.pullDirection?0:-100*this.currentColorHue/360+100+"%":0},huePointerLeft:function(){return"vertical"===this.direction?0:0===this.currentColorHue&&"right"===this.pullDirection?"100%":100*this.currentColorHue/360+"%"}},methods:{throttle:be()((function(e,t){e(t)}),20,{leading:!0,trailing:!1}),satHandleChange:function(e,t){!t&&e.preventDefault();var n=this.$refs.satContainer;if(n){var i=n.clientWidth,r=n.clientHeight,a=n.getBoundingClientRect().left+window.pageXOffset,o=n.getBoundingClientRect().top+window.pageYOffset,s=e.pageX||(e.touches?e.touches[0].pageX:0),l=e.pageY||(e.touches?e.touches[0].pageY:0),u=s-a,c=l-o;u<0?u=0:u>i?u=i:c<0?c=0:c>r&&(c=r);var d=u/i,f=-c/r+1;f=f>0?f:0,f=f>1?1:f,this.throttle(this.onChange,{h:this.currentColorHue,s:d,v:f,a:this.currentColor.toHsv().a})}},hueHandleChange:function(e,t){!t&&e.preventDefault();var n,i,r=this.$refs.hueContainer,a=r.clientWidth,o=r.clientHeight,s=r.getBoundingClientRect().left+window.pageXOffset,l=r.getBoundingClientRect().top+window.pageYOffset,u=e.pageX||(e.touches?e.touches[0].pageX:0),c=e.pageY||(e.touches?e.touches[0].pageY:0),d=u-s,f=c-l;"vertical"===this.direction?f<0?n=360:f>o?n=0:(i=-100*f/o+100,n=360*i/100):d<0?n=0:d>a?n=360:(i=100*d/a,n=360*i/100),this.currentColorHue!==n&&this.throttle(this.onChange,{h:n,s:this.currentColor.toHsl().s,l:this.currentColor.toHsl().l,a:this.currentColor.toHsl().a,source:"hsl"})},handleMouseDown:function(e){this.currentTarget=e,"saturation"===this.currentTarget?(window.addEventListener("mousemove",this.satHandleChange),window.addEventListener("mouseup",this.satHandleChange)):(window.addEventListener("mousemove",this.hueHandleChange),window.addEventListener("mouseup",this.hueHandleChange)),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){this.unbindEventListeners()},unbindEventListeners:function(){"saturation"===this.currentTarget?(window.removeEventListener("mousemove",this.satHandleChange),window.removeEventListener("mouseup",this.satHandleChange)):(window.removeEventListener("mousemove",this.hueHandleChange),window.removeEventListener("mouseup",this.hueHandleChange)),window.removeEventListener("mouseup",this.handleMouseUp)},onChange:function(e){this.currentColor=ge()(e),this.currentColorHue=e.h,this.$emit("change",this.currentColor.toHexString())}}},_e=ve,we=(0,E.Z)(_e,pe,he,!1,null,null,null),Ee=we.exports,Se=n(35),Oe={name:"a17ColorField",mixins:[Se.Z,oe.Z,ae.Z],props:{name:{type:String,required:!0},initialValue:{default:""},defaultValue:{default:""}},components:{"a17-colorpicker":Ee},data:function(){return{focused:!1,value:this.initialValue}},mounted:function(){""===this.value&&""!==this.defaultValue&&this.updateValue(this.defaultValue)},computed:{bcgStyle:function(){return{"background-color":""!==this.value?this.value:"transparent"}},textfieldClasses:function(){return{"s--focus":this.focused,"s--disabled":this.disabled}}},methods:{updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&(this.value=e)},updateValueFromPicker:function(e){this.value!==e&&(this.value=e)},updateValue:function(e){this.value!==e&&(this.value=e,this.saveIntoStore())},onBlur:function(e){var t=e.target.value;this.updateValue(t),this.focused=!1},onFocus:function(){this.focused=!0},onInput:function(){}}},Te=Oe,Pe=(0,E.Z)(Te,de,fe,!1,null,"09f5e603",null),Ce=Pe.exports,Ae=function(){var e=this,t=e._self._c;return t("a17-inputframe",{staticClass:"datePicker",class:{"datePicker--static":e.staticMode,"datePicker--mobile":e.isMobile},attrs:{name:e.name,error:e.error,note:e.note,label:e.label,"label-for":e.uniqId,required:e.required}},[t("div",{ref:e.refs.flatPicker,staticClass:"datePicker__group"},[t("div",{staticClass:"form__field datePicker__field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"text",name:e.name,id:e.uniqId,required:e.required,placeholder:e.placeHolder,"data-input":"",disabled:e.disabled},domProps:{value:e.date},on:{blur:e.onBlur,input:function(t){t.target.composing||(e.date=t.target.value)}}}),e.clear?t("a",{staticClass:"datePicker__reset",class:{"datePicker__reset--cleared":!e.date},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClear.apply(null,arguments)}}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})]):e._e()])])])},xe=[],De=n(1884),ke=n.n(De),Le=n(6667),Ie=n(4293),Me={name:"A17DatePicker",mixins:[K.Z,oe.Z,ae.Z],props:{name:{type:String,default:"date"},required:{type:Boolean,default:!1},placeHolder:{type:String,default:""},allowInput:{type:Boolean,default:!1},enableTime:{type:Boolean,default:!1},noCalendar:{type:Boolean,default:!1},time_24hr:{type:Boolean,default:(0,Ie.aq)()},altFormat:{type:String,default:null},inline:{type:Boolean,default:!1},initialValue:{type:String,default:null},hourIncrement:{type:Number,default:1},minuteIncrement:{type:Number,default:30},staticMode:{type:Boolean,default:!1},minDate:{type:String,default:null},maxDate:{type:String,default:null},disabled:{type:Boolean,default:!1},mode:{type:String,default:"single",validator:function(e){return"single"===e||"multiple"===e||"range"===e}},clear:{type:Boolean,default:!1}},data:function(){return{date:this.initialValue,isMobile:!1,flatPicker:null,refs:{flatPicker:"flatPicker"}}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},altFormatComputed:function(){return null!==this.altFormat?this.altFormat:"F j, Y"+(this.enableTime?this.time_24hr||(0,Ie.aq)()?" H:i":" h:i K":"")}},methods:{config:function(){var e=this,t={wrap:!0,altInput:!0,altFormat:e.altFormatComputed,dateFormat:e.enableTime?"Z":"Y-m-d",static:e.staticMode,appendTo:e.staticMode?e.$refs[e.refs.flatPicker]:void 0,enableTime:e.enableTime,noCalendar:e.noCalendar,time_24hr:e.time_24hr,inline:e.inline,allowInput:e.allowInput,mode:e.mode,minuteIncrement:e.minuteIncrement,hourIncrement:e.hourIncrement,minDate:e.minDate,altInputClass:"flatpickr-input form-control",maxDate:e.maxDate,parseDate:function(e,t){var n="yyyy-MM-dd HH:mm:ss";if(e.length===n.length)return ke()(e+"Z",n+"X",Date.UTC());var i="yyyy-MM-dd HH:mm";if(e.length===i.length)return ke()(e+"Z",n+"X",Date.UTC());var r="yyyy-MM-dd";return e.length===r.length?ke()(e,r,Date.UTC()):new Date(e)},onOpen:function(){setTimeout((function(){e.flatPicker.set("maxDate",e.maxDate),e.flatPicker.set("minDate",e.minDate)}),10),e.$emit("open",e.date)},onClose:function(t,n,i){e.$nextTick((function(){e.$emit("input",e.date),e.$emit("close",e.date),e.saveIntoStore()}))}},n=Ie.k1[(0,Ie.BH)()];return void 0!==n&&n.hasOwnProperty("flatpickr")&&(t.locale=n.flatpickr),t},updateFromStore:function(e){e!==this.date&&(this.date=e,this.flatPicker.setDate(e))},onInput:function(e){this.$emit("input",this.date)},onBlur:function(){this.$emit("blur",this.date)},onClear:function(){this.flatPicker.clear(),this.saveIntoStore(),this.$emit("input",this.date)}},mounted:function(){var e=this,t=e.$refs[e.refs.flatPicker],n=e.config();e.flatPicker=new Le.Z(t,n),this.isMobile=e.flatPicker.isMobile},beforeDestroy:function(){var e=this;e.flatPicker.destroy()}},Re=Me,je=(0,E.Z)(Re,Ae,xe,!1,null,"04efb4a5",null),Ne=je.exports,Be=function(){var e=this,t=e._self._c;return t("a17-modal",{ref:"modal",staticClass:"modal--tiny modal--form modal--withintro",attrs:{title:e.modalTitle,forceClose:!0}},[e._t("default"),t("a17-inputframe",[t("a17-button",{staticClass:"dialog-confirm",attrs:{variant:"validate"}},[e._v(e._s(e.confirmLabel))]),e._v(" "),t("a17-button",{staticClass:"dialog-cancel",attrs:{variant:"aslink"}},[t("span",[e._v(e._s(e.cancelLabel))])])],1)],2)},Fe=[],Ue={name:"A17Dialog",props:{name:{type:String,default:""},modalTitle:{type:String,default:function(){return this.$trans("dialog.title")}},confirmLabel:{type:String,default:function(){return this.$trans("dialog.ok")}},cancelLabel:{type:String,default:function(){return this.$trans("dialog.cancel")}}},methods:{open:function(e){var t=this;this.$refs.modal&&this.$refs.modal.open(),this.$nextTick((function(){t.$el.querySelector(".dialog-confirm").addEventListener("click",(function(n){e(),t.close()})),t.$el.querySelector(".dialog-cancel").addEventListener("click",(function(e){t.close()}))}))},close:function(){this.$refs.modal&&this.$refs.modal.close()}}},Ve=Ue,$e=(0,E.Z)(Ve,Be,Fe,!1,null,null,null),Ze=$e.exports,qe=n(9980),We=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,label:e.label,locale:e.locale,size:e.size,name:e.name,note:e.fieldNote},on:{localize:e.updateLocale}},[t("div",{staticClass:"fileField"},[e.buttonOnTop&&e.remainingItems?t("div",{staticClass:"fileField__trigger"},[t("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),t("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(t){return e.openMediaLibrary(e.remainingItems)}}},[e._v(e._s(e.addLabel))]),t("span",{staticClass:"fileField__note f--small"},[e._v(e._s(e.note))])],1):e._e(),e.items.length?t("table",{staticClass:"fileField__list"},[t("draggable",{attrs:{tag:"tbody"},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},e._l(e.items,(function(n,i){return t("a17-fileitem",{key:n.id,staticClass:"item__content",attrs:{name:"".concat(e.name,"_").concat(n.id),draggable:e.isDraggable,item:n},on:{delete:function(t){return e.deleteItem(i)}}})})),1)],1):e._e(),!e.buttonOnTop&&e.remainingItems?t("div",{staticClass:"fileField__trigger"},[t("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),t("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(t){return e.openMediaLibrary(e.remainingItems)}}},[e._v(e._s(e.addLabel))]),t("span",{staticClass:"fileField__note f--small"},[e._v(e._s(e.note))])],1):e._e()])])},He=[],Ye=n(8348),ze=n(1017),Ke=function(){var e=this,t=e._self._c;return t("tr",{staticClass:"fileItem"},[e.draggable?t("td",{staticClass:"fileItem__cell fileItem__cell--drag"},[t("div",{staticClass:"drag__handle--drag"})]):e._e(),e.currentItem.hasOwnProperty("extension")?t("td",{staticClass:"fileItem__cell fileItem__cell--extension"},[t("a",{attrs:{href:"#",target:"_blank"}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:e.getSvgIconName()}})])]):e._e(),t("td",{staticClass:"fileItem__cell fileItem__cell--name"},[e.currentItem.hasOwnProperty("thumbnail")?t("span",[t("img",{attrs:{src:e.currentItem.thumbnail}})]):e._e(),t("a",{attrs:{href:e.currentItem.hasOwnProperty("original")?e.currentItem.original:"#",download:""}},[t("span",{staticClass:"f--link-underlined--o"},[e._v(e._s(e.currentItem.name))])]),t("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentItem.id}})]),e.currentItem.hasOwnProperty("size")?t("td",{staticClass:"fileItem__cell fileItem__cell--size"},[e._v(e._s(e.currentItem.size))]):e._e(),t("td",{staticClass:"fileItem__cell"},[t("a17-button",{staticClass:"bucket__action",attrs:{icon:"close"},on:{click:function(t){return e.deleteItem()}}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})])],1)])},Ge=[],Xe={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},Qe=Xe,Je={name:"a17FileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){var e=this.currentItem.extension;if(Qe.hasOwnProperty(e))return Qe[e].icon;for(var t in Qe){var n=Qe[t].extensions.findIndex((function(t){return t===e}));if(n>-1)return Qe[t].icon}return"gen"}}},et=Je,tt=(0,E.Z)(et,Ke,Ge,!1,null,"5c6d6a95",null),nt=tt.exports;function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t=st(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){var t=lt(e,"string");return"symbol"===it(t)?t:String(t)}function lt(e,t){if("object"!==it(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==it(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ut={name:"A17FileField",components:{"a17-fileitem":nt,draggable:h()},mixins:[b.Z,ze.Z,Ye.Z,oe.Z],props:{type:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},draggable:{type:Boolean,default:!0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}},data:function(){return{handle:".item__handle"}},computed:at(at({remainingItems:function(){return this.max-this.items.length},items:{get:function(){return this.selectedFiles.hasOwnProperty(this.name)&&this.selectedFiles[this.name]||[]},set:function(e){this.$store.commit(y.CV.REORDER_MEDIAS,{name:this.name,medias:e})}},isDraggable:function(){return this.draggable&&this.items.length>1},itemsIds:function(){return this.selectedItemsByIds[this.name]?this.selectedItemsByIds[this.name].join():""},addLabel:function(){return this.$trans("fields.files.add-label","Add")+" "+this.itemLabel}},(0,m.rn)({selectedFiles:function(e){return e.mediaLibrary.selected}})),(0,m.Se)(["selectedItemsByIds"])),methods:{deleteAll:function(e){this.$store.commit(y.CV.DESTROY_MEDIAS,{name:this.name})},deleteItem:function(e){this.$store.commit(y.CV.DESTROY_SPECIFIC_MEDIA,{name:this.name,index:e})},destroyValue:function(){this.deleteAll()}}},ct=ut,dt=(0,E.Z)(ct,We,He,!1,null,"86ceea78",null),ft=dt.exports,pt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form__input form__input--hidden"},[t("input",{attrs:{type:"hidden",name:e.name,id:e.uniqId},domProps:{value:e.value}})])},ht=[],mt={name:"A17HiddenField",mixins:[K.Z,Se.Z,ae.Z],props:{name:{type:String,required:!0},initialValue:{default:""}},computed:{uniqId:function(){return this.name+"-"+this.randKey}},data:function(){return{value:this.initialValue}},watch:{initialValue:function(){this.value=this.initialValue}},methods:{updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&(this.value=e)}}},bt=mt,yt=(0,E.Z)(bt,pt,ht,!1,null,null,null),gt=yt.exports,vt=function(){var e=this,t=e._self._c;return t("a17-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{variant:"icon",size:"smallIcon","data-tooltip-title":e.text,"data-tooltip-theme":"large","data-tooltip-placement":"right"}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"info"}})])},_t=[],wt={name:"A17Infotip",props:{text:{default:""}},computed:{},methods:{onClick:function(){this.$emit("click")}}},Et=wt,St=(0,E.Z)(Et,vt,_t,!1,null,"2da324be",null),Ot=St.exports,Tt=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.isCurrentLocale,expression:"isCurrentLocale"}],staticClass:"input",class:e.textfieldClasses,attrs:{hidden:!e.isCurrentLocale||null}},[e.label?t("label",{staticClass:"input__label",attrs:{for:e.labelFor||e.name}},[e._v(" "+e._s(e.label)),e.required?t("span",{staticClass:"input__required"},[e._v("*")]):e._e(),e.hasLocale&&e.languages.length>1?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"input__lang",attrs:{"data-tooltip-title":e.$trans("fields.generic.switch-language")},on:{click:e.onClickLocale}},[e._v(e._s(e.displayedLocale))]):e._e(),e.note?t("span",{staticClass:"input__note f--small"},[e._v(e._s(e.note))]):e._e()]):e._e(),e.addNew?t("a",{staticClass:"input__add",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openAddModal.apply(null,arguments)}}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}}),e._v(" "),t("span",{staticClass:"f--link-underlined--o"},[e._v("Add New")])]):e._e(),e._t("default"),e.error&&e.errorMessage?t("span",{staticClass:"input__errorMessage f--small",domProps:{innerHTML:e._s(e.errorMessage)}}):e._e(),e.otherLocalesError?t("span",{staticClass:"input__errorMessage f--small"},[e._v(e._s(e.errorMessageLocales))]):e._e()],2)},Pt=[],Ct={name:"A17InputFrame",mixins:[Se.Z,oe.Z,Ye.Z],props:{addNew:{type:String,default:""}},computed:{textfieldClasses:function(){var e=["small"===this.size?"input--small":"",this.error?"input--error":"","input-wrapper-"+(this.name||this.labelFor)];return this.variant&&this.variant.split(" ").forEach((function(t){e.push("input--".concat(t))})),e}},methods:{openAddModal:function(){this.$parent.$refs.addModal&&this.$parent.$refs.addModal.open()}}},At=Ct,xt=(0,E.Z)(At,Tt,Pt,!1,null,"0d108f70",null),Dt=xt.exports,kt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"locale"},[e.languages&&e.languages.length&&e.languages.length>0?e._l(e.languages,(function(n){return t("div",{key:n.value,staticClass:"locale__item"},[n.value===e.currentLocale.value||e.isCustomForm||e.keepInDom?t("".concat(e.type),e._b({ref:"field",refInFor:!0,tag:"component",attrs:{"data-lang":n.value,name:"".concat(e.attributes.name,"[").concat(n.value,"]"),fieldName:e.attributes.name,locale:n},on:{localize:e.updateLocale,change:function(t){return e.updateValue.apply(e,[n.value].concat(Array.prototype.slice.call(arguments)))},blur:function(t){return e.$emit("blur")},focus:function(t){return e.$emit("focus")}}},"component",e.attributesPerLang(n.value),!1),[e._t("default")],2):e._e()],1)})):[t("".concat(e.type),e._b({ref:"field",tag:"component",attrs:{name:e.attributes.name},on:{change:function(t){return e.updateValue.apply(e,[!1].concat(Array.prototype.slice.call(arguments)))},blur:function(t){return e.$emit("blur")},focus:function(t){return e.$emit("focus")}}},"component",e.attributesNoLang(),!1),[e._t("default")],2)]],2)},Lt=[],It=n(361),Mt=n.n(It);function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return t=Ft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){var t=Ut(e,"string");return"symbol"===Rt(t)?t:String(t)}function Ut(e,t){if("object"!==Rt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Rt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Vt={name:"A17Locale",props:{type:{type:String,default:"text"},keepInDom:{type:Boolean,default:!1},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}},isRequired:{type:Boolean,default:function(){return this.attributes.required||!1}}},computed:Nt({},(0,m.rn)({currentLocale:function(e){return e.language.active},languages:function(e){return e.language.all}})),data:function(){return{isCustomForm:!1}},mounted:function(){this.isCustomForm=void 0!==this.$root.$refs.customForm},methods:{attributesPerLang:function(e){var t=this.languages.find((function(t){return t.value===e})),n=Mt()(this.attributes);return this.initialValues&&"object"===Rt(this.initialValues)&&this.initialValues[e]?n.initialValue=this.initialValues[e]:n.initialValue||(n.initialValue=""),n.required=!!t.published&&this.isRequired,n},attributesNoLang:function(){var e=Mt()(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(y.ad.SWITCH_LANG,{oldValue:e}),this.$nextTick((function(){var e=this.$el.querySelector('[data-lang="'+this.currentLocale.value+'"]');if(e){var t=e.querySelector("input:not([disabled]), textarea:not([disabled]), select:not([disabled])");t&&t.focus()}})),this.$emit("localize",this.currentLocale)},updateValue:function(e,t){e?this.$emit("change",{locale:e,value:t}):this.$emit("change",{value:t})}}},$t=Vt,Zt=(0,E.Z)($t,kt,Lt,!1,null,null,null),qt=Zt.exports,Wt=function(){var e=this,t=e._self._c;return t("a17-modal",{ref:"modal",attrs:{title:e.modalTitle,mode:"wide"},on:{open:e.opened}},[t("div",{staticClass:"medialibrary"},[t("div",{staticClass:"medialibrary__frame"},[t("div",{ref:"form",staticClass:"medialibrary__header"},[t("a17-filter",{attrs:{clearOption:!0},on:{submit:e.submitFilter,clear:e.clearFilters}},[e.types.length?t("ul",{staticClass:"secondarynav secondarynav--desktop",attrs:{slot:"navigation"},slot:"navigation"},e._l(e.types,(function(n){return t("li",{key:n.value,staticClass:"secondarynav__item",class:{"s--on":e.type===n.value,"s--disabled":e.type!==n.value&&e.strict}},[t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.updateType(n.value)}}},[t("span",{staticClass:"secondarynav__link"},[e._v(e._s(n.text))]),n.total>0?t("span",{staticClass:"secondarynav__number"},[e._v("("+e._s(n.total)+")")]):e._e()])])})),0):e._e(),t("div",{staticClass:"secondarynav secondarynav--mobile secondarynav--dropdown",attrs:{slot:"navigation"},slot:"navigation"},[t("a17-dropdown",{ref:"secondaryNavDropdown",attrs:{position:"bottom-left",width:"full",offset:0}},[e.selectedType?t("a17-button",{staticClass:"secondarynav__button",attrs:{variant:"dropdown-transparent",size:"small"},on:{click:function(t){return e.$refs.secondaryNavDropdown.toggle()}}},[t("span",{staticClass:"secondarynav__link"},[e._v(e._s(e.selectedType.text))]),t("span",{staticClass:"secondarynav__number"},[e._v(e._s(e.selectedType.total))])]):e._e(),t("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t("ul",e._l(e.types,(function(n){return t("li",{key:n.value,staticClass:"secondarynav__item"},[t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.updateType(n.value)}}},[t("span",{staticClass:"secondarynav__link"},[e._v(e._s(n.text))]),t("span",{staticClass:"secondarynav__number"},[e._v(e._s(n.total))])])])})),0)])],1)],1),t("div",{attrs:{slot:"hidden-filters"},slot:"hidden-filters"},[t("a17-vselect",{ref:"filter",staticClass:"medialibrary__filter-item",attrs:{name:"tag",options:e.tags,placeholder:e.$trans("media-library.filter-select-label","Filter by tag"),searchable:!0,maxHeight:"175px"}}),t("a17-checkbox",{ref:"unused",staticClass:"medialibrary__filter-item",attrs:{name:"unused","initial-value":0,value:1,label:e.$trans("media-library.unused-filter-label","Show unused only")}})],1)])],1),t("div",{staticClass:"medialibrary__inner"},[t("div",{staticClass:"medialibrary__grid"},[t("aside",{staticClass:"medialibrary__sidebar"},[t("a17-mediasidebar",{attrs:{medias:e.selectedMedias,authorized:e.authorized,extraMetadatas:e.extraMetadatas,type:e.currentTypeObject,translatableMetadatas:e.translatableMetadatas},on:{clear:e.clearSelectedMedias,delete:e.deleteSelectedMedias,tagUpdated:e.reloadTags,triggerMediaReplace:e.replaceMedia}})],1),e.selectedMedias.length&&e.showInsert&&e.connector?t("footer",{staticClass:"medialibrary__footer"},[e.canInsert?t("a17-button",{attrs:{variant:"action"},on:{click:e.saveAndClose}},[e._v(e._s(e.btnLabel))]):t("a17-button",{attrs:{variant:"action",disabled:!0}},[e._v(e._s(e.btnLabel))])],1):e._e(),t("div",{ref:"list",staticClass:"medialibrary__list"},[e.authorized?t("a17-uploader",{ref:"uploader",attrs:{type:e.currentTypeObject},on:{loaded:e.addMedia,clear:e.clearSelectedMedias}}):e._e(),t("div",{staticClass:"medialibrary__list-items"},["file"===e.type?t("a17-itemlist",{attrs:{items:e.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":e.usedMedias},on:{change:e.updateSelectedMedias,shiftChange:e.updateSelectedMedias}}):t("a17-mediagrid",{attrs:{items:e.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":e.usedMedias},on:{change:e.updateSelectedMedias,shiftChange:e.updateSelectedMedias}}),e.loading?t("a17-spinner",{staticClass:"medialibrary__spinner"},[e._v("Loading…")]):e._e()],1)],1)])])])])])},Ht=[],Yt=n(1124),zt=n(5573),Kt=n(5068),Gt=n(3827),Xt="MEDIA-LIBRARY",Qt={get:function(e,t,n,i){r().get(e,{params:t}).then((function(e){n&&"function"===typeof n&&n(e)}),(function(e){var t={message:"Media library get error.",value:e};(0,Gt.I)(Xt,t),i&&"function"===typeof i&&i(e)}))},update:function(e,t,n,i){r().put(e,t).then((function(e){n&&"function"===typeof n&&n(e)}),(function(e){var t={message:"Media library update error.",value:e};(0,Gt.I)(Xt,t),i&&"function"===typeof i&&i(e)}))},delete:function(e,t,n){r()["delete"](e).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Media library delete error.",value:e};(0,Gt.I)(Xt,t),n&&"function"===typeof n&&n(e)}))},bulkDelete:function(e,t,n,i){r().put(e,t).then((function(e){n&&"function"===typeof n&&n(e)}),(function(e){var t={message:"Media library bulk delete error.",value:e};(0,Gt.I)(Xt,t),i&&"function"===typeof i&&i(e)}))}},Jt=n(7713),en=n(1385),tn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mediagrid"},[e._l(e.itemsLoading,(function(n,i){return t("div",{directives:[{name:"show",rawName:"v-show",value:!n.isReplacement,expression:"!item.isReplacement"}],key:"mediaLoading_"+n.id,staticClass:"mediagrid__item"},[t("span",{staticClass:"mediagrid__button s--loading"},[n.error?t("span",{staticClass:"mediagrid__progressError"},[e._v("Upload Error")]):t("span",{staticClass:"mediagrid__progress"},[t("span",{staticClass:"mediagrid__progressBar",style:e.loadingProgress(i)})])])])})),e._l(e.items,(function(n){return t("div",{key:n.id,staticClass:"mediagrid__item",class:{"s--hasFilename":e.showFileName}},[t("span",{staticClass:"mediagrid__button",class:{"s--picked":e.isSelected(n),"s--used":e.isUsed(n)||!!e.replacingMediaIds[n.id],"s--disabled":n.disabled},on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.toggleSelection(n)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.shiftToggleSelection(n):null}]}},[t("img",{staticClass:"mediagrid__img",attrs:{src:n.thumbnail}})]),e.showFileName?t("p",{staticClass:"mediagrid__name",attrs:{title:n.name}},[e._v(e._s(n.name))]):e._e()])}))],2)},nn=[],rn=n(9160);function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t,n){return t=un(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e){var t=cn(e,"string");return"symbol"===an(t)?t:String(t)}function cn(e,t){if("object"!==an(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==an(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var dn={name:"A17Mediagrid",mixins:[rn.Z],computed:sn({},(0,m.rn)({showFileName:function(e){return e.mediaLibrary.showFileName}})),methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},fn=dn,pn=(0,E.Z)(fn,tn,nn,!1,null,"3d6118b4",null),hn=pn.exports,mn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mediasidebar"},[e.mediasLoading.length?t("a17-mediasidebar-upload"):[t("div",{staticClass:"mediasidebar__inner",class:e.containerClasses},[e.hasMedia?e._e():t("p",{staticClass:"f--note"},[e._v(e._s(e.$trans("media-library.sidebar.empty-text","No file selected")))]),e.hasMultipleMedias?t("p",{staticClass:"mediasidebar__info"},[e._v(" "+e._s(e.medias.length)+" "+e._s(e.$trans("media-library.sidebar.files-selected","files selected"))+" "),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.clear.apply(null,arguments)}}},[e._v(e._s(e.$trans("media-library.sidebar.clear","Clear")))])]):e._e(),e.hasSingleMedia?[e.isImage?t("img",{staticClass:"mediasidebar__img",attrs:{src:e.firstMedia.thumbnail,alt:e.firstMedia.original}}):e._e(),t("p",{staticClass:"mediasidebar__name"},[e._v(e._s(e.firstMedia.name))]),t("ul",{staticClass:"mediasidebar__metadatas"},[e.firstMedia.size?t("li",{staticClass:"f--small"},[e._v("File size: "+e._s(e._f("uppercase")(e.firstMedia.size)))]):e._e(),e.isImage&&e.firstMedia.width+e.firstMedia.height?t("li",{staticClass:"f--small"},[e._v(" "+e._s(e.$trans("media-library.sidebar.dimensions","Dimensions"))+": "+e._s(e.firstMedia.width)+" × "+e._s(e.firstMedia.height)+" ")]):e._e()])]:e._e(),e.hasMedia?t("a17-buttonbar",{staticClass:"mediasidebar__buttonbar"},[e.hasSingleMedia?t("a",{attrs:{href:e.firstMedia.original,download:""}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}})]):e._e(),e.allowDelete&&e.authorized?t("button",{attrs:{type:"button"},on:{click:e.deleteSelectedMediasValidation}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})]):t("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button--disabled",attrs:{type:"button","data-tooltip-title":e.warningDeleteMessage}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})]),e.hasSingleMedia?t("button",{attrs:{type:"button"},on:{click:e.replaceMedia}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"replace"}})]):e._e()]):e._e()],2),e.hasMedia?t("form",{ref:"form",staticClass:"mediasidebar__inner mediasidebar__form",on:{submit:e.submit}},[e.loading?t("span",{staticClass:"mediasidebar__loader"},[t("span",{staticClass:"loader loader--small"},[t("span")])]):e._e(),e.fieldsRemovedFromBulkEditing.includes("tags")?e._e():t("a17-vselect",{key:e.firstMedia.id+"-"+e.medias.length,attrs:{label:e.$trans("media-library.sidebar.tags"),name:"tags",multiple:!0,selected:e.hasMultipleMedias?e.sharedTags:e.firstMedia.tags,searchable:!0,emptyText:e.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:e.type.tagsEndpoint,maxHeight:"175px"},on:{change:e.save}}),e.extraMetadatas.length&&e.isImage&&e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"f--tiny f--note f--underlined",attrs:{"data-tooltip-title":"Remove this field if you do not want to update it on all selected medias","data-tooltip-theme":"default","data-tooltip-placement":"top"},on:{click:function(t){return e.removeFieldFromBulkEditing("tags")}}},[e._v("Remove from bulk edit")]):e._e(),e.hasMultipleMedias?[t("input",{attrs:{type:"hidden",name:"ids"},domProps:{value:e.mediasIds}})]:[t("input",{attrs:{type:"hidden",name:"id"},domProps:{value:e.firstMedia.id}}),e.translatableMetadatas.length>0?t("div",{staticClass:"mediasidebar__langswitcher"},[t("a17-langswitcher",{attrs:{"in-modal":!0,"all-published":!0}})],1):e._e(),e.isImage&&e.translatableMetadatas.includes("alt_text")?t("a17-locale",{attrs:{type:"a17-textfield",attributes:{label:e.$trans("media-library.sidebar.alt-text","Alt text"),name:"alt_text",type:"text",size:"small"},keepInDom:!0,initialValues:e.altValues},on:{focus:e.focus,blur:e.blur}}):e.isImage?t("a17-textfield",{attrs:{label:e.$trans("media-library.sidebar.alt-text","Alt text"),name:"alt_text",initialValue:e.firstMedia.metadatas.default.altText,size:"small"},on:{focus:e.focus,blur:e.blur}}):e._e(),e.useWysiwyg?[e.isImage&&e.translatableMetadatas.includes("caption")?t("a17-locale",{attrs:{type:"a17-wysiwyg",attributes:{options:e.wysiwygOptions,label:e.$trans("media-library.sidebar.caption","Caption"),name:"caption",size:"small"},keepInDom:!0,initialValues:e.captionValues},on:{focus:e.focus,blur:e.blur}}):e.isImage?t("a17-wysiwyg",{attrs:{type:"textarea",rows:1,size:"small",label:e.$trans("media-library.sidebar.caption","Caption"),name:"caption",options:e.wysiwygOptions,initialValue:e.firstMedia.metadatas.default.caption},on:{focus:e.focus,blur:e.blur}}):e._e()]:[e.isImage&&e.translatableMetadatas.includes("caption")?t("a17-locale",{attrs:{type:"a17-textfield",attributes:{type:"textarea",rows:1,label:e.$trans("media-library.sidebar.caption","Caption"),name:"caption",size:"small"},keepInDom:!0,initialValues:e.captionValues},on:{focus:e.focus,blur:e.blur}}):e.isImage?t("a17-textfield",{attrs:{type:"textarea",rows:1,size:"small",label:e.$trans("media-library.sidebar.caption","Caption"),name:"caption",initialValue:e.firstMedia.metadatas.default.caption},on:{focus:e.focus,blur:e.blur}}):e._e()],e._l(e.singleOnlyMetadatas,(function(n){return[!e.isImage||"text"!==n.type&&n.type||!e.translatableMetadatas.includes(n.name)?!e.isImage||"text"!==n.type&&n.type?e._e():t("a17-textfield",{key:n.name,attrs:{label:n.label,name:n.name,size:"small",initialValue:e.firstMedia.metadatas.default[n.name],type:"textarea",rows:1},on:{focus:e.focus,blur:e.blur}}):t("a17-locale",{key:n.name,attrs:{type:"a17-textfield",keepInDom:!0,attributes:{label:n.label,name:n.name,type:"textarea",rows:1,size:"small"},initialValues:e.firstMedia.metadatas.default[n.name]},on:{focus:e.focus,blur:e.blur}}),e.isImage&&"checkbox"===n.type?t("div",{key:n.name,staticClass:"mediasidebar__checkbox"},[t("a17-checkbox",{attrs:{label:n.label,name:n.name,initialValue:e.firstMedia.metadatas.default[n.name],value:1},on:{change:e.blur}})],1):e._e()]}))],e._l(e.singleAndMultipleMetadatas,(function(n){return[e.isImage&&("text"===n.type||!n.type)&&(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(n.name)||e.hasSingleMedia)&&e.translatableMetadatas.includes(n.name)?t("a17-locale",{key:n.name,attrs:{type:"a17-textfield",keepInDom:!0,attributes:{label:n.label,name:n.name,type:"textarea",rows:1,size:"small"},initialValues:e.sharedMetadata(n.name,"object")},on:{focus:e.focus,blur:e.blur}}):!e.isImage||"text"!==n.type&&n.type||!(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(n.name)||e.hasSingleMedia)?e._e():t("a17-textfield",{key:n.name,attrs:{label:n.label,name:n.name,size:"small",initialValue:e.sharedMetadata(n.name),type:"textarea",rows:1},on:{focus:e.focus,blur:e.blur}}),e.isImage&&"checkbox"===n.type&&(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(n.name)||e.hasSingleMedia)?t("div",{key:n.name,staticClass:"mediasidebar__checkbox"},[t("a17-checkbox",{key:n.name,attrs:{label:n.label,name:n.name,initialValue:e.sharedMetadata(n.name,"boolean"),value:1},on:{change:e.blur}})],1):e._e(),e.isImage&&e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(n.name)?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:n.name,staticClass:"f--tiny f--note f--underlined",attrs:{"data-tooltip-title":"Remove this field if you do not want to update it on all selected medias","data-tooltip-theme":"default","data-tooltip-placement":"top"},on:{click:function(t){return e.removeFieldFromBulkEditing(n.name)}}},[e._v("Remove from bulk edit")]):e._e()]}))],2):e._e()],t("a17-modal",{ref:"warningDelete",staticClass:"modal--tiny modal--form modal--withintro",attrs:{title:"Warning Delete"}},[t("p",{staticClass:"modal--tiny-title"},[t("strong",[e._v(e._s(e.$trans("media-library.dialogs.delete.title","Are you sure ?")))])]),t("p",[e._v(e._s(e.warningDeleteMessage))]),t("a17-inputframe",[t("a17-button",{attrs:{variant:"validate"},on:{click:e.deleteSelectedMedias}},[e._v("Delete ("+e._s(e.mediasIdsToDelete.length)+") ")]),t("a17-button",{attrs:{variant:"aslink"},on:{click:function(t){return e.$refs.warningDelete.close()}}},[t("span",[e._v("Cancel")])])],1)],1)],2)},bn=[],yn=n(4884),gn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mediasidebar__inner mediasidebar__inner--single"},[t("p",{staticClass:"f--note"},[e._v("Uploading "+e._s(e.mediasLoading.length)+" file"+e._s(e.mediasLoading.length>1?"s":""))]),t("div",{staticClass:"mediasidebar__progress"},[t("span",{staticClass:"mediasidebar__progressBar",style:e.loadingProgress})]),t("div",{staticClass:"mediasidebar__loading"},e._l(e.mediasLoading,(function(n){return t("p",{key:n.id,staticClass:"f--small",class:{"s--error":n.error}},[n.error?t("span",{staticClass:"mediasidebar__errorMessage"},[e._v(e._s(n.errorMessage))]):e._e(),t("span",[e._v(e._s(n.name))]),e._v(" "),n.error?t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.cancelUpload(n)}}},[e._v("Cancel")]):e._e()])})),0)])},vn=[];function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){Sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e,t,n){return t=On(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){var t=Tn(e,"string");return"symbol"===_n(t)?t:String(t)}function Tn(e,t){if("object"!==_n(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Pn={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:En({loadingProgress:function(){var e=-100+this.uploadProgress;return{transform:"translateX("+e+"%)"}}},(0,m.rn)({mediasLoading:function(e){return e.mediaLibrary.loading},uploadProgress:function(e){return e.mediaLibrary.uploadProgress}})),methods:{cancelUpload:function(e){this.$store.commit(y.CV.DONE_UPLOAD_MEDIA,e)}}},Cn=Pn,An=(0,E.Z)(Cn,gn,vn,!1,null,"6a681c02",null),xn=An.exports,Dn=n(1633);function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return t=Rn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e){var t=jn(e,"string");return"symbol"===kn(t)?t:String(t)}function jn(e,t){if("object"!==kn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==kn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}for(var Nn={name:"A17MediaSidebar",components:{"a17-mediasidebar-upload":xn,"a17-langswitcher":yn.Z},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default:function(){return[]}},translatableMetadatas:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[]}},filters:Dn.Z,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:In({firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return 1===this.medias.length},hasMedia:function(){return this.medias.length>0},isImage:function(){return"image"===this.type.value},sharedTags:function(){return this.medias.map((function(e){return e.tags})).reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))},sharedMetadata:function(){var e=this;return function(t,n){return e.hasMultipleMedias?e.medias.map((function(e){return e.metadatas.default[t]})).every((function(e,t,n){return Array.isArray(e)?e[0]==n[0]:e==n[0]}))?e.firstMedia.metadatas.default[t]:"object"===n?{}:"boolean"!==n&&"":"object"===kn(e.firstMedia.metadatas.default[t])||"boolean"===n?e.firstMedia.metadatas.default[t]:{}}},captionValues:function(){return"object"===kn(this.firstMedia.metadatas.default.caption)?this.firstMedia.metadatas.default.caption:{}},altValues:function(){return"object"===kn(this.firstMedia.metadatas.default.altText)?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map((function(e){return e.id})).join(",")},mediasIdsToDelete:function(){return this.medias.filter((function(e){return e.deleteUrl})).map((function(e){return e.id}))},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every((function(e){return e.deleteUrl}))||this.hasMultipleMedias&&!this.medias.every((function(e){return!e.deleteUrl}))},warningDeleteMessage:function(){return this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){var e=this;return this.extraMetadatas.filter((function(t){return t.multiple&&!e.translatableMetadatas.includes(t.name)}))},singleOnlyMetadatas:function(){var e=this;return this.extraMetadatas.filter((function(t){return!t.multiple||t.multiple&&e.translatableMetadatas.includes(t.name)}))}},(0,m.rn)({mediasLoading:function(e){return e.mediaLibrary.loading},useWysiwyg:function(e){return e.mediaLibrary.config.useWysiwyg},wysiwygOptions:function(e){return e.mediaLibrary.config.wysiwygOptions}})),methods:{replaceMedia:function(){var e=this;this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open((function(){e.triggerMediaReplace()})):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){var e=this;if(this.loading)return!1;this.mediasIdsToDelete.length===this.medias.length?this.$root.$refs.deleteWarningMediaLibrary?this.$root.$refs.deleteWarningMediaLibrary.open((function(){e.deleteSelectedMedias()})):this.deleteSelectedMedias():this.$refs.warningDelete.open()},deleteSelectedMedias:function(){var e=this;if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?Qt.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},(function(t){e.loading=!1,e.$emit("delete",e.mediasIdsToDelete),e.$refs.warningDelete.close()}),(function(t){e.$store.commit(y.qq.SET_NOTIF,{message:t.data.message,variant:"error"})})):Qt["delete"](this.firstMedia.deleteUrl,(function(t){e.loading=!1,e.$emit("delete",e.mediasIdsToDelete),e.$refs.warningDelete.close()}),(function(t){e.$store.commit(y.qq.SET_NOTIF,{message:t.data.message,variant:"error"})}))},clear:function(){this.$emit("clear")},getFormData:function(e){return(0,zt.Z)(e)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){var e=this;this.focused=!1,this.save();var t=this.$refs.form,n=this.getFormData(t);this.hasSingleMedia?(n.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=n.alt_text:this.firstMedia.metadatas.default.altText="",n.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=n.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach((function(t){n.hasOwnProperty(t.name)?e.firstMedia.metadatas.default[t.name]=n[t.name]:e.firstMedia.metadatas.default[t.name]=""}))):this.singleAndMultipleMetadatas.forEach((function(t){n.hasOwnProperty(t.name)&&e.medias.forEach((function(e){e.metadatas.default[t.name]=n[t.name]}))}))},save:function(){var e=this;this.$nextTick((function(){var t=e.$refs.form;if(t){var n=e.getFormData(t);ie()(n,e.previousSavedData)||e.loading||(e.previousSavedData=n,e.update(t))}}))},submit:function(e){e.preventDefault(),this.save()},update:function(e){var t=this;if(!this.loading){this.loading=!0;var n=this.getFormData(e);n.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;var i=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;Qt.update(i,n,(function(e){t.loading=!1,e.data.tags&&t.$emit("tagUpdated",e.data.tags),t.hasMultipleMedias&&e.data.items&&t.medias.forEach((function(t){e.data.items.some((function(e){return e.id===t.id&&(t.tags=e.tags),e.id===t.id}))}))}),(function(e){t.loading=!1,e.data.message&&t.$store.commit(y.qq.SET_NOTIF,{message:e.data.message,variant:"error"})}))}}}},Bn=Nn,Fn=(0,E.Z)(Bn,mn,bn,!1,null,"4f7e4b44",null),Un=Fn.exports,Vn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"uploader"},[t("div",{ref:"uploaderDropzone",staticClass:"uploader__dropzone"},[t("div",{ref:"uploaderBrowseButton",staticClass:"button"},[e._v(e._s(e.$trans("uploader.upload-btn-label","Add new")))]),t("div",{staticClass:"uploader__dropzone--desktop"},[e._v(e._s(e.$trans("uploader.dropzone-text","or drop new files here")))])])])},$n=[],Zn=n(767),qn=n.n(Zn),Wn=n(4205),Hn=n(6495),Yn=n(5793),zn=n(3700),Kn=/[\/\?<>\\:\*\|":]/g,Gn=/[\x00-\x1f\x80-\x9f]/g,Xn=/^\.+$/,Qn=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,Jn=/[\. ]+$/,ei=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],ti={},ni=0;ni<ei.length;ni++)for(var ii=ei[ni].letters.split(""),ri=0;ri<ii.length;ri++)ti[ii[ri]]=ei[ni].base;function ai(e,t,n){var i=e.replace(/[^\u0000-\u007E]/g,(function(e){return ti[e]||e}));return n=n||"",t&&(i=i.replace(/[^\u0000-\u007E]/g,n)),i}function oi(e,t){var n=ai(e,!0).replace(Kn,t).replace(Gn,t).replace(Xn,t).replace(Qn,t).replace(Jn,t),i=/[^0-9a-zA-Z-.,;_]/g;return n=n.replace(i,""),zn(n,255)}function si(e,t){var n=t&&t.replacement||"",i=oi(e,n);return""===n?i:oi(i,"")}function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function di(e,t,n){return t=fi(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fi(e){var t=pi(e,"string");return"symbol"===li(t)?t:String(t)}function pi(e,t){if("object"!==li(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==li(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var hi={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){var e=this.uploaderConfig.allowedExtensions,t="*/*";return e.length>0&&(t="."+e.join(", .")),{allowedExtensions:e,acceptFiles:t,stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){var e=this,t=this.$refs.uploaderBrowseButton,n={debug:!0,maxConnections:5,button:t,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader="s3"===this.uploaderConfig.endpointType?new Hn.Z({options:ci(ci({},n),{},{validation:ci({},this.uploaderValidation),objectProperties:{key:function(t){return e.unique_folder_name+"/"+si(e._uploader.methods.getName(t))},region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})}):"azure"===this.uploaderConfig.endpointType?new Wn.Z({options:ci(ci({},n),{},{validation:ci({},this.uploaderValidation),cors:{expected:!0,sendCredentials:!0},blobProperties:{name:function(t){return new Promise((function(n){n(e.unique_folder_name+"/"+si(e._uploader.methods.getName(t)))}))}},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})}):new Yn.Z({options:ci(ci({},n),{},{validation:ci(ci({},this.uploaderValidation),{},{sizeLimit:1048576*this.uploaderConfig.filesizeLimit}),request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})})},replaceMedia:function(e){this.media_to_replace_id=e;var t=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');t[Array.from(t).length-1].click()},loadingProgress:function(e){this.$store.commit(y.CV.PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,t){this.$emit("loaded",t),this.$store.commit(y.CV.DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(y.CV.ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(y.CV.PROGRESS_UPLOAD,e)},_onCompleteCallback:function(e,t,n,i){var r=this,a=this.loadingMedias.findIndex((function(t){return t.id===r._uploader.methods.getUuid(e)}));n.success?this.loadingFinished(this.loadingMedias[a],n.media):this.loadingError(this.loadingMedias[a])},_onAllCompleteCallback:function(e,t){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback:function(e,t){var n=this;this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+qn().getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},e);var i=URL.createObjectURL(this._uploader.methods.getFile(e)),r=new Image;r.onload=function(){n._uploader.methods.setParams({width:r.width,height:r.height,unique_folder_name:n.unique_folder_name,media_to_replace_id:n.media_to_replace_id},e),n.media_to_replace_id=null},r.src=i;var a={id:this._uploader.methods.getUuid(e),name:si(t),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};"file"===this.type.value&&(this.media_to_replace_id=null),this.loadingMedias.push(a),this.loadingProgress(a)},_onProgressCallback:function(e,t,n,i){var r=this,a=this.loadingMedias.findIndex((function(t){return t.id===r._uploader.methods.getUuid(e)}));if(a>=0){var o=this.loadingMedias[a];o.progress=n/i*100||0,o.error=!1,this.loadingProgress(o)}},_onErrorCallback:function(e,t,n,i){var r=this,a=e?this.loadingMedias.findIndex((function(t){return t.id===r._uploader.methods.getUuid(e)})):-1;if(a>=0)this.loadingMedias[a].errorMessage=n,this.loadingError(this.loadingMedias[a]);else{var o={id:e?this._uploader.methods.getUuid(e):Math.floor(1e3*Math.random()),name:si(t),progress:0,error:!0,errorMessage:n};this.loadingMedias.push(o),this.loadingProgress(o),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback:function(e,t,n){if("retrying upload"===n){var i=this.loadingMedias.findIndex((function(t){return t.id===e}));if(i>=0){var r=this.loadingMedias[i];r.progress=0,r.error=!1,this.loadingProgress(r)}}},_onTotalProgressCallback:function(e,t){var n=Math.floor(e/t*100);this.uploadProgress(n)},_onDropError:function(e,t){console.error(e,t)},_onProcessingDroppedFilesComplete:function(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted:function(){this.initUploader();var e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new(qn().DragAndDrop)({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeDestroy:function(){this._qqDropzone&&this._qqDropzone.dispose()}},mi=hi,bi=(0,E.Z)(mi,Vn,$n,!1,null,"f229897e",null),yi=bi.exports;function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach((function(t){wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wi(e,t,n){return t=Ei(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e){var t=Si(e,"string");return"symbol"===gi(t)?t:String(t)}function Si(e,t){if("object"!==gi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==gi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Oi={name:"A17Medialibrary",components:{"a17-filter":Jt.Z,"a17-mediasidebar":Un,"a17-uploader":yi,"a17-mediagrid":hn,"a17-itemlist":en.Z,"a17-spinner":Yt.Z,"a17-checkbox":J},props:{modalTitlePrefix:{type:String,default:function(){return this.$trans("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return this.$trans("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return this.$trans("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return this.$trans("media-library.insert","Insert")}},initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!1},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default:function(){return[]}},translatableMetadatas:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1}},computed:_i({renderedMediaItems:function(){var e=this;return this.mediaItems.map((function(t){return t.disabled=e.filesizeMax>0&&t.filesizeInMb>e.filesizeMax||e.widthMin>0&&t.width<e.widthMin||e.heightMin>0&&t.height<e.heightMin,t}))},currentTypeObject:function(){var e=this;return this.types.find((function(t){return t.value===e.type}))},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+" – "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+" – "+this.btnLabelMulti:this.modalTitlePrefix+" – "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){var e=this.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+e:(this.selectedMedias.length>1&&(e=this.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+e)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){var e=this,t=e.types.filter((function(t){return t.value===e.type}));return t[0]},canInsert:function(){var e=this;return!this.selectedMedias.some((function(t){return!!e.usedMedias.find((function(e){return e.id===t.id}))}))}},(0,m.rn)({connector:function(e){return e.mediaLibrary.connector},max:function(e){return e.mediaLibrary.max},filesizeMax:function(e){return e.mediaLibrary.filesizeMax},widthMin:function(e){return e.mediaLibrary.widthMin},heightMin:function(e){return e.mediaLibrary.heightMin},type:function(e){return e.mediaLibrary.type},types:function(e){return e.mediaLibrary.types},strict:function(e){return e.mediaLibrary.strict},selected:function(e){return e.mediaLibrary.selected},indexToReplace:function(e){return e.mediaLibrary.indexToReplace}})),watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1}},methods:{replaceMedia:function(e){var t=e.id;this.$refs.uploader.replaceMedia(t)},open:function(){this.$refs.modal.open()},close:function(){this.$refs.modal.hide()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.listenScrollPosition(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){var e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(y.CV.UPDATE_MEDIA_TYPE,e),this.submitFilter())},addMedia:function(e){var t=this,n=this.mediaItems.findIndex((function(t){return t.id===e.id}));if(n>-1){var i=function(n){t.selected[n].forEach((function(i,r){if(e.id===i.id){var a=[];for(var o in i.crops)a[o]={height:e.height===i.height?i.crops[o].height:e.height,name:o,width:e.width===i.width?i.crops[o].width:e.width,x:e.width===i.width?i.crops[o].x:0,y:e.height===i.height?i.crops[o].y:0};t.$store.commit(y.CV.UPDATE_MEDIAS,{index:r,media:_i(_i({},e),{},{width:e.width===i.width?i.width:e.width,height:e.height===i.height?i.height:e.height,crops:a}),mediaRole:n})}}))};for(var r in this.selected)i(r);this.$set(this.mediaItems,n,e),this.selectedMedias.unshift(e)}else this.mediaItems.unshift(e),this.$store.commit(y.CV.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},updateSelectedMedias:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.id,r=this.selectedMedias.filter((function(e){return e.id===i}));if(0===r.length){if(1===this.max&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(n&&this.selectedMedias.length>0){var a=this.selectedMedias[this.selectedMedias.length-1],o=this.mediaItems.findIndex((function(e){return e.id===a.id})),s=this.mediaItems.findIndex((function(e){return e.id===i}));if(-1===s&&-1===o)return;var l=null,u=null;o<s?(l=o+1,u=s+1):(l=s,u=o);var c=this.mediaItems.slice(l,u);c.forEach((function(e){if(!(t.selectedMedias.length>=t.max&&t.max>0)){var n=t.selectedMedias.findIndex((function(t){return t.id===e.id}));-1===n&&t.selectedMedias.push(e)}}))}else{var d=this.mediaItems.filter((function(e){return e.id===i}));d.length&&this.selectedMedias.push(d[0])}}else this.selectedMedias=this.selectedMedias.filter((function(e){return e.id!==i}))},getFormData:function(e){var t=(0,zt.Z)(e);return t?t.page=this.page:t={page:this.page},t.type=this.type,Array.isArray(t.unused)&&t.unused.length&&(t.unused=t.unused[0]),t},clearFilters:function(){var e=this;if(this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){var t=this.$refs.unused.$el.querySelector("input");t&&t.checked&&t.click()}this.$nextTick((function(){e.submitFilter()}))},clearSelectedMedias:function(){this.selectedMedias.splice(0)},deleteSelectedMedias:function(e){var t=this,n=[];e&&e.length!==this.selectedMedias.length&&(n=this.selectedMedias.filter((function(e){return!e.deleteUrl}))),e.forEach((function(){t.$store.commit(y.CV.DECREMENT_MEDIA_TYPE_TOTAL,t.type)})),this.mediaItems=this.mediaItems.filter((function(e){return!t.selectedMedias.includes(e)||n.includes(e)})),this.selectedMedias=n,this.mediaItems.length<=40&&this.reloadGrid()},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){var e=this;this.loading=!0;var t=this.$refs.form,n=this.getFormData(t);Qt.get(this.endpoint,n,(function(t){t.data.items.forEach((function(t){e.mediaItems.find((function(e){return e.id===t.id}))||e.mediaItems.push(t)})),e.maxPage=t.data.maxPage||1,e.tags=t.data.tags||[],e.$store.commit(y.CV.UPDATE_MEDIA_TYPE_TOTAL,{type:e.type,total:t.data.total}),e.loading=!1,e.listenScrollPosition(),e.gridLoaded=!0}),(function(t){e.$store.commit(y.qq.SET_NOTIF,{message:t.data.message,variant:"error"})}))},reloadTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.tags=e},submitFilter:function(e){var t=this,n=this.$refs.list;this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),0!==n.scrollTop?(0,Kt.Z)({el:n,offset:0,easing:"easeOut",onComplete:function(){t.reloadGrid()}}):t.reloadGrid()},listenScrollPosition:function(){this.$nextTick((function(){if(this.gridLoaded){var e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)}}))},scrollToPaginate:function(){if(this.gridLoaded){var e=this.$refs.list,t=10;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-t&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop}},saveAndClose:function(){this.$store.commit(y.CV.SAVE_MEDIAS,this.selectedMedias),this.close()}}},Ti=Oi,Pi=(0,E.Z)(Ti,Wt,Ht,!1,null,"aaf9470e",null),Ci=Pi.exports,Ai=function(){var e=this,t=e._self._c;return t("div",{staticClass:"media",class:{"media--hoverable":e.hover,"media--slide":e.isSlide}},[t("div",{staticClass:"media__field"},[e.hasMedia?t("div",{staticClass:"media__info"},[t("div",{staticClass:"media__img"},[t("div",{staticClass:"media__imgFrame"},[t("div",{staticClass:"media__imgCentered",style:e.cropThumbnailStyle},[e.cropSrc&&e.showImg?t("img",{ref:"mediaImg",class:e.cropThumbnailClass,attrs:{src:e.cropSrc}}):e._e()]),e.disabled?e._e():t("div",{staticClass:"media__edit",on:{click:function(t){return e.openMediaLibrary(1,e.mediaKey,e.index)}}},[t("span",{staticClass:"media__edit--button"},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"edit"}})])])])]),e.disabled?e._e():t("ul",{staticClass:"media__metadatas"},[t("li",{staticClass:"media__name",on:{click:function(t){return e.openMediaLibrary(1,e.mediaKey,e.index)}}},[t("strong",{attrs:{title:e.media.name}},[e._v(e._s(e.media.name))])]),e.media.size?t("li",{staticClass:"f--small"},[e._v("File size: "+e._s(e._f("uppercase")(e.media.size)))]):e._e(),e.media.width+e.media.height?t("li",{staticClass:"f--small"},[e._v(e._s(e.$trans("fields.medias.original-dimensions"))+": "+e._s(e.media.width)+" × "+e._s(e.media.height)+" ")]):e._e(),e.cropInfos&&e.activeCrop?t("li",{staticClass:"f--small media__crop-link",on:{click:e.openCropMedia}},e._l(e.cropInfos,(function(n,i){return t("p",{key:i,staticClass:"f--small f--note hide--xsmall"},[t("span",{domProps:{innerHTML:e._s(n)}})])})),0):e._e(),t("li",{staticClass:"f--small"},[e.withAddInfo?t("a",{staticClass:"f--link-underlined--o",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.metadatasInfos.apply(null,arguments)}}},[e._v(e._s(e.metadatas.text))]):e._e()])]),e.disabled?e._e():t("a17-buttonbar",{staticClass:"media__actions"},[t("a",{attrs:{href:e.media.original,download:""}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}})]),e.activeCrop?t("button",{attrs:{type:"button"},on:{click:e.openCropMedia}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"crop"}})]):e._e(),t("button",{attrs:{type:"button"},on:{click:e.deleteMediaClick}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})])]),t("div",{staticClass:"media__actions-dropDown"},[t("a17-dropdown",{ref:"dropDown",attrs:{position:"right"}},[t("a17-button",{attrs:{size:"icon",variant:"icon"},on:{click:function(t){return e.$refs.dropDown.toggle()}}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),t("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t("a",{attrs:{href:e.media.original,download:""}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}}),e._v(e._s(e.$trans("fields.medias.download")))]),e.activeCrop?t("button",{attrs:{type:"button"},on:{click:e.openCropMedia}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"crop"}}),e._v(e._s(e.$trans("fields.medias.crop"))+" ")]):e._e(),t("button",{attrs:{type:"button"},on:{click:e.deleteMediaClick}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}}),e._v(e._s(e.$trans("fields.medias.delete")))])])],1)],1)],1):e._e(),e.hasMedia?e._e():t("a17-button",{attrs:{variant:"ghost",disabled:e.disabled},on:{click:e.openMediaLibrary}},[e._v(e._s(e.btnLabel))]),this.$slots.default?t("p",{staticClass:"media__note f--small"},[e._t("default")],2):e._e(),e.hasMedia&&e.withAddInfo?t("div",{staticClass:"media__metadatas--options",class:{"s--active":e.metadatas.active}},[t("a17-mediametadata",{attrs:{name:e.metadataName,label:e.$trans("fields.medias.alt-text","Alt Text"),id:"altText",media:e.media,maxlength:e.altTextMaxLength},on:{change:e.updateMetadata}}),e.withCaption?t("a17-mediametadata",{attrs:{wysiwyg:e.useWysiwyg,"wysiwyg-options":e.wysiwygOptions,type:"text",name:e.metadataName,label:e.$trans("fields.medias.caption","Caption"),id:"caption",media:e.media,maxlength:e.captionMaxLength},on:{change:e.updateMetadata}}):e._e(),e.withVideoUrl?t("a17-mediametadata",{attrs:{name:e.metadataName,label:e.$trans("fields.medias.video-url","Video URL (optional)"),id:"video",media:e.media},on:{change:e.updateMetadata}}):e._e(),e._l(e.extraMetadatas,(function(n){return[e.extraMetadatas.length>0?t("a17-mediametadata",{key:n.name,attrs:{type:n.type,name:e.metadataName,wysiwyg:n.wysiwyg||!1,"wysiwyg-options":n.wysiwygOptions||e.wysiwygOptions,label:n.label,id:n.name,media:e.media,maxlength:n.maxlength||0},on:{change:e.updateMetadata}}):e._e()]}))],2):e._e()],1),e.hasMedia&&e.activeCrop?t("a17-modal",{ref:e.cropModalName,staticClass:"modal--cropper",attrs:{forceClose:!0,title:e.$trans("fields.medias.crop-edit"),mode:"medium"}},[t("a17-cropper",{key:e.cropperKey,attrs:{media:e.media,aspectRatio:16/9,context:e.cropContext},on:{"crop-end":e.cropMedia}},[t("a17-button",{staticClass:"cropper__button",attrs:{variant:"action"},on:{click:function(t){return e.$refs[e.cropModalName].close()}}},[e._v(e._s(e.$trans("fields.medias.crop-save")))])],1)],1):e._e(),t("input",{attrs:{name:e.inputName,type:"hidden"},domProps:{value:JSON.stringify(e.media)}})],1)},xi=[],Di=n(9697),ki=n.n(Di),Li=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cropper"},[t("header",{staticClass:"cropper__header"},[e.multiCrops?t("ul",{staticClass:"cropper__breakpoints"},e._l(e.cropOptions,(function(n,i,r){return t("li",{key:i,class:{"s--active":e.toggleBreakpoint===r},on:{click:function(t){return e.changeCrop(i,r)}}},[e._v(e._s(e._f("capitalize")(i)))])})),0):e._e()]),t("div",{staticClass:"cropper__content"},[t("div",{ref:"cropWrapper",staticClass:"cropper__wrapper"},[t("img",{ref:"cropImage",staticClass:"cropper__img",attrs:{src:e.currentMedia.medium||e.currentMedia.original,alt:e.currentMedia.name}})])]),t("footer",{staticClass:"cropper__footer"},[e.ratiosByContext.length>1?t("ul",{staticClass:"cropper__ratios"},e._l(e.ratiosByContext,(function(n){return t("li",{key:n.name,staticClass:"f--small",class:{"s--active":e.currentRatioName===n.name},on:{click:function(t){return e.changeRatio(n)}}},[e._v(e._s(e._f("capitalize")(n.name)))])})),0):e._e(),t("span",{staticClass:"cropper__values f--small hide--xsmall",class:e.cropperWarning},[e._v(e._s(e.cropValues.original.width)+" × "+e._s(e.cropValues.original.height))]),e._t("default")],2)])},Ii=[],Mi=n(3129),Ri=n.n(Mi),ji=n(5602),Ni=function(e,t,n){return{x:Math.round(e.x*t.width/n.width),y:Math.round(e.y*t.height/n.height),width:Math.round(e.width*t.width/n.width),height:Math.round(e.height*t.height/n.height)}};function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){Vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vi(e,t,n){return t=$i(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $i(e){var t=Zi(e,"string");return"symbol"===Bi(t)?t:String(t)}function Zi(e,t){if("object"!==Bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Bi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qi={name:"a17Cropper",props:{media:{type:Object,default:function(){}},context:{type:String,default:""}},mixins:[ji.Z],data:function(){return{cropper:null,currentMedia:this.media,currentCrop:Object.keys(this.media.crops)[0],toggleBreakpoint:0,cropValues:{natural:{width:null,height:null},original:{width:this.media.crops[Object.keys(this.media.crops)[0]].width,height:this.media.crops[Object.keys(this.media.crops)[0]].height}},minCropValues:{width:0,height:0},currentRatioName:this.media.crops[Object.keys(this.media.crops)[0]].name}},watch:{media:function(e){this.currentMedia=e}},computed:Ui({cropOptions:function(){return this.allCrops.hasOwnProperty(this.context)?this.allCrops[this.context]:{}},crop:function(){return this.currentMedia.crops[this.currentCrop]||{}},multiCrops:function(){return Object.keys(this.cropOptions).length>1},ratiosByContext:function(){var e=this.cropOptions[this.currentCrop];return e||[]},cropperOpts:function(){var e=this;return Ui(Ui({},this.defaultCropsOpts),{},{cropmove:function(){e.updateCropperValues()},cropend:function(){e.sendCropperValues()}})},cropperWarning:function(){return{cropper__warning:this.cropValues.original.width<this.minCropValues.width||this.cropValues.original.height<this.minCropValues.height}}},(0,m.rn)({allCrops:function(e){return e.mediaLibrary.crops}})),filters:Dn.Z,mounted:function(){var e=this,t=this.cropperOpts,n=this.$refs.cropImage,i=this.$refs.cropWrapper,r=new Image;r.addEventListener("load",(function(){i.style.maxWidth=i.getBoundingClientRect().width+"px",i.style.minHeight=i.getBoundingClientRect().height+"px",e.cropper=new(Ri())(n,t)}),{once:!0,passive:!0,capture:!0}),r.src=this.currentMedia.medium||this.currentMedia.original,n.addEventListener("ready",(function(){e.cropValues.natural.width=r.naturalWidth,e.cropValues.natural.height=r.naturalHeight,e.updateCrop()}),{once:!0,passive:!0,capture:!0})},methods:{initAspectRatio:function(){var e=this,t=this.ratiosByContext,n=t.find((function(t){return t.name===e.currentRatioName}));if("undefined"!==typeof n&&n)return this.minCropValues.width=n.minValues?n.minValues.width:0,this.minCropValues.height=n.minValues?n.minValues.height:0,void this.cropper.setAspectRatio(n.ratio);this.cropper.setAspectRatio(this.aspectRatio)},changeCrop:function(e,t){this.currentCrop=e,this.currentRatioName=this.crop.name||this.cropOptions[e][0].name,this.toggleBreakpoint=t,this.updateCrop(),this.sendCropperValues()},changeRatio:function(e){this.currentRatioName=e.name,this.updateCrop(),this.sendCropperValues()},updateCrop:function(){this.initAspectRatio(),this.initCrop(),this.updateCropperValues()},updateCropperValues:function(){var e=this.cropper.getData(!0),t=this.toOriginalCrop(e);this.cropValues.original.width=t.width,this.cropValues.original.height=t.height},initCrop:function(){var e=this.toNaturalCrop(this.crop);this.cropper.setData(e)},test:function(){var e=this.toNaturalCrop({x:0,y:0,width:380,height:475});this.cropper.setAspectRatio(.8),this.cropper.setData(e)},sendCropperValues:function(){var e={values:{}};e.values[this.currentCrop]=this.toOriginalCrop(this.cropper.getData(!0)),e.values[this.currentCrop].name=this.currentRatioName,this.$emit("crop-end",e)},toNaturalCrop:function(e){return Ni(e,this.cropValues.natural,this.currentMedia)},toOriginalCrop:function(e){return Ni(e,this.currentMedia,this.cropValues.natural)}},beforeDestroy:function(){this.cropper.destroy()}},Wi=qi,Hi=(0,E.Z)(Wi,Li,Ii,!1,null,"47688b7e",null),Yi=Hi.exports,zi=function(){var e=this,t=e._self._c;return e.languages.length>1&&"text"===e.fieldType?t("a17-locale",{attrs:{type:e.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:e.initialValues,attributes:e.attributes},on:{change:e.saveMetadata}}):"text"===e.fieldType&&e.wysiwyg?t("div",[t("a17-wysiwyg",{attrs:{options:e.wysiwygOptions,label:e.label,name:e.fieldName,type:e.fieldType,initialValue:e.initialValue,"in-store":"value",maxlength:e.maxlength},on:{change:e.saveMetadata}}),t("p",{staticClass:"f--note f--small",domProps:{innerHTML:e._s(e.placeholder)}})],1):"text"===e.fieldType?t("a17-textfield",{attrs:{label:e.label,name:e.fieldName,type:"text",placeholder:e.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:e.maxlength},on:{change:e.saveMetadata}}):"checkbox"===e.fieldType?t("div",{staticClass:"mediaMetadata__checkbox"},[t("a17-checkbox",{attrs:{label:e.label,name:e.fieldName,initialValue:e.initialValue,value:1,inStore:"value"},on:{change:e.saveMetadata}})],1):e._e()},Ki=[];function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){Ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ji(e,t,n){return t=er(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){var t=tr(e,"string");return"symbol"===Gi(t)?t:String(t)}function tr(e,t){if("object"!==Gi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Gi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var nr={name:"A17MediaMetadata",props:{media:{type:Object,default:function(){}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:Qi({fieldName:function(){return"".concat(this.name,"[").concat(this.id,"]")},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?"object"===Gi(this.defaultMetadatas)?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":null!==this.defaultMetadatas?this.defaultMetadatas:"":""}},(0,m.rn)({languages:function(e){return e.language.all},currentLocale:function(e){return e.language.active.value}})),methods:{saveMetadata:function(e){if(!e.locale){var t=e;e={value:t}}e.id=this.id,this.$emit("change",e)}},mounted:function(){var e=this,t={},n="",i=0;this.languages.forEach((function(r){var a=r.value;if(e.customMetadatas){e.customMetadatas[a]?t[a]=e.customMetadatas[a]:!0!==e.customMetadatas&&"string"!==typeof e.customMetadatas||0!==i?t[a]="":(t[a]=e.customMetadatas,n=e.customMetadatas);var o={};o.name=e.fieldName,o.value=t[a],e.languages.length>1&&(o.locale=a),e.$store.commit(y.Yc.UPDATE_FORM_FIELD,o)}i++})),this.initialValues=t,this.initialValue=n}},ir=nr,rr=(0,E.Z)(ir,zi,Ki,!1,null,"6c6bb80c",null),ar=rr.exports,or={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!1},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default:function(){return[]}}}};function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cr(e,t,n){return t=dr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e){var t=fr(e,"string");return"symbol"===sr(t)?t:String(t)}function fr(e,t){if("object"!==sr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==sr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pr=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),hr={name:"A17Mediafield",components:{"a17-cropper":Yi,"a17-mediametadata":ar},mixins:[ze.Z,or],props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default:function(){return this.$trans("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!1,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:this.$trans("fields.medias.edit-info"),textOpen:this.$trans("fields.medias.edit-info"),textClose:this.$trans("fields.medias.edit-close"),active:!1}}},filters:Dn.Z,computed:ur(ur({},(0,m.rn)({useWysiwyg:function(e){return e.mediaLibrary.config.useWysiwyg},wysiwygOptions:function(e){return e.mediaLibrary.config.wysiwygOptions}})),{},{cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia&&this.media.crops?0===this.cropSrc.length?{}:{backgroundImage:"url(".concat(this.cropSrc,")")}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};var e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){var e=this.name;return this.name.indexOf("[")&&(e=this.name.replace("]","").replace("[","][")),"medias["+e+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.selectedMedias.hasOwnProperty(this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]||{}},cropInfos:function(){var e=[];if(this.media.crops)for(var t in this.media.crops)if(this.media.crops[t].width+this.media.crops[t].height){var n="";n+=this.media.crops[t].name+" "+this.$trans("fields.medias.crop-list")+": ",n+=this.media.crops[t].width+"&nbsp;&times;&nbsp;"+this.media.crops[t].height,e.push(n)}return e.length>0?e:null},hasMedia:function(){return Object.keys(this.media).length>0},cropperKey:function(){return"".concat(this.mediaKey,"-").concat(this.index,"_").concat(this.cropContext)},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return"".concat(name,"Modal")}},(0,m.rn)({selectedMedias:function(e){return e.mediaLibrary.selected},allCrops:function(e){return e.mediaLibrary.crops}})),watch:{media:function(e,t){this.hasMediaChanged=e!==t,this.selectedMedias.hasOwnProperty(this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{canvasCrop:function(){var e=this,t=this.media.crops[Object.keys(this.media.crops)[0]];if(t)if(t.width+t.height!==0){var n=this.media.thumbnail;this.$nextTick((function(){try{var i=Ni(t,e.naturalDim,e.originalDim),r=i.width,a=i.height;e.canvas.width=r,e.canvas.height=a,e.ctx.drawImage(e.img,i.x,i.y,r,a,0,0,r,a),n=e.canvas.toDataURL("image/png"),e.cropSrc!==n&&(e.showImg=!1,e.cropSrc=n)}catch(o){console.error(o),e.cropSrc!==n&&(e.showImg=!0,e.cropSrc=n)}}))}else this.showDefaultThumbnail()},setDefaultCrops:function(){var e=this,t={},n=[];if(this.allCrops.hasOwnProperty(this.cropContext)){for(var i in this.allCrops[this.cropContext]){var r=this.allCrops[this.cropContext][i][0].ratio,a=this.media.width,o=this.media.height,s={x:a/2,y:o/2},l=a,u=o;r>0&&r<1?(l=Math.floor(Math.min(o*r,a)),u=Math.floor(l/r)):r>=1&&(u=Math.floor(Math.min(a/r,o)),l=Math.floor(u*r));var c={x:0,y:0,width:l,height:u};c=Ni(c,this.naturalDim,this.originalDim),n.push(ki().crop(this.img,{width:c.width,height:c.height,minScale:1}));var d=Math.floor(s.x-l/2),f=Math.floor(s.y-u/2);t[i]={},t[i].name=this.allCrops[this.cropContext][i][0].name||i,t[i].x=d,t[i].y=f,t[i].width=l,t[i].height=u}Promise.all(n).then((function(n){var i=0;n.forEach((function(n){var r={x:n.topCrop.x,y:n.topCrop.y,width:n.topCrop.width,height:n.topCrop.height},a=t[Object.keys(t)[i]],o=Ni(r,e.originalDim,e.naturalDim);a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height,i++})),e.cropMedia({values:t})}),(function(n){console.error(n),e.cropMedia({values:t})}))}else this.cropMedia({values:t})},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(y.CV.SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){var e=this;this.showImg=!1;var t=function(){e.setNaturalDimensions(),e.setOriginalDimensions(),e.mediaHasCrop?e.canvasCrop():e.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then((function(){t()}),(function(n){console.error(n),e.showDefaultThumbnail(),e.$nextTick((function(){var n=e.$refs.mediaImg;n?(n.addEventListener("load",(function(){e.img=n,t()}),{once:!0,passive:!0,capture:!0}),n.addEventListener("error",(function(t){console.error(t),e.showDefaultThumbnail()}))):(e.showImg=!1,e.cropSrc=e.media.thumbnail)}))})),this.hasMediaChanged=!1)},initImg:function(){var e=this;return new Promise((function(t,n){e.img=new Image,pr||(e.img.crossOrigin="Anonymous"),e.canvas=document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),e.img.addEventListener("load",(function(){t()}),{once:!0,passive:!0,capture:!0}),e.img.addEventListener("error",(function(e){n(e)}));var i="?";e.media.thumbnail.indexOf("?")>-1&&(i="&"),e.img.src=e.media.thumbnail+i+"no-cache"}))},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(){this.isDestroyed=!0,this.deleteMedia()},deleteMedia:function(){this.$store.commit(y.CV.DESTROY_SPECIFIC_MEDIA,{name:this.mediaKey,index:this.index})},updateMetadata:function(e){this.$store.commit(y.CV.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen},destroyValue:function(){this.isSlide||this.isDestroyed||this.deleteMedia()}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},mr=hr,br=(0,E.Z)(mr,Ai,xi,!1,null,"3f736376",null),yr=br.exports,gr=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,label:e.label,locale:e.locale,size:e.size,note:e.note,name:e.name},on:{localize:e.updateLocale}},[e.max>1||0===e.max?t("a17-slideshow",{attrs:{name:e.name,cropContext:e.cropContext,max:e.max,required:e.required,buttonOnTop:e.buttonOnTop,withAddInfo:e.withAddInfo,withVideoUrl:e.withVideoUrl,withCaption:e.withCaption,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas,disabled:e.disabled}},[e._t("default")],2):t("a17-mediafield",{attrs:{name:e.name,cropContext:e.cropContext,required:e.required,withAddInfo:e.withAddInfo,withVideoUrl:e.withVideoUrl,withCaption:e.withCaption,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas,disabled:e.disabled}},[e._t("default")],2)],1)},vr=[],_r={name:"A17MediafieldTranslated",mixins:[Ye.Z,oe.Z,or],props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},max:{type:Number,default:1},buttonOnTop:{type:Boolean,default:!1}}},wr=_r,Er=(0,E.Z)(wr,gr,vr,!1,null,null,null),Sr=Er.exports,Or=n(9935),Tr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multiselectorOuter"},[t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"add-new":e.addNew}},[t("div",{staticClass:"multiselector",class:e.gridClasses},[t("div",{staticClass:"multiselector__outer"},e._l(e.fullOptions,(function(n,i){return t("div",{key:i,staticClass:"multiselector__item",style:e.itemStyle},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],staticClass:"multiselector__checkbox",class:{"multiselector__checkbox--checked":e.checkedValue.includes(n.value)},attrs:{type:"checkbox",name:e.name+"["+e.randKey+"]",id:e.uniqId(n.value,i),disabled:n.disabled||e.disabled},domProps:{value:n.value,checked:Array.isArray(e.checkedValue)?e._i(e.checkedValue,n.value)>-1:e.checkedValue},on:{change:function(t){var i=e.checkedValue,r=t.target,a=!!r.checked;if(Array.isArray(i)){var o=n.value,s=e._i(i,o);r.checked?s<0&&(e.checkedValue=i.concat([o])):s>-1&&(e.checkedValue=i.slice(0,s).concat(i.slice(s+1)))}else e.checkedValue=a}}}),t("label",{staticClass:"multiselector__label",attrs:{for:e.uniqId(n.value,i)},on:{click:function(t){return t.preventDefault(),e.changeCheckbox(n.value)}}},[t("span",{staticClass:"multiselector__icon"},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})]),e._v(" "+e._s(n.label)+" ")]),t("span",{staticClass:"multiselector__bg"})])})),0)])]),e.addNew?[t("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},Pr=[],Cr=n(6193),Ar={name:"A17Multiselect",mixins:[K.Z,oe.Z,re.Z,ae.Z,Cr.Z],props:{grid:{type:Boolean,default:!0},columns:{type:Number,default:0},inline:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},computed:{gridClasses:function(){return this.columns>=1?["multiselector--columns",this.grid?"multiselector--grid":""]:[this.grid?"multiselector--grid":"",this.inline?"multiselector--inline":"",this.border?"multiselector--border":""]},itemStyle:function(){return this.columns>=1?{width:"".concat(100/this.columns,"%")}:{}}},methods:{updateFromStore:function(e){ie()(e,this.checkedValue)||(this.checkedValue=e)},changeCheckbox:function(e){var t=this.checkedValue.indexOf(e),n=this.checkedValue.slice();t>-1?n.splice(t,1):n.push(e);var i=this.isMax(n),r=this.isMin(n);i||r||(this.checkedValue=n)},uniqId:function(e,t){return this.name+"_"+e+"-"+this.randKey*(t+1)}}},xr=Ar,Dr=(0,E.Z)(xr,Tr,Pr,!1,null,"8819f42c",null),kr=Dr.exports,Lr=function(){var e=this,t=e._self._c;return t("span",{staticClass:"radio",class:e.customClass},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"radio__input",attrs:{type:"radio",name:e.name,id:e.uniqId(e.value),disabled:e.disabled},domProps:{value:e.value,checked:e._q(e.selectedValue,e.value)},on:{change:function(t){e.selectedValue=e.value}}}),t("label",{staticClass:"radio__label",attrs:{for:e.uniqId(e.value)}},[e._v(e._s(e.label))])])},Ir=[],Mr={name:"A17Radio",mixins:[K.Z],props:{customClass:{type:String,default:""},value:{default:""},name:{type:String,default:""},label:{type:String,default:""},initialValue:{default:""},disabled:{type:Boolean,default:!1}},data:function(){return{currentValue:this.initialValue}},computed:{selectedValue:{get:function(){return this.currentValue},set:function(e){this.currentValue=e,this.$emit("change",e)}}},methods:{uniqId:function(e){return this.name+"_"+e+"-"+this.randKey}}},Rr=Mr,jr=(0,E.Z)(Rr,Lr,Ir,!1,null,"6de2145c",null),Nr=jr.exports,Br=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"label-for":e.uniqId}},[t("ul",{staticClass:"radioGroup",class:e.radioClasses},e._l(e.radios,(function(n,i){return t("li",{key:i,staticClass:"radioGroup__item"},[t("a17-radio",{attrs:{customClass:"radio__"+e.radioClass+"--"+(i+1),name:e.name,value:n.value,label:n.label,initialValue:e.currentValue,disabled:n.disabled},on:{change:e.changeValue}})],1)})),0)])},Fr=[],Ur={name:"A17CheckboxGroup",mixins:[K.Z,oe.Z,ae.Z],props:{radioClass:{type:String,default:""},inline:{type:Boolean,default:!1},name:{type:String,default:""},label:{default:""},initialValue:{default:""},radios:{default:function(){return[]}}},data:function(){return{currentValue:this.initialValue}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},radioClasses:function(){return[this.inline?"radioGroup--inline":""]}},methods:{updateFromStore:function(e){e!==this.currentValue&&this.updateValue(e)},updateValue:function(e){this.currentValue=e},changeValue:function(e){e!==this.currentValue&&(this.updateValue(e),this.$emit("change",this.currentValue),this.saveIntoStore(e))}}},Vr=Ur,$r=(0,E.Z)(Vr,Br,Fr,!1,null,"35a49f72",null),Zr=$r.exports,qr=function(){var e=this,t=e._self._c;return t("div",[t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,name:e.name,"label-for":e.uniqId,required:e.required,"add-new":e.addNew},on:{localize:e.updateLocale}},[t("span",{staticClass:"select__input",class:e.selectClasses},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],attrs:{name:e.name,id:e.uniqId,disabled:e.disabled,required:e.required,readonly:e.readonly},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedValue=t.target.multiple?n:n[0]}}},e._l(e.fullOptions,(function(n,i){return t("option",{key:i,domProps:{value:n.value,innerHTML:e._s(n.label)}})})),0)])]),e.addNew?[t("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},Wr=[],Hr={name:"A17Select",mixins:[K.Z,Se.Z,oe.Z,Ye.Z,ae.Z,Cr.Z],props:{size:{type:String,default:""},selected:{default:""},options:{default:function(){return[]}}},data:function(){return{value:this.selected}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},selectClasses:function(){return["small"===this.size?"select__input--small":"","large"===this.size?"select__input--large":""]},selectedValue:{get:function(){return this.value},set:function(e){this.value=e,this.saveIntoStore(e),this.$emit("change",e)}}},methods:{updateFromStore:function(e){this.value=e}},mounted:function(){this.$emit("change",this.value)}},Yr=Hr,zr=(0,E.Z)(Yr,qr,Wr,!1,null,"467fbd52",null),Kr=zr.exports,Gr=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,note:e.note,name:e.name}},[t("div",{staticClass:"singleCheckbox",class:e.wrapperClasses},[t("span",{staticClass:"checkbox"},[t("input",{staticClass:"checkbox__input",class:e.checkboxClasses,attrs:{type:"checkbox",value:"true",name:e.name+"["+e.randKey+"]",id:e.uniqId,disabled:e.disabled},domProps:{checked:e.checkedValue}}),t("label",{staticClass:"checkbox__label",attrs:{for:e.uniqId},on:{click:function(t){return t.preventDefault(),e.changeCheckbox.apply(null,arguments)}}},[e._v(e._s(e.label)+" "),t("span",{staticClass:"checkbox__icon"},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})]),e.note?t("span",{staticClass:"f--small checkbox__note"},[e._v(e._s(e.note))]):e._e()])])]),e.requireConfirmation?[t("a17-dialog",{ref:"warningConfirm",attrs:{"modal-title":"Confirm","confirm-label":"Confirm"}},[t("p",{staticClass:"modal--tiny-title"},[t("strong",[e._v(e._s(e.confirmTitleText))])]),t("p",[e._v(e._s(e.confirmMessageText))])])]:e._e()],2)},Xr=[],Qr={props:{requireConfirmation:{type:Boolean,default:!1},confirmMessageText:{type:String,default:"Are you sure you want to change this option ?"},confirmTitleText:{type:String,default:"Confirm selection"}}},Jr={name:"A17SingleCheckbox",mixins:[K.Z,oe.Z,ae.Z,Qr],props:{name:{type:String,default:""},initialValue:{type:Boolean,default:!0},theme:{type:String,default:""},disabled:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},data:function(){return{currentValue:this.initialValue}},computed:{uniqId:function(){return this.name+"_"+this.randKey},wrapperClasses:function(){return[this.border?"singleCheckbox--border":""]},checkboxClasses:function(){return[this.theme?"checkbox__input--".concat(this.theme):"",this.checkedValue?"checkbox__input--checked":""]},checkedValue:{get:function(){return this.currentValue},set:function(e){e!==this.currentValue&&(this.currentValue=e,"undefined"!==typeof this.saveIntoStore&&this.saveIntoStore(e),this.$emit("change",e))}}},methods:{updateFromStore:function(e){this.checkedValue=e},changeCheckbox:function(){var e=this;this.requireConfirmation?this.$refs.warningConfirm.open((function(){e.checkedValue=!e.checkedValue})):this.checkedValue=!this.checkedValue}}},ea=Jr,ta=(0,E.Z)(ea,Gr,Xr,!1,null,"552b859e",null),na=ta.exports,ia=function(){var e=this,t=e._self._c;return t("div",{class:e.outerClasses},[t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"add-new":e.addNew,variant:e.variantInput}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"hidden",name:e.name},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),t("div",{staticClass:"singleselector",class:e.gridClasses},[t("div",{staticClass:"singleselector__outer"},e._l(e.fullOptions,(function(n,i){return t("div",{key:i,staticClass:"singleselector__item",style:e.itemStyle},[t("input",{staticClass:"singleselector__radio",class:{"singleselector__radio--checked":n.value==e.selectedValue},attrs:{type:"radio",name:e.name+"["+e.randKey+"]",id:e.uniqId(n.value,i),disabled:n.disabled||e.disabled},domProps:{value:n.value}}),t("label",{staticClass:"singleselector__label",attrs:{for:e.uniqId(n.value,i)},on:{click:function(t){return t.preventDefault(),e.changeRadio(n.value)}}},[e._v(e._s(n.label))]),t("span",{staticClass:"singleselector__bg"})])})),0)])]),e.addNew?[t("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e(),e.requireConfirmation?[t("a17-dialog",{ref:"warningConfirm",attrs:{"modal-title":"Confirm","confirm-label":"Confirm"}},[t("p",{staticClass:"modal--tiny-title"},[t("strong",[e._v(e._s(e.confirmTitleText))])]),t("p",[e._v(e._s(e.confirmMessageText))])])]:e._e()],2)},ra=[],aa={name:"A17Singleselect",mixins:[K.Z,oe.Z,ae.Z,Cr.Z,Qr],props:{name:{type:String,default:""},grid:{type:Boolean,default:!0},columns:{type:Number,default:0},inline:{type:Boolean,default:!0},inTable:{type:Boolean,default:!1},border:{type:Boolean,default:!1},selected:{default:""},options:{default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{value:this.selected}},computed:{variantInput:function(){return[this.inTable?"intable":""].join(" ")},outerClasses:function(){return["multiselectorOuter"]},gridClasses:function(){return this.columns>=1?["singleselector--columns",this.grid?"singleselector--grid":""]:[this.grid?"singleselector--grid":"",this.inline?"singleselector--inline":"",this.border?"singleselector--border":""]},itemStyle:function(){return this.columns>=1?{width:"".concat(100/this.columns,"%")}:{}},selectedValue:{get:function(){return this.value},set:function(e){e!==this.value&&(this.value=e,this.saveIntoStore(e),this.$emit("change",e))}}},methods:{updateFromStore:function(e){e!==this.value&&(this.value=e)},changeRadio:function(e){var t=this;this.requireConfirmation?this.$refs.warningConfirm.open((function(){t.selectedValue=e})):this.selectedValue=e},uniqId:function(e,t){return this.name+"_"+e+"-"+this.randKey*(t+1)}}},oa=aa,sa=(0,E.Z)(oa,ia,ra,!1,null,"0406024e",null),la=sa.exports,ua=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multiselectorPermissions"},[e.searchable?t("div",{staticClass:"multiselectorPermissions__filter"},[t("a17-filter",{attrs:{"full-width":!0},on:{submit:e.submitFilter}},[e.groups.length&&e.listUser?t("div",{staticClass:"multiselectorPermissions__groups",attrs:{slot:"additional-actions"},slot:"additional-actions"},[t("a17-dropdown",{ref:"groupDropdown",staticClass:"multiselectorPermissions__dd",attrs:{position:"bottom-right",clickable:!0}},[t("button",{staticClass:"multiselectorPermissions__button",attrs:{type:"button"},on:{click:function(t){return e.$refs.groupDropdown.toggle()}}},[e._v("Groups")]),t("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t("a17-checkboxgroup",{attrs:{name:"permissionsGroups",selected:e.activeGroups,options:e.groups},on:{change:e.updateUserPermission}})],1)])],1):e._e()])],1):e._e(),t("div",{staticClass:"multiselectorPermissions__items"},[e._t("default"),e.empty?t("div",{staticClass:"multiselectorPermissions__empty",style:e.emptyStyle},[t("h4",[e._v(e._s(e.emptyMessage))])]):e._e(),e.allHidden?t("div",{staticClass:"multiselectorPermissions__empty",style:e.emptyStyle},[t("h4",[e._v(e._s(e.allHiddenMessage))])]):e._e()],2)])},ca=[];function da(e){return da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},da(e)}function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){ha(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ha(e,t,n){return t=ma(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ma(e){var t=ba(e,"string");return"symbol"===da(t)?t:String(t)}function ba(e,t){if("object"!==da(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==da(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ya={name:"A17SingleSelectPermissions",components:{"a17-filter":Jt.Z},props:{searchable:{type:Boolean,default:!0},listUser:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No results found. Please try another search"},allHiddenMessage:{type:String,default:"Use the search box to find items"}},data:function(){return{empty:!1,allHidden:!1,activeGroups:[],emptyHeight:120}},computed:pa(pa({emptyStyle:function(){return{height:this.emptyHeight+"px"}}},(0,m.Se)(["fieldsByName"])),(0,m.rn)({groups:function(e){return e.permissions.groups},groupUserMapping:function(e){return e.permissions.groupUserMapping}})),mounted:function(){var e=this;if(!this.listUser){var t=this.$el.querySelectorAll("[data-singleselect-permissions-field]"),n="multiselectorPermissions__item--hidden";if(t.length){var i=0;t.forEach((function(t){var r=t.getAttribute("data-singleselect-permissions-field"),a=e.fieldsByName(r),o=a.length?a[0].value:"";o||(t.classList.add(n),i++)})),i===t.length&&(this.allHidden=!0)}}},methods:{submitFilter:function(e){var t=this,n=this.$el.querySelectorAll("[data-singleselect-permissions-filterable]"),i="multiselectorPermissions__item--hidden";n.length&&(this.emptyHeight=Math.max(120,n[0].parentElement.offsetHeight),this.empty=!0,this.allHidden=!1,n.forEach((function(n){var r=n.getAttribute("data-singleselect-permissions-filterable");if(e.search){var a=e.search;r.toUpperCase().includes(a.toUpperCase())?(n.classList.remove(i),t.empty=!1):n.classList.add(i)}else n.classList.remove(i),t.empty=!1})))},setUserPermission:function(e){var t={};t.name=e,t.value="view-item",this.$store.commit(y.Yc.UPDATE_FORM_FIELD,t)},updateUserPermission:function(e){var t=this;this.activeGroups=e,e.forEach((function(e){t.groupUserMapping[e]&&t.groupUserMapping[e].forEach((function(e){var n="user_".concat(e,"_permission"),i=t.fieldsByName(n);i.length&&""!==i[0].value&&"view-item"!==i[0].value||t.setUserPermission(n)}))}))}}},ga=ya,va=(0,E.Z)(ga,ua,ca,!1,null,"627613a1",null),_a=va.exports,wa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"slideshow"},[e.buttonOnTop&&e.remainingSlides>0?t("div",{staticClass:"slideshow__trigger"},[t("a17-button",{attrs:{disabled:e.disabled,type:"button",variant:"ghost"},on:{click:function(t){return e.openMediaLibrary(e.remainingSlides)}}},[e._v(e._s(e.addLabel))]),t("span",{staticClass:"slideshow__note f--small"},[e._t("default")],2)],1):e._e(),e.slides.length?t("draggable",{staticClass:"slideshow__content",attrs:{options:e.dragOptions},model:{value:e.slides,callback:function(t){e.slides=t},expression:"slides"}},[t("transition-group",{attrs:{name:"draggable_list",tag:"div"}},e._l(e.slides,(function(n,i){return t("div",{key:"".concat(n.id,"_").concat(i),staticClass:"slide"},[e.disabled?e._e():t("div",{staticClass:"slide__handle"},[t("div",{staticClass:"slide__handle--drag"})]),t("a17-mediafield",{staticClass:"slide__content",attrs:{name:"".concat(e.name,"_").concat(n.id),index:i,mediaContext:e.name,cropContext:e.cropContext,hover:e.hoverable,isSlide:!0,withAddInfo:e.withAddInfo,withCaption:e.withCaption,withVideoUrl:e.withVideoUrl,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas,disabled:e.disabled}})],1)})),0)],1):e._e(),!e.buttonOnTop&&e.remainingSlides>0?t("div",{staticClass:"slideshow__trigger"},[t("a17-button",{attrs:{disabled:e.disabled,type:"button",variant:"ghost"},on:{click:function(t){return e.openMediaLibrary(e.remainingSlides)}}},[e._v(e._s(e.addLabel))]),t("span",{staticClass:"slideshow__note f--small"},[e._t("default")],2)],1):e._e()],1)},Ea=[];function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){Pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pa(e,t,n){return t=Ca(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ca(e){var t=Aa(e,"string");return"symbol"===Sa(t)?t:String(t)}function Aa(e,t){if("object"!==Sa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Sa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var xa={name:"A17Slideshow",components:{draggable:h()},mixins:[b.Z,ze.Z,or],props:{name:{type:String,required:!0},itemLabel:{type:String,default:"image"},max:{type:Number,default:10},buttonOnTop:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{handle:".slide__handle",hoverable:!0}},computed:Ta({remainingSlides:function(){return Math.max(0,this.max-this.slides.length)},addLabel:function(){var e=this.itemLabel+"s";return"Attach "+e},slides:{get:function(){return this.selectedMedias.hasOwnProperty(this.name)&&this.selectedMedias[this.name]||[]},set:function(e){this.$store.commit(y.CV.REORDER_MEDIAS,{name:this.name,medias:e})}}},(0,m.rn)({selectedMedias:function(e){return e.mediaLibrary.selected}})),methods:{deleteSlideshow:function(){this.$store.commit(y.CV.DESTROY_MEDIAS,this.name)},destroyValue:function(){this.isSlide||this.isDestroyed||this.deleteMedia()}}},Da=xa,ka=(0,E.Z)(Da,wa,Ea,!1,null,"56787a7e",null),La=ka.exports,Ia=n(6287),Ma=n(1894),Ra=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,required:e.required},on:{localize:e.updateLocale}},[t("div",{staticClass:"wysiwyg__outer",class:e.textfieldClasses},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{name:e.name,type:"hidden"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e.editSource?[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.activeSource,expression:"!activeSource"}],staticClass:"wysiwyg",class:e.textfieldClasses,attrs:{dir:e.dirLocale}},[t("div",{ref:"editorcontainer",staticClass:"wysiwyg__editor",class:{"wysiwyg__editor--limitHeight":e.limitHeight}},[t("div",{ref:"editor",staticClass:"wysiwyg__editor-inner"})]),e.shouldShowCounter?t("span",{staticClass:"wysiwyg__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.activeSource,expression:"activeSource"}],staticClass:"form__field form__field--textarea",attrs:{dir:e.dirLocale}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],style:e.textareaHeight,attrs:{placeholder:e.placeholder,autofocus:e.autofocus},domProps:{value:e.value},on:{change:e.updateSourcecode,input:function(t){t.target.composing||(e.value=t.target.value)}}})]),t("a17-button",{staticClass:"wysiwyg__button",attrs:{variant:"ghost"},on:{click:e.toggleSourcecode}},[e._v("Source code")])]:[t("div",{staticClass:"wysiwyg",class:e.textfieldClasses,attrs:{dir:e.dirLocale}},[t("div",{ref:"editorcontainer",staticClass:"wysiwyg__editor",class:{"wysiwyg__editor--limitHeight":e.limitHeight}},[t("div",{ref:"editor",staticClass:"wysiwyg__editor-inner"})]),e.shouldShowCounter?t("span",{staticClass:"wysiwyg__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()])]],2)])},ja=[],Na=n(3279),Ba=n.n(Na),Fa=n(6095),Ua=n.n(Fa);function Va(e){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(e)}function $a(){return $a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=Za(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},$a.apply(this,arguments)}function Za(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=no(e),null===e)break;return e}function qa(e,t,n){return t=Ya(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ya(i.key),i)}}function Ha(e,t,n){return t&&Wa(e.prototype,t),n&&Wa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ya(e){var t=za(e,"string");return"symbol"===Va(t)?t:String(t)}function za(e,t){if("object"!==Va(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Va(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xa(e,t)}function Xa(e,t){return Xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xa(e,t)}function Qa(e){var t=to();return function(){var n,i=no(e);if(t){var r=no(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ja(this,n)}}function Ja(e,t){if(t&&("object"===Va(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eo(e)}function eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function to(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},no(e)}Ua().debug("error");var io=Ua()["import"]("delta"),ro=Ua()["import"]("blots/embed"),ao=Ua()["import"]("blots/inline"),oo=Ua()["import"]("formats/link"),so=Ua()["import"]("blots/block/embed"),lo=function(e){Ga(n,e);var t=Qa(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n)}(so);lo.blotName="divider",lo.tagName="hr",Ua().register(lo);var uo=function(e){Ga(n,e);var t=Qa(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"insertInto",value:function(e,t){ro.prototype.insertInto.call(this,e,t)}}]),n}(ro);qa(uo,"blotName","softbreak"),qa(uo,"tagName","br"),qa(uo,"className","softbreak"),Ua().register(uo);var co={key:13,shiftKey:!0,handler:function(e){var t=this.quill.getLeaf(e.index)[0],n=this.quill.getLeaf(e.index+1)[0];this.quill.insertEmbed(e.index,"softbreak",!0,"user"),null!==n&&t.parent===n.parent||this.quill.insertEmbed(e.index,"softbreak",!0,"user"),this.quill.setSelection(e.index+1,Ua().sources.SILENT)}};function fo(){var e=new io;return e.insert({softbreak:""}),e}var po={blotName:"anchor",tagName:"SPAN"},ho=function(e){Ga(n,e);var t=Qa(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"format",value:function(e,t){if(e!==this.statics.blotName||!t)return $a(no(n.prototype),"format",this).call(this,e,t);t=this.constructor.sanitize(t),this.domNode.setAttribute("id",t)}}],[{key:"create",value:function(e){var t=$a(no(n),"create",this).call(this,e);return e=this.sanitize(e),t.setAttribute("id",e),t.className="ql-anchor",t}},{key:"sanitize",value:function(e){return e.replace(/\s+/g,"-").toLowerCase()}},{key:"formats",value:function(e){return e.getAttribute("id")}}]),n}(ao);ho.blotName=po.blotName,ho.tagName=po.tagName,Ua().register(ho);var mo=function(e){Ga(n,e);var t=Qa(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"format",value:function(e,t){if($a(no(n.prototype),"format",this).call(this,e,t),e===this.statics.blotName&&t){var i=/^((http|https|ftp):\/\/)/;i.test(t)?window["TWILL"].STORE.form.baseUrl&&t.startsWith(window["TWILL"].STORE.form.baseUrl)?this.domNode.removeAttribute("target"):this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target")}}}],[{key:"create",value:function(e){var t=$a(no(n),"create",this).call(this,e);e=this.sanitize(e),t.setAttribute("href",e);var i=/^((http|https|ftp):\/\/)/;if(i.test(e)||t.removeAttribute("target"),window["TWILL"].STORE.form.baseUrl){var r=new URL(window["TWILL"].STORE.form.baseUrl);e.startsWith(r.origin)&&t.removeAttribute("target")}return t}}]),n}(oo);function bo(e){return'<span class="icon icon--wysiwyg_'+e+'" aria-hidden="true"><svg><title>'+e+'</title><use xlink:href="#icon--wysiwyg_'+e+'"></use></svg></span>'}Ua().register(mo);var yo=Ua()["import"]("ui/icons");yo.bold=bo("bold"),yo.italic=bo("italic"),yo.anchor=bo("anchor"),yo.link=bo("link"),yo.header["1"]=bo("header"),yo.header["2"]=bo("header-2"),yo.header["3"]=bo("header-3"),yo.header["4"]=bo("header-4"),yo.header["5"]=bo("header-5"),yo.header["6"]=bo("header-6"),yo.divider=bo("hr");var go=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula","image","video","divider"];function vo(e){var t=[uo.blotName,po.blotName];function n(e){t.indexOf(e)>-1||-1===go.indexOf(e)||t.push(e)}return e.forEach((function(e){if("object"===Va(e))for(var t in e)n(t);"string"===typeof e&&n(e)})),t}var _o={Quill:Ua(),lineBreak:{handle:co,clipboard:[uo.tagName,fo]},getFormats:vo},wo=n(2847);function Eo(e){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(e)}function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){To(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e,t,n){return t=Po(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Po(e){var t=Co(e,"string");return"symbol"===Eo(t)?t:String(t)}function Co(e,t){if("object"!==Eo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Eo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ao="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/highlight.min.js",xo={name:"A17Wysiwyg",mixins:[Se.Z,oe.Z,Ye.Z,ae.Z],props:{editSource:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},limitHeight:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}}},computed:Oo({textareaHeight:function(){return{height:this.editorHeight}},textfieldClasses:function(){return{"wysiwyg__outer--limitHeight":this.limitHeight,"s--disabled":this.disabled,"s--focus":this.focused}},hasMaxlength:function(){return this.maxlength>0},shouldShowCounter:function(){return this.hasMaxlength&&this.showCounter},limitClasses:function(){return{"wysiwyg__limit--red":this.counter<.1*this.maxlength}}},(0,m.rn)({baseUrl:function(e){return e.form.baseUrl}})),data:function(){return{value:this.initialValue,editorHeight:50,toolbarHeight:52,focused:!1,activeSource:!1,quill:null,counter:0,localOptions:{},defaultModules:{toolbar:["bold","italic","underline","link"],clipboard:{matchVisual:!1,matchers:[_o.lineBreak.clipboard]},keyboard:{bindings:{lineBreak:_o.lineBreak.handle}},syntax:!1}}},methods:{initQuill:function(e){var t=this;if(this.quill=new _o.Quill(this.$refs.editor,e),this.value&&this.updateEditor(this.value),this.quill.on("text-change",(function(e,n,i){var r=t.$refs.editor.children[0].innerHTML;"<p><br></p>"===r&&(r=""),t.value=r,t.$emit("input",t.value),t.$emit("change",t.value),t.updateCounter(t.getTextLength()),"user"===i&&t.textUpdate()})),this.quill.on("selection-change",(function(e,n,i){e?(t.focused=!0,t.$emit("focus")):(t.focused=!1,"user"===i&&t.saveIntoStore(),t.$emit("blur"))})),this.disabled&&this.quill.enable(!1),this.baseUrl){var n=this.quill.theme.tooltip,i=n.root;if(i){var r=i.querySelector("input[data-link]");r&&r.setAttribute("data-link",this.baseUrl)}}"rtl"===this.dirLocale&&(this.quill.format("direction","rtl"),this.quill.format("align","right")),this.hasMaxlength&&this.showCounter&&this.updateCounter(this.getTextLength()),this.$emit("ready",this.quill)},insertDivider:function(){var e=this.quill.getSelection(!0);e&&(this.quill.insertText(e.index,"\n"),this.quill.insertEmbed(e.index+1,"divider",!0),this.quill.setSelection(e.index+2))},anchorHandler:function(e){if(!0===e)e=prompt("Enter anchor:");else{var t=this.quill.getSelection(),n=this.quill.getFormat(t).anchor||"";e=prompt("Edit anchor:",n)}this.quill.format("anchor",e)},updateEditor:function(e){var t=this.quill.clipboard.convert(e);this.quill.setContents(t,"silent")},updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&(this.value=e,this.updateEditor(e))},textUpdate:function(){this.preventSubmit(),this._textUpdateInternal()},_textUpdateInternal:Ba()((function(){this.saveIntoStore(),this.allowSubmit()}),600),toggleSourcecode:function(){this.editorHeight=Math.max(50,this.$refs.editor.clientHeight)+this.toolbarHeight-1+"px",this.activeSource=!this.activeSource,this.updateSourcecode()},updateSourcecode:function(){this.updateEditor(this.value),this.saveIntoStore()},updateCounter:function(e){this.showCounter&&this.hasMaxlength&&(this.counter=this.maxlength-e)},getTextLength:function(){return this.quill.getLength()-(0===this.value.length?2:1)}},mounted:function(){var e=this;if(!this.quill){var t=JSON.parse(JSON.stringify(this.options));t.theme=t.theme||"snow",t.boundary=t.boundary||document.body,t.modules=t.modules||this.defaultModules;var n={container:void 0!==t.modules.toolbar?t.modules.toolbar:this.defaultModules.toolbar,handlers:{}};if(t.modules.clipboard=void 0!==t.modules.clipboard?t.modules.clipboard:this.defaultModules.clipboard,t.modules.keyboard=void 0!==t.modules.keyboard?t.modules.keyboard:this.defaultModules.keyboard,t.modules.syntax=void 0!==t.modules.syntax&&t.modules.syntax?{highlight:function(e){return hljs.highlightAuto(e).value}}:this.defaultModules.syntax,t.placeholder=t.placeholder||this.placeholder,t.readOnly=void 0!==t.readOnly?t.readOnly:this.readonly,t.formats=_o.getFormats(t.modules.toolbar),t.bounds=this.$refs.editor,t.scrollingContainer="html",n.container.includes("anchor")&&(n.handlers.anchor=this.anchorHandler),n.container.includes("divider")&&(n.handlers.divider=this.insertDivider),t.modules.toolbar=n,this.localOptions=t,t.modules.syntax&&"undefined"===typeof hljs){var i="highlight-js-script";(0,wo.ve)(i,Ao,"text/javascript").then((function(){e.initQuill(t)}))}else this.initQuill(t)}},beforeDestroy:function(){this.quill=null}},Do=xo,ko=(0,E.Z)(Do,Ra,ja,!1,null,"dc784262",null),Lo=ko.exports,Io=function(){var e=this,t=e._self._c;return t("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,required:e.required},on:{localize:e.updateLocale}},[e.editor?t("div",{staticClass:"wysiwyg__outer"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.activeSource,expression:"!activeSource"}],staticClass:"wysiwyg",class:e.textfieldClasses,attrs:{dir:e.dirLocale}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{name:e.name,type:"hidden"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),t("div",{ref:"editor",staticClass:"wysiwyg__editor"},[t("div",{staticClass:"wysiwyg__menubar"},[e.toolbar.header?[e.toolbar.header?t("wysiwyg-menu-bar-btn",{attrs:{icon:"paragraph",disabled:e.editor.isActive("paragraph"),isActive:e.editor.isActive("paragraph")},on:{"btn:click":function(t){e.editor.chain().focus().setParagraph().run()}}}):e._e(),e._l(e.headingOptions,(function(n){return t("wysiwyg-menu-bar-btn",{key:n,attrs:{icon:n>1?"header-".concat(n):"header",isActive:e.editor.isActive("heading",{level:n})},on:{"btn:click":function(t){e.editor.chain().focus().toggleHeading({level:n}).run()}}})}))]:e._e(),e.toolbar.bold?t("wysiwyg-menu-bar-btn",{attrs:{icon:"bold",isActive:e.editor.isActive("bold")},on:{"btn:click":function(t){e.editor.chain().focus().toggleBold().run()}}}):e._e(),e.toolbar.italic?t("wysiwyg-menu-bar-btn",{attrs:{icon:"italic",isActive:e.editor.isActive("italic")},on:{"btn:click":function(t){e.editor.chain().focus().toggleItalic().run()}}}):e._e(),e.toolbar.strike?t("wysiwyg-menu-bar-btn",{attrs:{icon:"strike",isActive:e.editor.isActive("strike")},on:{"btn:click":function(t){e.editor.chain().focus().toggleStrike().run()}}}):e._e(),e.toolbar.underline?t("wysiwyg-menu-bar-btn",{attrs:{icon:"underline",isActive:e.editor.isActive("underline")},on:{"btn:click":function(t){e.editor.chain().focus().toggleUnderline().run()}}}):e._e(),e.toolbar.hr?t("wysiwyg-menu-bar-btn",{attrs:{icon:"hr"},on:{"btn:click":function(t){e.editor.chain().focus().setHorizontalRule().run()}}}):e._e(),e.toolbar.link?t("wysiwyg-menu-bar-btn",{attrs:{icon:"link",isActive:e.editor.isActive("link")},on:{"btn:click":function(t){return e.openLinkWindow()}}}):e._e(),e.toolbar.link?t("wysiwyg-menu-bar-btn",{attrs:{icon:"unlink",disabled:!e.editor.isActive("link"),isActive:e.editor.isActive("link")},on:{"btn:click":function(t){return e.removeLink()}}}):e._e(),e.toolbar.bullet?t("wysiwyg-menu-bar-btn",{attrs:{icon:"ul",isActive:e.editor.isActive("bulletList")},on:{"btn:click":function(t){e.editor.chain().focus().toggleBulletList().run()}}}):e._e(),e.toolbar.ordered?t("wysiwyg-menu-bar-btn",{attrs:{icon:"ol",isActive:e.editor.isActive("orderedList")},on:{"btn:click":function(t){e.editor.chain().focus().toggleOrderedList().run()}}}):e._e(),e.toolbar.blockquote?t("wysiwyg-menu-bar-btn",{attrs:{icon:"quote",isActive:e.editor.isActive("blockquote")},on:{"btn:click":function(t){e.editor.chain().focus().toggleBlockquote().run()}}}):e._e(),e.toolbar.codeBlock?t("wysiwyg-menu-bar-btn",{attrs:{icon:"code",isActive:e.editor.isActive("codeBlock")},on:{"btn:click":function(t){e.editor.chain().focus().toggleCodeBlock().run()}}}):e._e(),e.toolbar.code?t("wysiwyg-menu-bar-btn",{attrs:{icon:"code",isActive:e.editor.isActive("code")},on:{"btn:click":function(t){e.editor.chain().focus().setCode().run()}}}):e._e(),t("wysiwyg-menu-bar-btn",{attrs:{icon:"table"},on:{"btn:click":function(t){e.editor.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"undo",disabled:!e.editor.can().undo()},on:{"btn:click":function(t){e.editor.chain().focus().undo().run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"redo",disabled:!e.editor.can().redo()},on:{"btn:click":function(t){e.editor.chain().focus().redo().run()}}}),e.toolbar.table?[e.editor.isActive("table")?t("div",{staticClass:"wysiwyg__menubar-table-buttons"},[t("br"),t("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_table"},on:{"btn:click":function(t){e.editor.chain().focus().deleteTable().run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"add_col_before"},on:{"btn:click":function(t){e.editor.chain().focus().addColumnBefore().run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"add_col_after"},on:{"btn:click":function(t){e.editor.chain().focus().addColumnAfter().run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_col"},on:{"btn:click":function(t){e.editor.chain().focus().deleteColumn().run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"add_row_before"},on:{"btn:click":function(t){e.editor.chain().focus().addRowBefore().run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"add_row_after"},on:{"btn:click":function(t){e.editor.chain().focus().addRowAfter().run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_row"},on:{"btn:click":function(t){e.editor.chain().focus().deleteRow().run()}}}),t("wysiwyg-menu-bar-btn",{attrs:{icon:"combine_cells"},on:{"btn:click":function(t){e.editor.chain().focus().mergeCells().run()}}})],1):e._e()]:e._e(),this.toolbar.wrappers?[t("br"),e._l(this.toolbar.wrappers,(function(n){return[t("wysiwyg-menu-bar-btn",{key:n.id,attrs:{"icon-url":n.icon,isActive:e.editor.isActive(n.class),label:n.label},on:{"btn:click":function(t){e.editor.commands["set"+n.id]()}}})]}))]:e._e()],2),t("div",{staticClass:"wysiwyg__contentWrapper",class:{"wysiwyg__contentWrapper--limitHeight":e.limitHeight}},[t("editor-content",{staticClass:"wysiwyg__content",attrs:{editor:e.editor}})],1)]),e.shouldShowCounter?t("span",{staticClass:"input__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()]),e.editSource?[t("div",{directives:[{name:"show",rawName:"v-show",value:e.activeSource,expression:"activeSource"}],staticClass:"form__field form__field--textarea"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],style:e.textareaHeight,attrs:{placeholder:e.placeholder,autofocus:e.autofocus},domProps:{value:e.value},on:{change:e.updateSourcecode,input:function(t){t.target.composing||(e.value=t.target.value)}}})]),t("a17-button",{staticClass:"wysiwyg__button",attrs:{variant:"ghost"},on:{click:e.toggleSourcecode}},[e._v("Source code ")])]:e._e()],2):e._e(),e.browserIsOpen&&e.browserEndpoints?t("standalone-browser",{ref:"localbrowser",attrs:{"endpoint-multiple":e.browserEndpoints,max:1},on:{selected:e.setLinkFromBrowser,close:function(t){e.browserIsOpen=!1}}}):e._e(),t("a17-modal",{ref:"link-modal",staticClass:"modal--form modal--link",attrs:{title:e.$trans("wysiwyg.link_window.title","Edit link")}},[e.linkWindow?[t("a17-textfield",{attrs:{name:"link_text","initial-value":e.linkWindow.text,label:e.$trans("wysiwyg.link_window.text","Text to display")},model:{value:e.linkWindow.text,callback:function(t){e.$set(e.linkWindow,"text",t)},expression:"linkWindow.text"}}),t("a17-textfield",{attrs:{name:"link_link","initial-value":e.linkWindow.href,label:e.$trans("wysiwyg.link_window.link","Link"),placeholder:e.$trans("wysiwyg.link_window.link_placeholder","Link to URL address")},model:{value:e.linkWindow.href,callback:function(t){e.$set(e.linkWindow,"href",t)},expression:"linkWindow.href"}}),t("div",[e.browserEndpoints?t("a",{staticClass:"link-browser-link",attrs:{href:"#"},on:{click:function(t){e.browserIsOpen=!0}}},[e._v(" "+e._s(e.$trans("wysiwyg.link_window.internal_browser_link","Select internal content"))+" ")]):e._e()]),t("a17-inputframe",[t("a17-checkbox",{attrs:{name:"link_target","initial-value":e.linkWindow.target,value:"_blank",label:e.$trans("wysiwyg.link_window.open_in_new_window","Open in a new window")},on:{change:function(t){e.linkWindow.target=t?"_blank":null}}})],1),t("div",{staticClass:"modalValidation"},[t("a17-button",{staticClass:"dialog-confirm",attrs:{variant:"validate",tabindex:"4"},on:{click:e.saveLink}},[e._v(" "+e._s(e.$trans("wysiwyg.link_window.save","Save"))+" ")]),t("a17-button",{staticClass:"dialog-cancel",attrs:{variant:"aslink-grey",tabindex:"5"},on:{click:function(t){e.linkWindow=null}}},[e._v(" "+e._s(e.$trans("wysiwyg.link_window.save","Cancel"))+" ")])],1)]:e._e()],2)],1)},Mo=[],Ro=n(4436),jo=n(8313),No=n(3552),Bo=n(185),Fo=n(6622),Uo=n(8766),Vo=n(3780),$o=n(6569),Zo=n(1086),qo=function(){var e=this,t=e._self._c;return t("button",{class:{"is-active":e.isActive,"wysiwyg__menubar-button":e.icon||e.iconUrl},attrs:{disabled:e.disabled,type:"button",title:e.label},on:{click:e.handleClick}},[e.iconUrl?[t("img",{staticClass:"icon--custom",attrs:{src:e.iconUrl,alt:e.label}})]:e.icon?[t("span",{staticClass:"icon",class:"icon--wysiwyg_".concat(e.icon),attrs:{"aria-hidden":"true"}},[t("svg",[t("title",[e._v(e._s(e.icon))]),t("use",{attrs:{"xlink:href":"#icon--wysiwyg_".concat(e.icon)}})])])]:[e._v(" "+e._s(e.label)+" ")]],2)},Wo=[],Ho={name:"WysiwygMenuBarButton",props:{icon:{type:String,required:!1},iconUrl:{type:String,required:!1},label:{type:String,required:!1},isActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{handleClick:function(){this.$emit("btn:click")}}},Yo=Ho,zo=(0,E.Z)(Yo,qo,Wo,!1,null,"542fc105",null),Ko=zo.exports,Go=n(2537),Xo=n(2892),Qo=n(6671),Jo=n(3372);function es(e){return es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(e)}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach((function(t){is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function is(e,t,n){return t=rs(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rs(e){var t=as(e,"string");return"symbol"===es(t)?t:String(t)}function as(e,t){if("object"!==es(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==es(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var os={name:"A17Wysiwyg",mixins:[Se.Z,oe.Z,Ye.Z,ae.Z],props:{editSource:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},browserEndpoints:{required:!1,default:null},limitHeight:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{modules:{}}}}},computed:ns({textareaHeight:function(){return{height:this.editorHeight}},textfieldClasses:function(){return{"s--disabled":this.disabled,"s--focus":this.focused}},hasMaxlength:function(){return this.maxlength>0},shouldShowCounter:function(){return this.hasMaxlength&&this.showCounter},limitClasses:function(){return{"input__limit--red":this.counter<.1*this.maxlength}}},(0,m.rn)({baseUrl:function(e){return e.form.baseUrl}})),components:{EditorContent:Ro.kg,StandaloneBrowser:Zo.Z,"wysiwyg-menu-bar-btn":Ko},data:function(){return{value:this.initialValue,editorHeight:50,toolbarHeight:52,toolbar:this.options.modules.toolbar?this.options.modules.toolbar.reduce((function(e,t){return t.list?(e[t.list]=!0,e):"object"===es(t)?ns(ns({},e),t):(e[t]=!0,e)}),{}):{bold:!0,italic:!0,underline:!0,link:!0},headingOptions:[],focused:!1,activeSource:!1,counter:0,editor:null,linkWindow:null,browserIsOpen:!1}},methods:{updateEditor:function(e){this.editor&&this.editor.setContent(e)},updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&(this.value=e,this.updateEditor(e))},textUpdate:function(){this.preventSubmit(),this._textUpdateInternal()},_textUpdateInternal:Ba()((function(){this.saveIntoStore(),this.allowSubmit()}),600),toggleSourcecode:function(){this.editorHeight=Math.max(50,this.$refs.editor.clientHeight)+this.toolbarHeight-1+"px",this.activeSource=!this.activeSource,this.updateSourcecode()},updateSourcecode:function(){this.updateEditor(this.value),this.saveIntoStore()},updateCounter:function(){this.showCounter&&this.hasMaxlength&&(this.counter=this.maxlength-this.getTextLength())},getTextLength:function(){return this.editor.getHTML().replace(/<[^>]+>/g,"").length},openLinkWindow:function(){var e,t,n=this;this.editor.commands.extendMarkRange("link");var i=this.editor.state.selection.ranges,r=(0,jo.Jo)(this.editor.state,"link"),a=!0,o=i[0].$from.pos,s=i[0].$to.pos;r.href&&(a=!1);var l=null,u=null,c=this.editor.state.tr.doc,d=this.editor.getHTML().length;if(o===s){var f=!1,p=!1;while(!f&&o>0)f=0===o||" "===c.textBetween(o-1,o)," "===c.textBetween(o-1,o)?l=o:0===o&&(l=0),o-=1;while(!p&&s<d)p=s===d||""===c.textBetween(s,s+1)||" "===c.textBetween(s,s+1),u=s,s+=1}else l=o,u=s;this.editor.commands.setTextSelection({from:l,to:u}),this.linkWindow={newLink:a,from:null!==(e=l)&&void 0!==e?e:0,to:u,textOriginal:this.editor.state.tr.doc.textBetween(l,u),text:this.editor.state.tr.doc.textBetween(l,u),href:r.href,target:null!==(t=r.target)&&void 0!==t?t:""},this.$nextTick((function(){n.$refs["link-modal"].open()}))},removeLink:function(){this.editor.chain().focus().extendMarkRange("link").unsetLink().run()},setLinkFromBrowser:function(e){this.linkWindow.href="#twillInternalLink::"+e[0].endpointType+"#"+e[0].id},saveLink:function(){this.linkWindow.text!==this.linkWindow.textOriginal&&(this.editor.commands.insertContentAt({from:this.linkWindow.from,to:this.linkWindow.to},this.linkWindow.text),this.editor.commands.setTextSelection({from:this.linkWindow.from,to:this.linkWindow.from+this.linkWindow.text.length})),this.linkWindow.newLink?this.editor.commands.setLink({href:this.linkWindow.href,target:this.linkWindow.target}):this.editor.commands.updateAttributes("link",{href:this.linkWindow.href,target:this.linkWindow.target}),this.$refs["link-modal"].close(),this.linkWindow=null}},beforeMount:function(){var e,t,n,i,r=this;this.toolbar.header&&(this.headingOptions=this.toolbar.header.filter((function(e){return"number"===typeof e})));var a=this.value||"",o=[Qo.U];this.placeholder&&this.placeholder.length>0&&o.push(Xo.V.configure({emptyNodeClass:"is-empty",emptyNodeText:this.placeHolder,showOnlyWhenEditable:!0})),this.toolbar.wrappers&&this.toolbar.wrappers.forEach((function(e){o.push(jo.NB.create({name:e.id,group:"block",marks:"_",atom:!0,content:"block+",addOptions:function(){return{HTMLAttributes:{class:e.className,"data-customwrapper":e.id,"data-customwrapper-label":e.label}}},parseHTML:function(){return[{tag:"div",getAttrs:function(t){t.getAttribute("data-customwrapper",e.id)}}]},renderHTML:function(e){var t=e.HTMLAttributes;return["div",(0,jo.P1)(this.options.HTMLAttributes,t),0]},addCommands:function(){var t=this,n="set"+this.name,i={};return i[n]=function(){return function(n){var i=n.chain;if(e.createElement)switch(e.createElement){case"ol":return i().toggleWrap(t.name).toggleOrderedList().run();case"ul":return i().toggleWrap(t.name).toggleBulletList().run()}return i().toggleWrap(t.name).run()}},i}}))})),Object.keys(this.toolbar).forEach((function(e){switch(e){case"link":o.push(Go.r.configure({openOnClick:!1}));break;case"underline":o.push(Bo.Z);break;case"table":o.push(Fo.ZP.configure({resizable:!1})),o.push($o.Z),o.push(Vo.Z),o.push(Uo.Z);break;case"hr":o.push(Jo.b)}})),o.push(No.Z.configure({orderedList:null!==(e=this.toolbar.ordered)&&void 0!==e&&e,bulletList:null!==(t=this.toolbar.bullet)&&void 0!==t&&t,listItem:this.toolbar.ordered||this.toolbar.bullet||!1,code:null!==(n=this.toolbar.code)&&void 0!==n&&n,codeBlock:null!==(i=this.toolbar.codeBlock)&&void 0!==i&&i})),this.editor=new Ro.ML({content:a,extensions:o,onUpdate:function(e){var t=e.editor;r.value=t.getHTML(),r.textUpdate(),r.updateCounter()}}),this.updateCounter()},beforeUnmount:function(){this.editor.destroy()},beforeDestroy:function(){this.editor.destroy()}},ss=os,ls=(0,E.Z)(ss,Io,Mo,!1,null,"33b5dc9a",null),us=ls.exports;function cs(e){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(e)}function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(n),!0).forEach((function(t){bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ys(i.key),i)}}function ms(e,t,n){return t&&hs(e.prototype,t),n&&hs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bs(e,t,n){return t=ys(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ys(e){var t=gs(e,"string");return"symbol"===cs(t)?t:String(t)}function gs(e,t){if("object"!==cs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==cs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var vs={target:"data-sticky-target",toptarget:"data-sticky-top",classContainer:"sticky",classFixed:"sticky__fixed",classAbs:"sticky__abs",classEnd:"sticky__scrolled",topOffset:0,offset:20},_s=function(){function e(t,n){var i=this;ps(this,e),bs(this,"refresh",(function(){return i._refresh()})),bs(this,"dispose",(function(){return i._dispose()})),bs(this,"status","top"),bs(this,"ticking",!1),bs(this,"anchors",["Top","Bottom"]),bs(this,"lastScrollPos",0),bs(this,"prevScrollPos",-1),n=fs(fs({},vs),n),this.target=null,this.toptarget=null,this.container=t,this.containerID=this.container.getAttribute("data-sticky-id"),this.options=n,this.options.target&&(this.target=this.container.querySelector("["+this.options.target+'="'+this.containerID+'"]')),this.options.toptarget&&(this.toptarget=this.container.querySelector("["+this.options.toptarget+'="'+this.containerID+'"]')),this.topMargin=this.container.hasAttribute("data-sticky-offset")?parseInt(this.container.getAttribute("data-sticky-offset")):this.options.offset,this.topOffset=this.container.hasAttribute("data-sticky-topoffset")?parseInt(this.container.getAttribute("data-sticky-topoffset")):this.options.topOffset,t.classList.add(this.options.classContainer),this._setEventListeners(),this._refresh()}return ms(e,[{key:"_refresh",value:function(){if(!this.target)return!1;var e=this.lastScrollPos,t=this.target.offsetHeight,n=this.container.offsetHeight,i=t+this.topMargin<window.innerHeight?0:1,r=this.toptarget?this.toptarget.getBoundingClientRect().top+this.topOffset:this.container.getBoundingClientRect().top+this.topOffset,a=r+n-t;return r=r-this.topMargin+Math.max(0,t+this.topMargin-window.innerHeight)+e,this.toptarget&&(a=r+n-t-Math.max(0,this.toptarget.getBoundingClientRect().top-this.container.getBoundingClientRect().top)),this.target.offsetHeight<n&&("top"!==this.status&&e<r&&(this._removePositionClass(),this.status="top"),"scrolling"!==this.status&&e>=r&&e<a&&(this._removePositionClass(),this.target.classList.add(this.options.classFixed+this.anchors[i]),this.status="scrolling"),"bottom"!==this.status&&e>=a&&(this._removePositionClass(),this.target.classList.add(this.options.classAbs),this.status="bottom"),e+window.innerHeight>=this.container.getBoundingClientRect().top+e+n?this.target.classList.add(this.options.classEnd):this.target.classList.remove(this.options.classEnd)),this}},{key:"_removePositionClass",value:function(){for(var e=0;e<this.anchors.length;e++)this.target.classList.remove(this.options.classFixed+this.anchors[e]);this.target.classList.remove(this.options.classAbs)}},{key:"_scroll",value:function(){var e=this;return e.lastScrollPos=window.pageYOffset,e.ticking||window.requestAnimationFrame((function(){e._refresh(),e.prevScrollPos=e.lastScrollPos,e.ticking=!1})),e.ticking=!0,this}},{key:"_resize",value:function(){return this.lastScrollPos=window.pageYOffset,this.status="",this._refresh(),this}},{key:"_dispose",value:function(){var e=this;return window.removeEventListener("scroll",(function(){return e._scroll()})),window.removeEventListener("resize",(function(){return e._resize()})),this}},{key:"_setEventListeners",value:function(){var e=this;window.addEventListener("scroll",(function(){return e._scroll()})),window.addEventListener("resize",(function(){return e._resize()})),this._resize()}}]),e}(),ws={},Es={install:function(e){var t={options:ws,bind:function(e,n,i){var r=e._sticky=new _s(e,t.options);r._vueEl=e},componentUpdated:function(e,t,n){e._sticky.refresh()},inserted:function(e,t,n){},unbind:function(e,t,n){e._sticky.dispose()}};e.directive("sticky",t)}};function Ss(e,t,n){var i=["icon"],r=t.expression||n.data.attrs.symbol,a=e;"span"===n.tag&&(a=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(a)),i.push("icon--".concat(r)),i.forEach((function(t){e.classList.add(t)}));var o=document.createElementNS("http://www.w3.org/2000/svg","title");o.textContent=r,a.appendChild(o);var s="#icon--".concat(r),l=document.createElementNS("http://www.w3.org/2000/svg","use");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),a.appendChild(l)}function Os(e){var t=e.querySelector("svg");t&&t.parentNode.removeChild(t);var n=e.className.split(" ").filter((function(e){return 0===e.indexOf("icon")}));n.forEach((function(t){e.classList.remove(t)}))}var Ts={install:function(e){var t={bind:function(e,t,n){Ss(e,t,n)},componentUpdated:function(e,t,n,i){Os(e),Ss(e,t,n)},inserted:function(e,t,n){},unbind:function(e,t,n){}};e.directive("svg",t)}};function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach((function(t){Ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Is(i.key),i)}}function ks(e,t,n){return t&&Ds(e.prototype,t),n&&Ds(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ls(e,t,n){return t=Is(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Is(e){var t=Ms(e,"string");return"symbol"===Ps(t)?t:String(t)}function Ms(e,t){if("object"!==Ps(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ps(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Rs={container:!1,delay:0,html:!1,budge:15,placement:"top",theme:"default",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip__arrow"></div><div class="tooltip__inner"></div></div>',trigger:"hover focus",offset:0},js=function(){function e(t,n){var i=this;xs(this,e),Ls(this,"show",(function(){return i._show(i.reference,i.options)})),Ls(this,"hide",(function(){return i._hide()})),Ls(this,"dispose",(function(){return i._dispose()})),Ls(this,"toggle",(function(){return i._isOpen?i.hide():i.show()})),Ls(this,"innerSelector",".tooltip__inner"),Ls(this,"_events",[]),Ls(this,"_setTooltipNodeEvent",(function(e,t,n,r){var a=e.relatedreference||e.toElement,o=function n(a){var o=a.relatedreference||a.toElement;i._tooltipNode.removeEventListener(e.type,n),t.contains(o)||i._scheduleHide(t,r.delay,r,a)};return!!i._tooltipNode.contains(a)&&(i._tooltipNode.addEventListener(e.type,o),!0)})),n=As(As({},Rs),n),this.reference=t,this.options=n;var r="string"===typeof n.trigger?n.trigger.split(" ").filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})):[];this._isOpen=!1,this._setEventListeners(t,r,n)}return ks(e,[{key:"_create",value:function(e,t,n,i,r){if(this._tooltipNode)return this;var a=window.document.createElement("div");a.innerHTML=t.trim();var o=a.childNodes[0];o.id="tooltip--".concat(Math.random().toString(36).substr(2,10)),o.setAttribute("aria-hidden","false"),o.classList.add("tooltip--"+n);var s=a.querySelector(this.innerSelector);return 1===i.nodeType?r&&s.appendChild(i):r?s.innerHTML=i:s.innerText=i,o}},{key:"_position",value:function(e,t,n){var i=0,r=0,a=t,o=e.getBoundingClientRect();this._tooltipNode.classList.remove("tooltip--"+a);var s=Math.round(o.top-this._tooltipNode.offsetHeight-n),l=Math.round(o.top+o.height/2-this._tooltipNode.offsetHeight/2),u=Math.round(o.left+o.width+n),c=Math.round(o.top+o.height+n),d=Math.round(o.left-this._tooltipNode.offsetWidth-n),f=Math.round(o.left+o.width/2-this._tooltipNode.offsetWidth/2);"top"===t&&(i=f,r=s,a="top",i<10&&(i=10),r<0&&(r=c,a="bottom")),"top-right"===t&&(i=u,r=s,a="top",r<0&&(r=c,a="bottom")),"bottom"===t&&(i=f,r=c,a="bottom",i<10&&(i=10),r>0&&(r=s,a="top")),"right"===t&&(i=u,r=l,a="right"),"left"===t&&(i=d,r=l,a="left",i<0&&(i=u,a="right")),this._tooltipNode.style.left=i+"px",this._tooltipNode.style.top=r+"px",this._tooltipNode.classList.add("tooltip--"+a)}},{key:"_show",value:function(e,t){if(this._isOpen&&!this._isOpening)return this;this._isOpen=!0;var n=e.getAttribute("data-tooltip-budge")||t.budge,i=e.getAttribute("data-tooltip-theme")||t.theme,r=e.getAttribute("data-tooltip-placement")||t.placement;if(this._tooltipNode)return this._tooltipNode.style.opacity="",this._tooltipNode.style.visibility="",this._tooltipNode.style.transition="opacity 0.3s",this._tooltipNode.setAttribute("aria-hidden","false"),this._position(e,r,n),this;var a=e.getAttribute("data-tooltip-title")||t.title,o=this._create(e,t.template,i,a,t.html);e.setAttribute("aria-describedby",o.id);var s=this._findContainer(t.container,e);return this._append(o,s),this._tooltipNode=o,this._position(e,r,n),this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.opacity="0",this._tooltipNode.style.visibility="hidden",this._tooltipNode.style.transition="",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var e=this;return this._events.length&&(this._events.forEach((function(t){var n=t.func,i=t.event;e.reference.removeEventListener(i,n)})),this._events=[]),this._tooltipNode&&(this._hide(),this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null),this}},{key:"_findContainer",value:function(e,t){return"string"===typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(e,t,n){var i=this,r=[],a=[];t.forEach((function(e){switch(e){case"hover":r.push("mouseenter"),a.push("mouseleave");break;case"focus":r.push("focus"),a.push("blur");break;case"click":r.push("click"),a.push("click");break}})),r.forEach((function(t){var r=function(t){!0!==i._isOpening&&(t.usedByTooltip=!0,i._scheduleShow(e,n.delay,n,t))};i._events.push({event:t,func:r}),e.addEventListener(t,r)})),a.forEach((function(t){var r=function(t){!0!==t.usedByTooltip&&i._scheduleHide(e,n.delay,n,t)};i._events.push({event:t,func:r}),e.addEventListener(t,r)}))}},{key:"_scheduleShow",value:function(e,t,n){var i=this;this._isOpening=!0;var r=t&&t.show||t||0;r>0?window.setTimeout((function(){return i._show(e,n)}),r):this._show(e,n)}},{key:"_scheduleHide",value:function(e,t,n,i){var r=this;this._isOpening=!1;var a=t&&t.hide||t||0;window.setTimeout((function(){if(!1!==r._isOpen&&document.body.contains(r._tooltipNode)){if("mouseleave"===i.type){var a=r._setTooltipNodeEvent(i,e,t,n);if(a)return}r._hide()}}),a)}}]),e}(),Ns={},Bs={install:function(e){var t={options:Ns,bind:function(e,n,i){if(!e._tooltip){var r=e._tooltip=new js(e,t.options);r._vueEl=e}},componentUpdated:function(e,n,i,r){if(e._tooltip){e._tooltip.dispose();var a=e._tooltip=new js(e,t.options);a._vueEl=e}},inserted:function(e,t,n){},unbind:function(e,t,n){e._tooltip&&e._tooltip.dispose()}};e.directive("tooltip",t)}},Fs=!0,Us={install:function(e,t){e.component("a17-button",U),e.component("a17-infotip",Ot),e.component("a17-slideshow",La),e.component("a17-browserfield",j),e.component("a17-textfield",Ia.Z),e.component("a17-hiddenfield",gt),e.component("a17-wysiwyg",Lo),e.component("a17-wysiwyg-tiptap",us),e.component("a17-inputframe",Dt),e.component("a17-mediafield",yr),e.component("a17-mediafield-translated",Sr),e.component("a17-radio",Nr),e.component("a17-radiogroup",Zr),e.component("a17-checkbox",J),e.component("a17-singlecheckbox",na),e.component("a17-checkboxgroup",ce),e.component("a17-singleselect-permissions",_a),e.component("a17-multiselect",kr),e.component("a17-singleselect",la),e.component("a17-select",Kr),e.component("a17-vselect",Ma.Z),e.component("a17-locale",qt),e.component("a17-dropdown",qe.Z),e.component("a17-buttonbar",H),e.component("a17-modal",Or.Z),e.component("a17-dialog",Ze),e.component("a17-datepicker",Ne),e.component("a17-filefield",ft),e.component("a17-colorfield",Ce),e.component("a17-avatar",c.Z),e.component("a17-medialibrary",Ci),e.mixin({methods:{openFreeMediaLibrary:function(){this.$store.commit(y.CV.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(y.CV.RESET_MEDIA_TYPE),this.$store.commit(y.CV.UPDATE_REPLACE_INDEX,-1),this.$store.commit(y.CV.UPDATE_MEDIA_MAX,0),this.$store.commit(y.CV.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(y.CV.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(y.CV.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(y.CV.UPDATE_MEDIA_MODE,!1),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}}),e.config.productionTip=Fs,e.config.devtools=!Fs,e.prototype.$http=r(),window.$trans=e.prototype.$trans=function(e,t){return o()(window["TWILL"].twillLocalization.lang,e,t)},r().defaults.headers.common["X-Requested-With"]="XMLHttpRequest",r().interceptors.response.use((function(e){return e}),(function(e){return(0,Gt.I)("CONTENT",e),Promise.reject(e)})),e.use(u.ZP,{name:"timeago",locale:window["TWILL"].twillLocalization.locale,locales:l()(Ie.k1,"date-fns")}),e.use(Ts),e.use(Bs),e.use(Es)}},Vs=Us},6808:function(e,t,n){n.d(t,{Z:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"move_down_notif"}},[e.show?t("div",{class:e.notifClasses,attrs:{role:"alert","aria-live":"polite","aria-atomic":"true"}},[t("div",{staticClass:"notif__inner"},[e.important?e._e():t("button",{staticClass:"notif__close",attrs:{type:"button","data-dismiss":"alert","aria-label":"alertClose"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeNotif.apply(null,arguments)}}},[t("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}})]),t("span",{domProps:{innerHTML:e._s(e.message)}})])]):e._e()])},r=[],a=n(4181);function o(e){return c(e)||u(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function u(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var f={name:"A17Notification",props:{variant:{type:String,default:"success"},duration:{type:Number,default:3e3},important:{type:Boolean,default:!0},autoHide:{type:Boolean,default:!0}},data:function(){return{closed:!1,timer:null,css:"notif"}},computed:{message:function(){return this.$store.getters.notifByVariant(this.variant)},variantClass:function(){return"notif--".concat(this.variant)},notifClasses:function(){return this.css&&Array.isArray(this.css)?[].concat(o(this.css),[this.variantClass]):["notif",this.variantClass]},show:function(){return!this.closed&&!!this.message}},methods:{closeNotif:function(){this.closed=!0,this.clearNotification(),this.timer&&(clearTimeout(this.timer),this.timer=null)},clearNotification:function(){this.$store.commit(a.qq.CLEAR_NOTIF,this.variant)},autoClose:function(){var e=this;null===this.timer&&(this.timer=setTimeout((function(){e.closeNotif()}),this.duration))}},watch:{message:function(){this.message&&(this.closed=!1,this.autoHide&&this.autoClose())}}},p=f,h=n(1001),m=(0,h.Z)(p,i,r,!1,null,null,null),b=m.exports,y={install:function(e,t){e.mixin({methods:{notif:function(e){this.$store.commit(a.qq.SET_NOTIF,e)}}}),e.component("a17-notif",b)}},g=y},3145:function(e,t,n){var i="moveBlockToEditor",r="duplicateBlock",a="getBucketsData",o="saveBuckets",s="getDatatableDatas",l="setDatatableNestedDatas",u="setDatatableDatas",c="togglePublishedData",d="deleteData",f="duplicateData",p="restoreData",h="destroyData",m="toggleFeaturedData",b="bulkPublishData",y="bulkFeatureData",g="bulkExportData",v="bulkDeleteData",_="bulkRestoreData",w="bulkDestroyData",E="replaceFormData",S="saveFormData",O="updateFormInListing",T="createFormInModal",P="getAllPreviews",C="getPreview",A="getRevisionContent",x="getCurrentContent",D="handleErrors";t["ZP"]={HANDLE_ERRORS:D,GET_BUCKETS:a,SAVE_BUCKETS:o,GET_DATATABLE:s,SET_DATATABLE_NESTED:l,SET_DATATABLE:u,TOGGLE_PUBLISH:c,DELETE_ROW:d,DUPLICATE_ROW:f,RESTORE_ROW:p,DESTROY_ROW:h,TOGGLE_FEATURE:m,BULK_PUBLISH:b,BULK_FEATURE:y,BULK_EXPORT:g,BULK_DELETE:v,BULK_RESTORE:_,BULK_DESTROY:w,REPLACE_FORM:E,SAVE_FORM:S,UPDATE_FORM_IN_LISTING:O,CREATE_FORM_IN_MODAL:T,GET_ALL_PREVIEWS:P,GET_PREVIEW:C,GET_REVISION:A,GET_CURRENT:x,MOVE_BLOCK_TO_EDITOR:i,DUPLICATE_BLOCK:r}},3511:function(e,t,n){n.d(t,{Z:function(){return U}});var i,r=n(538),a=n(629),o=n(361),s=n.n(o),l=n(3145),u=n(4181);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(D){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new C(r||[]);return i(o,"_invoke",{value:S(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=u;var p={};function h(){}function m(){}function b(){}var y={};l(y,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(y=v);var _=b.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,a,o,s){var l=f(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function S(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return x()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=f(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function O(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=f(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new E(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(_),l(_,s,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function f(e){return b(e)||m(e)||h(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){_(a,i,r,o,s,"next",e)}function s(e){_(a,i,r,o,s,"throw",e)}o(void 0)}))}}function E(e,t,n){return t=S(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=O(e,"string");return"symbol"===c(t)?t:String(t)}function O(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var T,P={crops:window["TWILL"].STORE.medias.crops||{},showFileName:window["TWILL"].STORE.medias.showFileName||!1,types:window["TWILL"].STORE.medias.types||[],type:"image",connector:null,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:window["TWILL"].STORE.medias.selected||{},config:window["TWILL"].STORE.medias.config||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1},C={mediasByBlockId:function(e){return function(t){var n=Object.keys(e.selected).filter((function(e){return e.startsWith("blocks[".concat(t,"]"))})),i={};return n.forEach((function(t){return i[t]=e.selected[t]})),i}}},A=(i={},E(i,u.CV.UPDATE_MEDIA_TYPE_TOTAL,(function(e,t){e.types=e.types.map((function(e){return e.value===t.type&&(e.total=t.total),e}))})),E(i,u.CV.UPDATE_REPLACE_INDEX,(function(e,t){e.indexToReplace=t})),E(i,u.CV.INCREMENT_MEDIA_TYPE_TOTAL,(function(e,t){e.types=e.types.map((function(e){return e.value===t&&(e.total=e.total+1),e}))})),E(i,u.CV.DECREMENT_MEDIA_TYPE_TOTAL,(function(e,t){e.types=e.types.map((function(e){return e.value===t&&(e.total=e.total-1),e}))})),E(i,u.CV.UPDATE_MEDIAS,(function(e,t){var n=t.mediaRole,i=t.index,a=t.media;r.ZP.set(e.selected[n],i,a)})),E(i,u.CV.SAVE_MEDIAS,(function(e,t){if(e.connector){var n=e.connector,i=e.selected[n]&&e.selected[n].length;if(i&&e.indexToReplace>-1)e.selected[n].splice(e.indexToReplace,1,s()(t[0]));else if(i)t.forEach((function(t){e.selected[n].push(s()(t))}));else{var r={};r[n]=t,e.selected=Object.assign({},e.selected,r)}e.indexToReplace=-1}})),E(i,u.CV.DESTROY_SPECIFIC_MEDIA,(function(e,t){e.selected[t.name]&&(e.selected[t.name].splice(t.index,1),0===e.selected[t.name].length&&r.ZP["delete"](e.selected,t.name)),e.connector=null})),E(i,u.CV.DESTROY_MEDIAS,(function(e,t){e.selected[t]&&r.ZP["delete"](e.selected,t),e.connector=null})),E(i,u.CV.REORDER_MEDIAS,(function(e,t){var n={};n[t.name]=t.medias,e.selected=Object.assign({},e.selected,n)})),E(i,u.CV.PROGRESS_UPLOAD_MEDIA,(function(e,t){var n=e.loading.filter((function(e){return e.id===t.id}));n.length?(n[0].error=!1,n[0].progress=t.progress):e.loading.unshift({id:t.id,name:t.name,progress:t.progress,replacementId:t.replacementId,isReplacement:t.isReplacement})})),E(i,u.CV.PROGRESS_UPLOAD,(function(e,t){e.uploadProgress=t})),E(i,u.CV.DONE_UPLOAD_MEDIA,(function(e,t){e.loading.forEach((function(n,i){n.id===t.id&&e.loading.splice(i,1)}))})),E(i,u.CV.ERROR_UPLOAD_MEDIA,(function(e,t){e.loading.forEach((function(n,i){n.id===t.id&&(r.ZP.set(e.loading[i],"progress",0),r.ZP.set(e.loading[i],"error",!0),r.ZP.set(e.loading[i],"errorMessage",t.errorMessage))}))})),E(i,u.CV.UPDATE_MEDIA_CONNECTOR,(function(e,t){e.connector=t&&""!==t?t:null})),E(i,u.CV.UPDATE_MEDIA_MODE,(function(e,t){e.strict=t})),E(i,u.CV.UPDATE_MEDIA_TYPE,(function(e,t){t&&""!==t&&(e.type=t)})),E(i,u.CV.RESET_MEDIA_TYPE,(function(e){e.type=e.types[0].value})),E(i,u.CV.UPDATE_MEDIA_MAX,(function(e,t){e.max=Math.max(0,t)})),E(i,u.CV.UPDATE_MEDIA_FILESIZE_MAX,(function(e,t){e.filesizeMax=Math.max(0,t)})),E(i,u.CV.UPDATE_MEDIA_WIDTH_MIN,(function(e,t){e.widthMin=Math.max(0,t)})),E(i,u.CV.UPDATE_MEDIA_HEIGHT_MIN,(function(e,t){e.heightMin=Math.max(0,t)})),E(i,u.CV.SET_MEDIA_METADATAS,(function(e,t){var n=t.media.context,i=e.selected[n],a=t.value;function o(e){return a.locale?(e.metadatas.custom[a.id]||(e.metadatas.custom[a.id]={}),e.metadatas.custom[a.id][a.locale]=a.value):e.metadatas.custom[a.id]=a.value,e}if(t.media.hasOwnProperty("index")){var l=o(s()(i[t.media.index]));r.ZP.set(i,t.media.index,l)}})),E(i,u.CV.DESTROY_MEDIA_CONNECTOR,(function(e){e.connector=null})),E(i,u.CV.SET_MEDIA_CROP,(function(e,t){var n=t.key,i=t.index,a=e.selected[n][i];function o(e){for(var n in e.crops||(e.crops={}),t.values){var i={};i.name=t.values[n].name||n,i.x=t.values[n].x,i.y=t.values[n].y,i.width=t.values[n].width,i.height=t.values[n].height,e.crops[n]=i}return e}var l=o(s()(a));r.ZP.set(e.selected[n],i,l)})),E(i,u.CV.ADD_MEDIAS,(function(e,t){var n=t.medias;e.selected=Object.assign({},e.selected,n)})),i),x=E({},l.ZP.DUPLICATE_BLOCK,(function(e,t){return w(d().mark((function n(){var i,r,a,o,s,l,c;return d().wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=e.commit,r=e.getters,a=t.block,o=t.id,s=v({},r.mediasByBlockId(a.id)),l=Object.keys(s),c={},l.forEach((function(e){return c[e.replace(a.id,o)]=f(s[e])})),i(u.CV.ADD_MEDIAS,{medias:c});case 7:case"end":return n.stop()}}),n)})))()})),D={state:P,getters:C,mutations:A,actions:x};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function L(e,t,n){return t=I(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=M(e,"string");return"symbol"===k(t)?t:String(t)}function M(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==k(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var R={success:null,info:null,warning:null,error:null},j={notifByVariant:function(e){return function(t){return e[t]}},notified:function(e){return 0===Object.keys(e).filter((function(t){return null!==e[t]})).length}},N=(T={},L(T,u.qq.SET_NOTIF,(function(e,t){e[t.variant]=t.message})),L(T,u.qq.CLEAR_NOTIF,(function(e,t){e[t]&&(e[t]=null)})),T),B={state:R,getters:j,mutations:N};r.ZP.use(a.ZP);var F=!1,U=new a.ZP.Store({modules:{notification:B,mediaLibrary:D},strict:F})},7224:function(e,t,n){var i,r=n(538),a=n(4181);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t,n){return t=l(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=u(e,"string");return"symbol"===o(t)?t:String(t)}function u(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c={options:{}},d={optionsByName:function(e){return function(t){return e.options[t]||[]}}},f=(i={},s(i,a.N0.EMPTY_OPTIONS,(function(e,t){e.options[t]&&r.ZP["delete"](e.options,t)})),s(i,a.N0.UPDATE_OPTIONS,(function(e,t){var n=t.name,i=t.options,a=[];e.options[n]&&(a=e.options[n],r.ZP["delete"](e.options,n)),Array.isArray(i)&&i.forEach((function(e){var t=a.findIndex((function(t){return t.value===e.value}));-1===t&&a.push(e)})),r.ZP.set(e.options,n,a)})),i),p={};t["Z"]={state:c,getters:d,mutations:f,actions:p}},2374:function(e,t,n){var i,r=n(538),a=n(3145),o=n(4181);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(D){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new C(r||[]);return i(o,"_invoke",{value:S(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=d;var p={};function h(){}function m(){}function b(){}var y={};c(y,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(y=v);var _=b.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,a,o,l){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==s(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(u.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function S(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return x()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=f(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function O(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=f(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new E(d(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(_),c(_,u,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function u(e){return p(e)||f(e)||d(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){y(a,i,r,o,s,"next",e)}function s(e){y(a,i,r,o,s,"throw",e)}o(void 0)}))}}function v(e,t,n){return t=_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=w(e,"string");return"symbol"===s(t)?t:String(t)}function w(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var E={connector:null,title:"Attach related resources",note:"",endpoint:"",endpointName:"",endpoints:[],max:0,selected:window["TWILL"].STORE.browser.selected||{}},S={selectedItemsByIds:function(e){var t=[];for(var n in e.selected)t[n]=e.selected[n].map((function(e){return"".concat(e.endpointType,"_").concat(e.id)}));return t},browsersByBlockId:function(e){return function(t){var n=Object.keys(e.selected).filter((function(e){return e.startsWith("blocks[".concat(t,"]"))})),i={};return n.forEach((function(t){return i[t]=e.selected[t]})),i}}},O=(i={},v(i,o.Uv.SAVE_ITEMS,(function(e,t){if(e.connector)if(e.selected[e.connector]&&e.selected[e.connector].length)e.selected[e.connector]=t;else{var n={};n[e.connector]=t,e.selected=Object.assign({},e.selected,n)}})),v(i,o.Uv.DESTROY_ITEMS,(function(e,t){e.selected[t.name]&&r.ZP["delete"](e.selected,t.name)})),v(i,o.Uv.DESTROY_ITEM,(function(e,t){e.selected[t.name]&&(e.selected[t.name].splice(t.index,1),0===e.selected[t.name].length&&r.ZP["delete"](e.selected,t.name),e.connector=null)})),v(i,o.Uv.REORDER_ITEMS,(function(e,t){var n={};n[t.name]=t.items,e.selected=Object.assign({},e.selected,n)})),v(i,o.Uv.UPDATE_BROWSER_MAX,(function(e,t){e.max=Math.max(0,t)})),v(i,o.Uv.UPDATE_BROWSER_CONNECTOR,(function(e,t){t&&""!==t&&(e.connector=t)})),v(i,o.Uv.UPDATE_BROWSER_TITLE,(function(e,t){t&&""!==t&&(e.title=t)})),v(i,o.Uv.UPDATE_BROWSER_NOTE,(function(e,t){e.note=t})),v(i,o.Uv.DESTROY_BROWSER_CONNECTOR,(function(e){e.connector=null})),v(i,o.Uv.UPDATE_BROWSER_ENDPOINT,(function(e,t){t&&""!==t&&(e.endpoint=t.value,e.endpointName=t.label||"")})),v(i,o.Uv.DESTROY_BROWSER_ENDPOINT,(function(e){e.endpoint="",e.endpointName=""})),v(i,o.Uv.UPDATE_BROWSER_ENDPOINTS,(function(e,t){!t&&!t.length>0||(e.endpoints=t,e.endpoint=t[0].value,e.endpointName=t[0].label)})),v(i,o.Uv.DESTROY_BROWSER_ENDPOINTS,(function(e){e.endpoints=[]})),v(i,o.Uv.ADD_BROWSERS,(function(e,t){var n=t.browsers;e.selected=Object.assign({},e.selected,n)})),i),T=v({},a.ZP.DUPLICATE_BLOCK,(function(e,t){return g(l().mark((function n(){var i,r,a,s,c,d,f;return l().wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=e.commit,r=e.getters,a=t.block,s=t.id,c=b({},r.browsersByBlockId(a.id)),d=Object.keys(c),f={},d.forEach((function(e){return f[e.replace(a.id,s)]=u(c[e])})),i(o.Uv.ADD_BROWSERS,{browsers:f});case 7:case"end":return n.stop()}}),n)})))()}));t["Z"]={state:E,getters:S,mutations:O,actions:T}},366:function(e,t,n){n.d(t,{Z:function(){return O}});var i,r,a=n(3145),o=n(1607),s=n(9669),l=n.n(s),u=n(3827),c=n(3835),d="DATATABLE",f={get:function(e,t){l().get(window["TWILL"].CMS_URLS.index,{params:e}).then((function(e){if(e.data.replaceUrl){var n=e.request.responseURL;(0,c.lO)(n)}if(t&&"function"===typeof t){var i={data:e.data.tableData?e.data.tableData:[],nav:e.data.tableMainFilters?e.data.tableMainFilters:[],maxPage:e.data.maxPage?e.data.maxPage:1};t(i)}}),(function(e){var t={message:"Get request error.",value:e};(0,u.I)(d,t)}))},togglePublished:function(e,t,n){l().put(window["TWILL"].CMS_URLS.publish,{id:e.id,active:e.published}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Publish request error.",value:e};(0,u.I)(d,t),n&&"function"===typeof n&&n(e.response)}))},toggleFeatured:function(e,t){l().put(window["TWILL"].CMS_URLS.feature,{id:e.id,active:e.featured}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Feature request error.",value:e};(0,u.I)(d,t)}))},delete:function(e,t){l()["delete"](e.delete).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Delete request error.",value:e};(0,u.I)(d,t)}))},restore:function(e,t){l().put(window["TWILL"].CMS_URLS.restore,{id:e.id}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Restore request error.",value:e};(0,u.I)(d,t)}))},destroy:function(e,t){l().put(window["TWILL"].CMS_URLS.forceDelete,{id:e.id}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Destroy request error.",value:e};(0,u.I)(d,t)}))},duplicate:function(e,t){l().put(e.duplicate).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Duplicate request error.",value:e};(0,u.I)(d,t)}))},reorder:function(e,t){l().post(window["TWILL"].CMS_URLS.reorder,{ids:e}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Reorder request error.",value:e};(0,u.I)(d,t)}))},bulkPublish:function(e,t){l().post(window["TWILL"].CMS_URLS.bulkPublish,{ids:e.ids,publish:e.toPublish}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk publish request error.",value:e};(0,u.I)(d,t)}))},bulkFeature:function(e,t){l().post(window["TWILL"].CMS_URLS.bulkFeature,{ids:e.ids,feature:e.toFeature}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk feature request error.",value:e};(0,u.I)(d,t)}))},bulkDelete:function(e,t){l().post(window["TWILL"].CMS_URLS.bulkDelete,{ids:e}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk delete request error.",value:e};(0,u.I)(d,t)}))},bulkRestore:function(e,t){l().post(window["TWILL"].CMS_URLS.bulkRestore,{ids:e}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk restore request error.",value:e};(0,u.I)(d,t)}))},bulkDestroy:function(e,t){l().post(window["TWILL"].CMS_URLS.bulkForceDelete,{ids:e}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk destroy request error.",value:e};(0,u.I)(d,t)}))}},p=n(4181);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t,n){return t=b(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=y(e,"string");return"symbol"===h(t)?t:String(t)}function y(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==h(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=function e(t,n,i){t.forEach((function(t){t.id===n&&i(t),t.children&&e(t.children,n,i)}))},v=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id","children"],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=JSON.parse(JSON.stringify(t));return r.forEach((function(t){for(var r in t)n.includes(r)||delete t[r],r===i&&(t[r]=e(t[r]))})),r},_={baseUrl:window["TWILL"].STORE.datatable.baseUrl||"",data:window["TWILL"].STORE.datatable.data||[],columns:window["TWILL"].STORE.datatable.columns||[],filter:window["TWILL"].STORE.datatable.filter||{},filtersNav:window["TWILL"].STORE.datatable.navigation||[],page:Number(window["TWILL"].STORE.datatable.page||1),maxPage:Number(window["TWILL"].STORE.datatable.maxPage||1),defaultMaxPage:Number(window["TWILL"].STORE.datatable.defaultMaxPage||1),offset:Number(window["TWILL"].STORE.datatable.offset||60),defaultOffset:Number(window["TWILL"].STORE.datatable.defaultOffset||60),sortKey:window["TWILL"].STORE.datatable.sortKey||"",sortDir:window["TWILL"].STORE.datatable.sortDir||"asc",bulk:[],localStorageKey:window["TWILL"].STORE.datatable.localStorageKey||window.location.pathname,loading:!1,updateTracker:0},w={dataIds:function(e){return e.data.map((function(e){return e.id}))},hideableColumns:function(e){return e.columns.filter((function(e){return e.optional}))},visibleColumns:function(e){return e.columns.filter((function(e){return e.visible}))},visibleColumnsNames:function(e){var t=[];return e.columns.length&&e.columns.forEach((function(e){e.visible&&t.push(e.name)})),t}},E=(i={},m(i,p.yY.UPDATE_DATATABLE_DATA,(function(e,t){e.bulk=[],e.data=t})),m(i,p.yY.UPDATE_DATATABLE_BULK,(function(e,t){e.bulk.indexOf(t)>-1?e.bulk=e.bulk.filter((function(e){return e!==t})):e.bulk.push(t)})),m(i,p.yY.REPLACE_DATATABLE_BULK,(function(e,t){e.bulk=t})),m(i,p.yY.ADD_DATATABLE_COLUMN,(function(e,t){e.columns.splice(t.index,0,t.data)})),m(i,p.yY.REMOVE_DATATABLE_COLUMN,(function(e,t){e.columns.forEach((function(n,i){n.name===t&&e.columns.splice(i,1)}))})),m(i,p.yY.UPDATE_DATATABLE_FILTER,(function(e,t){e.filter=Object.assign({},e.filter,t)})),m(i,p.yY.CLEAR_DATATABLE_FILTER,(function(e){e.filter=Object.assign({},{search:"",status:e.filter.status})})),m(i,p.yY.UPDATE_DATATABLE_FILTER_STATUS,(function(e,t){e.filter.status=t})),m(i,p.yY.UPDATE_DATATABLE_OFFSET,(function(e,t){e.offset=t,(0,o.po)(e.localStorageKey+"_page-offset",e.offset)})),m(i,p.yY.UPDATE_DATATABLE_PAGE,(function(e,t){e.page=t})),m(i,p.yY.UPDATE_DATATABLE_MAXPAGE,(function(e,t){e.page>t&&(e.page=t),e.maxPage=t})),m(i,p.yY.UPDATE_DATATABLE_VISIBLITY,(function(e,t){(0,o.po)(e.localStorageKey+"_columns-visible",JSON.stringify(t)),e.columns.forEach((function(e){for(var n=0;n<t.length;n++){if(t[n]===e.name){e.visible=!0;break}e.visible=!1}}))})),m(i,p.yY.UPDATE_DATATABLE_SORT,(function(e,t){var n="asc";e.sortKey===t.name?e.sortDir=e.sortDir===n?"desc":n:e.sortDir=n,e.sortKey=t.name})),m(i,p.yY.UPDATE_DATATABLE_NAV,(function(e,t){t.forEach((function(t){e.filtersNav.forEach((function(e){e.name===t.name&&(e.number=t.number)}))}))})),m(i,p.yY.PUBLISH_DATATABLE,(function(e,t){var n=t.id,i=t.value;function r(t){t>=0&&(e.data[t].published="toggle"===i?!e.data[t].published:i)}function a(t){return e.data.findIndex((function(e,n){return e.id===t}))}if(Array.isArray(n))n.forEach((function(e){var t=a(e);r(t)})),e.bulk=[];else{var o=a(n);r(o)}})),m(i,p.yY.FEATURE_DATATABLE,(function(e,t){var n=t.id,i=t.value;function r(t){t>=0&&(e.data[t].featured="toggle"===i?!e.data[t].featured:i)}function a(t){return e.data.findIndex((function(e,n){return e.id===t}))}if(Array.isArray(n))n.forEach((function(e){var t=a(e);r(t)})),e.bulk=[];else{var o=a(n);r(o)}})),m(i,p.yY.UPDATE_DATATABLE_LOADING,(function(e,t){e.loading=!e.loading})),m(i,p.yY.UPDATE_DATATABLE_NESTED,(function(e,t){g(e.data,t.parentId,(function(e){e.children=t.val}))})),m(i,p.yY.UPDATE_DATATABLE_TRACKER,(function(e,t){e.updateTracker=t?e.updateTracker+1:0})),i),S=(r={},m(r,a.ZP.GET_DATATABLE,(function(e){var t=e.commit,n=e.state,i=e.getters;if(!n.loading){t(p.yY.UPDATE_DATATABLE_LOADING,!0);var r={sortKey:n.sortKey,sortDir:n.sortDir,page:n.page,offset:n.offset,columns:i.visibleColumnsNames,filter:n.filter};f.get(r,(function(e){t(p.yY.UPDATE_DATATABLE_DATA,e.data),t(p.yY.UPDATE_DATATABLE_MAXPAGE,e.maxPage),t(p.yY.UPDATE_DATATABLE_NAV,e.nav),t(p.yY.UPDATE_DATATABLE_LOADING,!1)}))}})),m(r,a.ZP.SET_DATATABLE_NESTED,(function(e){var t=e.commit,n=e.state,i=(e.dispatch,v(n.data));f.reorder(i,(function(e){t(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant})}))})),m(r,a.ZP.SET_DATATABLE,(function(e){var t=e.commit,n=e.state,i=(e.dispatch,n.data.map((function(e){return e.id})));f.reorder(i,(function(e){t(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant})}))})),m(r,a.ZP.TOGGLE_PUBLISH,(function(e,t){var n=e.commit,i=(e.state,e.dispatch);f.togglePublished(t,(function(e){n(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),i(a.ZP.GET_DATATABLE)}),(function(e){n(p.qq.SET_NOTIF,{message:e.data.error.message,variant:"error"})}))})),m(r,a.ZP.DELETE_ROW,(function(e,t){var n=e.commit,i=(e.state,e.dispatch);f["delete"](t,(function(e){n(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),i(a.ZP.GET_DATATABLE)}))})),m(r,a.ZP.DUPLICATE_ROW,(function(e,t){var n=e.commit;e.state,e.dispatch;f.duplicate(t,(function(e){n(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),e.data.hasOwnProperty("redirect")&&window.location.replace(e.data.redirect)}))})),m(r,a.ZP.RESTORE_ROW,(function(e,t){var n=e.commit,i=(e.state,e.dispatch);f.restore(t,(function(e){n(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),i(a.ZP.GET_DATATABLE)}))})),m(r,a.ZP.DESTROY_ROW,(function(e,t){var n=e.commit,i=(e.state,e.dispatch);f.destroy(t,(function(e){n(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),i(a.ZP.GET_DATATABLE)}))})),m(r,a.ZP.BULK_PUBLISH,(function(e,t){var n=e.commit,i=e.state,r=e.dispatch;f.bulkPublish({ids:i.bulk.join(),toPublish:t.toPublish},(function(e){n(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),r(a.ZP.GET_DATATABLE)}))})),m(r,a.ZP.TOGGLE_FEATURE,(function(e,t){var n=e.commit;e.state;f.toggleFeatured(t,(function(e){n(p.yY.FEATURE_DATATABLE,{id:t.id,value:"toggle"}),n(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant})}))})),m(r,a.ZP.BULK_FEATURE,(function(e,t){var n=e.commit,i=e.state;f.bulkFeature({ids:i.bulk.join(),toFeature:t.toFeature},(function(e){n(p.yY.FEATURE_DATATABLE,{id:i.bulk,value:!0}),n(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant})}))})),m(r,a.ZP.BULK_DELETE,(function(e){var t=e.commit,n=e.state,i=e.dispatch;f.bulkDelete(n.bulk.join(),(function(e){t(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),i(a.ZP.GET_DATATABLE)}))})),m(r,a.ZP.BULK_RESTORE,(function(e){var t=e.commit,n=e.state,i=e.dispatch;f.bulkRestore(n.bulk.join(),(function(e){t(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),i(a.ZP.GET_DATATABLE)}))})),m(r,a.ZP.BULK_DESTROY,(function(e){var t=e.commit,n=e.state,i=e.dispatch;f.bulkDestroy(n.bulk.join(),(function(e){t(p.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),i(a.ZP.GET_DATATABLE)}))})),r),O={state:_,getters:w,actions:S,mutations:E}},890:function(e,t,n){n.d(t,{Z:function(){return I}});var i,r,a=n(361),o=n.n(a),s=n(3145),l=n(9065),u=n(9669),c=n.n(u),d=n(3827),f="FORM",p={get:function(e,t,n){c().get(e).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Get request error.",value:e};(0,d.I)(f,t),n&&"function"===typeof n&&n(e)}))},post:function(e,t,n,i){c().post(e,t).then((function(e){n&&"function"===typeof n&&n(e)}),(function(e){var t={message:"Post request error.",value:e};(0,d.I)(f,t),i&&"function"===typeof i&&i(e)}))},put:function(e,t,n,i){c().put(e,t).then((function(e){n&&"function"===typeof n&&n(e)}),(function(e){var t={message:"Save request error.",value:e};(0,d.I)(f,t),i&&"function"===typeof i&&i(e)}))}},h=n(4181);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(D){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new C(r||[]);return i(o,"_invoke",{value:S(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=u;var d={};function f(){}function p(){}function h(){}var y={};l(y,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(y=v);var _=h.prototype=f.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==m(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function S(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return x()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function O(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=c(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,i(_,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:p,configurable:!0}),p.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new E(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(_),l(_,s,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function y(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){y(a,i,r,o,s,"next",e)}function s(e){y(a,i,r,o,s,"throw",e)}o(void 0)}))}}function v(e,t,n){return t=_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=w(e,"string");return"symbol"===m(t)?t:String(t)}function w(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function E(e){return P(e)||T(e)||O(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function P(e){if(Array.isArray(e))return C(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var A=function(e,t){return e.findIndex((function(e){return e.name===t.name}))},x={loading:!1,type:"save",baseUrl:window["TWILL"].STORE.form.baseUrl||"",fields:window["TWILL"].STORE.form.fields||[],modalFields:[],saveUrl:window["TWILL"].STORE.form.saveUrl||"",previewUrl:window["TWILL"].STORE.form.previewUrl||"",restoreUrl:window["TWILL"].STORE.form.restoreUrl||"",blockPreviewUrl:window["TWILL"].STORE.form.blockPreviewUrl||"",errors:{},isCustom:window["TWILL"].STORE.form.isCustom||!1,reloadOnSuccess:window["TWILL"].STORE.form.reloadOnSuccess||!1,isSubmitPrevented:!1},D={fieldsByName:function(e){return function(t){return e.fields.filter((function(e){return e.name===t}))}},fieldValueByName:function(e,t){return function(e){return t.fieldsByName(e).length?t.fieldsByName(e)[0].value:""}},modalFieldsByName:function(e){return function(t){return e.modalFields.filter((function(e){return e.name===t}))}},modalFieldValueByName:function(e,t){return function(e){return t.modalFieldsByName(e).length?t.modalFieldsByName(e)[0].value:""}},fieldsByBlockId:function(e){return function(t){return e.fields.filter((function(e){return e.name.startsWith("blocks[".concat(t,"]"))}))}}},k=(i={},v(i,h.Yc.UPDATE_FORM_PERMALINK,(function(e,t){t&&""!==t&&(e.permalink=t)})),v(i,h.Yc.PREVENT_SUBMIT,(function(e){e.isSubmitPrevented=!0})),v(i,h.Yc.ALLOW_SUBMIT,(function(e){e.isSubmitPrevented=!1})),v(i,h.Yc.EMPTY_FORM_FIELDS,(function(e,t){e.fields=[]})),v(i,h.Yc.ADD_FORM_FIELDS,(function(e,t){e.fields=[].concat(E(e.fields),E(t))})),v(i,h.Yc.REPLACE_FORM_FIELDS,(function(e,t){e.fields=t})),v(i,h.Yc.UPDATE_FORM_FIELD,(function(e,t){var n=t.locale?{}:null,i=A(e.fields,t);-1!==i&&(t.locale&&(n=e.fields[i].value||{}),e.fields.splice(i,1)),t.locale?n[t.locale]=t.value:n=t.value,e.fields.push({name:t.name,value:n})})),v(i,h.Yc.REMOVE_FORM_FIELD,(function(e,t){e.fields.forEach((function(n,i){n.name===t&&e.fields.splice(i,1)}))})),v(i,h.Yc.DUPLICATE_BLOCK_FORM_FIELDS,(function(e,t){var n=t.fields,i=t.oldId,r=t.newId,a=[];n.forEach((function(e){a.push({name:e.name.replace(i,r),value:o()(e.value)})})),e.fields=[].concat(E(e.fields),a)})),v(i,h.Yc.EMPTY_MODAL_FIELDS,(function(e,t){e.modalFields=[]})),v(i,h.Yc.REPLACE_MODAL_FIELDS,(function(e,t){e.modalFields=t})),v(i,h.Yc.UPDATE_MODAL_FIELD,(function(e,t){var n=t.locale?{}:null,i=A(e.modalFields,t);-1!==i&&(t.locale&&(n=e.modalFields[i].value),e.modalFields.splice(i,1)),t.locale?n[t.locale]=t.value:n=t.value,e.modalFields.push({name:t.name,value:n})})),v(i,h.Yc.REMOVE_MODAL_FIELD,(function(e,t){e.modalFields.forEach((function(n,i){n.name===t&&e.modalFields.splice(i,1)}))})),v(i,h.Yc.UPDATE_FORM_LOADING,(function(e,t){e.loading=t||!e.loading})),v(i,h.Yc.SET_FORM_ERRORS,(function(e,t){e.errors=t})),v(i,h.Yc.CLEAR_FORM_ERRORS,(function(e){e.errors=[]})),v(i,h.Yc.UPDATE_FORM_SAVE_TYPE,(function(e,t){e.type=t})),i),L=(r={},v(r,s.ZP.HANDLE_ERRORS,(function(e,t){var n=e.commit,i=(e.state,e.getters,e.rootState),r=i.repeaters.repeaters;Object.keys(t).forEach((function(e){var n=e.split(".");if(n.length>=4){var i=n[0],a=n[1],o=n[2],s=n[3];if("repeaters"===i){var l=r[a][o].id,u="blocks[".concat(l,"][").concat(s,"]");t[u]=t[e]}}})),n(h.Yc.SET_FORM_ERRORS,t)})),v(r,s.ZP.REPLACE_FORM,(function(e,t){var n=e.commit,i=(e.state,e.getters,e.rootState,e.dispatch);return new Promise((function(e,r){n(h.Yc.CLEAR_FORM_ERRORS),n(h.qq.CLEAR_NOTIF,"error"),p.get(t,(function(t){n(h.Yc.UPDATE_FORM_LOADING,!1);var i=t.data;i.hasOwnProperty("languages")&&(n(h.ad.REPLACE_LANGUAGES,i.languages),delete i.languages),i.hasOwnProperty("revisions")&&(n(h.UZ.UPDATE_REV_ALL,i.revisions),delete i.revisions),n(h.Yc.REPLACE_FORM_FIELDS,i.fields),e()}),(function(e){n(h.Yc.UPDATE_FORM_LOADING,!1),i(s.ZP.HANDLE_ERRORS,e.response.data),r(e)}))}))})),v(r,s.ZP.UPDATE_FORM_IN_LISTING,(function(e,t){var n=e.commit,i=(e.state,e.getters,e.rootState);return new Promise((function(e,r){n(h.Yc.CLEAR_FORM_ERRORS),n(h.qq.CLEAR_NOTIF,"error");var a=Object.assign((0,l.s4)(i),{languages:i.language.all});p[t.method](t.endpoint,a,(function(i){n(h.Yc.UPDATE_FORM_LOADING,!1),i.data.hasOwnProperty("redirect")&&t.redirect&&window.location.replace(i.data.redirect),n(h.qq.SET_NOTIF,{message:i.data.message,variant:i.data.variant}),e()}),(function(e){n(h.Yc.UPDATE_FORM_LOADING,!1),n(h.Yc.SET_FORM_ERRORS,e.response.data),n(h.qq.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),r(e)}))}))})),v(r,s.ZP.CREATE_FORM_IN_MODAL,(function(e,t){var n=e.commit,i=(e.state,e.getters,e.rootState);return new Promise((function(e,r){n(h.Yc.CLEAR_FORM_ERRORS),n(h.qq.CLEAR_NOTIF,"error");var a=Object.assign((0,l.b6)(i),{languages:i.language.all});p[t.method](t.endpoint,a,(function(i){n(h.Yc.UPDATE_FORM_LOADING,!1),n(h.N0.UPDATE_OPTIONS,{name:t.name,options:i.data}),e()}),(function(e){n(h.Yc.UPDATE_FORM_LOADING,!1),n(h.Yc.SET_FORM_ERRORS,e.response.data),n(h.qq.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),r(e)}))}))})),v(r,s.ZP.SAVE_FORM,(function(e,t){var n=e.commit,i=e.state,r=(e.getters,e.rootState),a=e.dispatch;n(h.Yc.CLEAR_FORM_ERRORS),n(h.qq.CLEAR_NOTIF,"error"),n(h.Yc.UPDATE_FORM_SAVE_TYPE,t);var o=(0,l.zi)(r),u=r.publication.createWithoutModal?"post":"put";p[u](i.saveUrl,o,(function(e){n(h.Yc.UPDATE_FORM_LOADING,!1),e.data.hasOwnProperty("redirect")&&window.location.replace(e.data.redirect),i.reloadOnSuccess&&window.location.reload(),n(h.qq.SET_NOTIF,{message:e.data.message,variant:e.data.variant}),n(h.V1.UPDATE_PUBLISH_SUBMIT),e.data.hasOwnProperty("revisions")&&n(h.UZ.UPDATE_REV_ALL,e.data.revisions)}),(function(e){n(h.Yc.UPDATE_FORM_LOADING,!1),e.response.data.hasOwnProperty("exception")?n(h.qq.SET_NOTIF,{message:"Your submission could not be processed.",variant:"error"}):(a(s.ZP.HANDLE_ERRORS,e.response.data),n(h.qq.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}))}))})),v(r,s.ZP.DUPLICATE_BLOCK,(function(e,t){return g(b().mark((function n(){var i,r,a,o,s;return b().wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=e.commit,r=e.getters,a=t.block,o=t.id,s=r.fieldsByBlockId(a.id),i(h.Yc.DUPLICATE_BLOCK_FORM_FIELDS,{fields:s,oldId:a.id,newId:o});case 4:case"end":return n.stop()}}),n)})))()})),r),I={state:x,getters:D,mutations:k,actions:L}},6625:function(e,t,n){var i,r=n(4181);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,n){return t=s(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=l(e,"string");return"symbol"===a(t)?t:String(t)}function l(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u={all:window["TWILL"].STORE.languages.all||[],initialAll:window["TWILL"].STORE.languages.all||[],active:window["TWILL"].STORE.languages.active||window["TWILL"].STORE.languages.all[0]||{}},c={publishedLanguages:function(e){return e.all.filter((function(e){return e.published}))}},d=(i={},o(i,r.ad.SWITCH_LANG,(function(e,t){var n=t.oldValue;function i(e){return e.value===n.value}var r=e.all.findIndex(i),a=r<e.all.length-1?r+1:0;e.active=e.all[a]})),o(i,r.ad.UPDATE_LANG,(function(e,t){function n(e){return e.value===t}var i=e.all.findIndex(n);e.active=e.all[i]})),o(i,r.ad.PUBLISH_LANG,(function(e,t){e.all.forEach((function(e){e.published=!!t.includes(e.value)}))})),o(i,r.ad.PUBLISH_SINGLE_LANG,(function(e,t){function n(e){return e.value===t}var i=e.all.findIndex(n);e.all[i].published=!e.all[i].published})),o(i,r.ad.REPLACE_LANGUAGES,(function(e,t){e.all=t})),o(i,r.ad.RESET_LANGUAGES,(function(e){e.all=e.initialAll})),i);t["Z"]={state:u,getters:c,mutations:d}},7264:function(e,t,n){var i="emptyAttributes",r="updateAttributes";t["ZP"]={EMPTY_OPTIONS:i,UPDATE_OPTIONS:r}},1171:function(e,t,n){var i="addBlock",r="moveBlock",a="deleteBlock",o="duplicateBlock",s="reorderBlocks",l="activateBlock",u="addBlockPreview",c="updateBlockPreviewLoading";t["ZP"]={ADD_BLOCK:i,MOVE_BLOCK:r,DELETE_BLOCK:a,DUPLICATE_BLOCK:o,REORDER_BLOCKS:s,ACTIVATE_BLOCK:l,ADD_BLOCK_PREVIEW:u,UPDATE_PREVIEW_LOADING:c}},7763:function(e,t,n){n.d(t,{Dh:function(){return r},Ex:function(){return o},NM:function(){return i},uO:function(){return a}});var i="saveSelectedItems",r="destroyAllItems",a="destroySelectedItem",o="reorderSelectedItems",s="updateBrowserMax",l="updateBrowserTitle",u="updateBrowserNote",c="updateBrowserConnector",d="destroyBrowserConnector",f="updateBrowserEndpoint",p="updateBrowserEndpoints",h="destroyBrowserEndpoint",m="destroyBrowserEndpoints",b="addBrowsers";t["ZP"]={SAVE_ITEMS:i,DESTROY_ITEMS:r,DESTROY_ITEM:a,REORDER_ITEMS:o,UPDATE_BROWSER_MAX:s,UPDATE_BROWSER_TITLE:l,UPDATE_BROWSER_NOTE:u,UPDATE_BROWSER_CONNECTOR:c,DESTROY_BROWSER_CONNECTOR:d,UPDATE_BROWSER_ENDPOINT:f,DESTROY_BROWSER_ENDPOINT:h,UPDATE_BROWSER_ENDPOINTS:p,DESTROY_BROWSER_ENDPOINTS:m,ADD_BROWSERS:b}},8968:function(e,t,n){var i="addToBucket",r="deleteFromBucket",a="toggleFeaturedInBucket",o="reorderBucketList",s="updateBucketsDataSource",l="updateBucketsData",u="updateBucketsFilter",c="updateBucketsDataOffset",d="updateBucketsDataPage",f="updateBucketsMaxPage";t["ZP"]={ADD_TO_BUCKET:i,DELETE_FROM_BUCKET:r,TOGGLE_FEATURED_IN_BUCKET:a,REORDER_BUCKET_LIST:o,UPDATE_BUCKETS_DATASOURCE:s,UPDATE_BUCKETS_DATA:l,UPDATE_BUCKETS_FILTER:u,UPDATE_BUCKETS_DATA_OFFSET:c,UPDATE_BUCKETS_DATA_PAGE:d,UPDATE_BUCKETS_MAX_PAGE:f}},4973:function(e,t,n){var i="updateDatableData",r="updateDatableBulk",a="replaceDatableBulk",o="addDatableColumn",s="removeDatableColumn",l="updateDatableOffset",u="updateDatablePage",c="updateDatableMaxPage",d="updateDatableNavigation",f="updateDatableVisibility",p="updateDatableSort",h="publishDatatable",m="featureDatatable",b="updateDatableFilter",y="updateDatableFilterStatus",g="clearDatableFilter",v="updateDatableMessage",_="updateDatableLoading",w="updateDatatableNestedDatas",E="updateDatableTracker";t["ZP"]={UPDATE_DATATABLE_DATA:i,UPDATE_DATATABLE_BULK:r,REPLACE_DATATABLE_BULK:a,ADD_DATATABLE_COLUMN:o,REMOVE_DATATABLE_COLUMN:s,UPDATE_DATATABLE_OFFSET:l,UPDATE_DATATABLE_PAGE:u,UPDATE_DATATABLE_MAXPAGE:c,UPDATE_DATATABLE_NAV:d,UPDATE_DATATABLE_VISIBLITY:f,UPDATE_DATATABLE_SORT:p,PUBLISH_DATATABLE:h,FEATURE_DATATABLE:m,UPDATE_DATATABLE_FILTER:b,UPDATE_DATATABLE_FILTER_STATUS:y,CLEAR_DATATABLE_FILTER:g,UPDATE_DATATABLE_MESSAGE:v,UPDATE_DATATABLE_LOADING:_,UPDATE_DATATABLE_NESTED:w,UPDATE_DATATABLE_TRACKER:E}},9628:function(e,t,n){n.d(t,{Fz:function(){return l},I4:function(){return S},Vi:function(){return c},Z2:function(){return p},nX:function(){return u},o$:function(){return a},wQ:function(){return s},yS:function(){return o}});var i="preventSubmit",r="allowSubmit",a="updateFormPermalink",o="updateFormField",s="removeFormField",l="addFormBlock",u="deleteFormBlock",c="duplicateFormBlock",d="duplicateBlockFormFields",f="duplicateBlockRepeaters",p="reorderFormBlocks",h="updateFormLoading",m="setFormErrors",b="clearFormErrors",y="updateFormSaveType",g="replaceFormField",v="addFormField",_="emptyFormField",w="addRepeaterFromSelection",E="emptyModalField",S="updateModalField",O="removeModalField",T="replaceModalField";t["ZP"]={PREVENT_SUBMIT:i,ALLOW_SUBMIT:r,UPDATE_FORM_PERMALINK:a,UPDATE_FORM_FIELD:o,REMOVE_FORM_FIELD:s,ADD_FORM_BLOCK:l,DELETE_FORM_BLOCK:u,DUPLICATE_FORM_BLOCK:c,DUPLICATE_BLOCK_FORM_FIELDS:d,ADD_REPEATERS:f,REORDER_FORM_BLOCKS:p,UPDATE_FORM_LOADING:h,SET_FORM_ERRORS:m,CLEAR_FORM_ERRORS:b,UPDATE_FORM_SAVE_TYPE:y,REPLACE_FORM_FIELDS:g,ADD_FORM_FIELDS:v,EMPTY_FORM_FIELDS:_,EMPTY_MODAL_FIELDS:E,UPDATE_MODAL_FIELD:S,REMOVE_MODAL_FIELD:O,REPLACE_MODAL_FIELDS:T,ADD_REPEATER_FROM_SELECTION:w}},4576:function(e,t,n){n.d(t,{sR:function(){return i}});var i="switchLanguage",r="updateLanguage",a="updatePublishedLanguage",o="publishLanguage",s="replaceLanguages",l="resetLanguages";t["ZP"]={SWITCH_LANG:i,UPDATE_LANG:r,PUBLISH_LANG:a,PUBLISH_SINGLE_LANG:o,REPLACE_LANGUAGES:s,RESET_LANGUAGES:l}},9193:function(e,t,n){n.d(t,{A5:function(){return u},B5:function(){return w},Lo:function(){return h},lU:function(){return l},oY:function(){return o},tB:function(){return E}});var i="updateMediaTypeTotal",r="incrementMediaTypeTotal",a="decrementMediaTypeTotal",o="saveSelectedMedias",s="updateMedias",l="destroySelectedMedias",u="reorderSelectedMedias",c="progressUpload",d="progressUploadMedia",f="doneUploadMedia",p="errorUploadMedia",h="destroyMediasInSelected",m="updateMediaMax",b="updateMediaFilesizeMax",y="updateMediaWidthMin",g="updateMediaHeightMin",v="updateMediaType",_="resetMediaType",w="setMediaCrop",E="setMediaMetadatas",S="updateMediaConnector",O="updateMediaMode",T="destroyMediaConnector",P="updateReplaceIndex",C="addMedias";t["ZP"]={UPDATE_MEDIA_TYPE_TOTAL:i,INCREMENT_MEDIA_TYPE_TOTAL:r,DECREMENT_MEDIA_TYPE_TOTAL:a,SAVE_MEDIAS:o,DESTROY_MEDIAS:l,REORDER_MEDIAS:u,PROGRESS_UPLOAD:c,PROGRESS_UPLOAD_MEDIA:d,DONE_UPLOAD_MEDIA:f,ERROR_UPLOAD_MEDIA:p,DESTROY_SPECIFIC_MEDIA:h,UPDATE_MEDIA_MAX:m,UPDATE_MEDIA_FILESIZE_MAX:b,UPDATE_MEDIA_WIDTH_MIN:y,UPDATE_MEDIA_HEIGHT_MIN:g,UPDATE_MEDIA_TYPE:v,RESET_MEDIA_TYPE:_,SET_MEDIA_CROP:w,SET_MEDIA_METADATAS:E,UPDATE_MEDIA_CONNECTOR:S,UPDATE_MEDIA_MODE:O,DESTROY_MEDIA_CONNECTOR:T,UPDATE_REPLACE_INDEX:P,UPDATE_MEDIAS:s,ADD_MEDIAS:C}},4108:function(e,t,n){var i="updateModalAction",r="updateModalMode";t["ZP"]={UPDATE_MODAL_ACTION:i,UPDATE_MODAL_MODE:r}},484:function(e,t,n){var i="setNotification",r="clearNotification";t["ZP"]={SET_NOTIF:i,CLEAR_NOTIF:r}},232:function(e,t,n){var i="updateParent";t["Z"]={UPDATE_PARENT:i}},3853:function(e,t,n){var i=n(7763),r=n(9628),a=n(4576),o=n(9193),s=[r.yS,r.wQ,r.Fz,r.nX,r.Vi,r.Z2,a.sR,o.B5,o.tB,o.oY,o.lU,o.Lo,o.A5,i.NM,i.Dh,i.uO,i.Ex],l=[a.sR];t["Z"]={REFRESH_BLOCK_PREVIEW:s,REFRESH_BLOCK_PREVIEW_ALL:l}},1663:function(e,t,n){var i="updatePublishStartDate",r="updatePublishEndDate",a="updatePublishState",o="updatePublishSubmit",s="updatePublishVisibility",l="updateReviewProcess",u="updateSaveType",c="updateHasUnsavedChanges";t["ZP"]={UPDATE_PUBLISH_START_DATE:i,UPDATE_PUBLISH_END_DATE:r,UPDATE_PUBLISH_STATE:a,UPDATE_PUBLISH_VISIBILITY:s,UPDATE_REVIEW_PROCESS:l,UPDATE_PUBLISH_SUBMIT:o,UPDATE_SAVE_TYPE:u,UPDATE_HAS_UNSAVED_CHANGES:c}},2541:function(e,t,n){var i="loadingRevision",r="updateRevision",a="updateRevisionContent",o="updatePreviewContent",s="updateAllRevision";t["ZP"]={LOADING_REV:i,UPDATE_REV:r,UPDATE_REV_CONTENT:a,UPDATE_REV_CURRENT_CONTENT:o,UPDATE_REV_ALL:s}},1003:function(e,t,n){n.d(t,{d:function(){return s}});var i=n(7763),r=n(9628),a=n(4576),o=n(9193),s=[r.o$,r.yS,r.wQ,r.Fz,r.nX,r.Vi,r.Z2,r.I4,a.sR,o.B5,o.tB,o.oY,o.lU,o.Lo,o.A5,i.NM,i.Dh,i.uO,i.Ex]},3827:function(e,t,n){function i(){var e,t,n,i,r,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"",value:null},l="";o&&"string"===typeof o&&(l="".concat("TWILL"," - [").concat(o,"]: "));var u,c=l+s.message,d=null!==(e=null!==(t=null===s||void 0===s||null===(n=s.value)||void 0===n||null===(i=n.response)||void 0===i?void 0:i.status)&&void 0!==t?t:null===s||void 0===s||null===(r=s.response)||void 0===r?void 0:r.status)&&void 0!==e?e:null;(console.error(c),null!==s&&void 0!==s&&s.value&&null!==(a=s.value)&&void 0!==a&&a.response)&&console.error(null===(u=s.value.response)||void 0===u?void 0:u.data);401===d||419===d?window["TWILL"].vm.notif({message:'Your session has expired, please <a href="'+document.location+'" target="_blank">login in another tab</a>. You can then continue working here.',variant:"warning"}):403===d&&window["TWILL"].vm.notif({message:"You don't have permission to perform this action.",variant:"warning"})}n.d(t,{I:function(){return i}})},1633:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(5616),r=n.n(i),a={publishDateDisplayFormat:window["TWILL"].STORE.config.publishDateDisplayFormat},o={},s={},l={},u={state:a,getters:o,mutations:s,actions:l},c=n(4293);function d(e,t){var i=c.k1[(0,c.BH)()];return r()(e,t,{locale:void 0!==i&&i.hasOwnProperty("date-fns")?i["date-fns"]:n(7479)})}var f={slugify:function(e){var t={",":"-","/":"-",":":"-",";":"-",_:"-","©":"(c)","·":"-","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","ā":"a","ă":"a","ą":"a","ć":"c","č":"c","ď":"d","ē":"e","ę":"e","ě":"e","ğ":"g","ģ":"g","ī":"i","ı":"i","ķ":"k","ļ":"l","ł":"l","ń":"n","ņ":"n","ň":"n","ő":"o","œ":"oe","ŕ":"r","ř":"r","ś":"s","ş":"s","š":"s","ť":"t","ū":"u","ů":"u","ű":"u","ź":"z","ż":"z","ž":"z","ǘ":"u","ǵ":"g","ǹ":"n","ș":"s","ț":"t","ΐ":"i","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","є":"ye","і":"i","ї":"yi","ґ":"g","ḧ":"h","ḿ":"m","ṕ":"p","ẃ":"w","ẍ":"x","ә":"a","ғ":"g","қ":"q","ң":"n","ө":"o","ұ":"u"},n=new RegExp(Object.keys(t).join("|"),"g");return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(n,(function(e){return t[e]})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||0===e?e.toString().toUpperCase():""},lowercase:function(e){return e||0===e?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},formatDate:function(e){return e?d(e,"MMM, DD, YYYY, "+(0,c.rA)()):""},formatDateWithFormat:function(e,t){return e||(e=new Date),d(e,t)},formatDatatableDate:function(e){var t=u.state.publishDateDisplayFormat.length>0?u.state.publishDateDisplayFormat:"MMM DD, YYYY";return e||(e=new Date),d(e,t)},formatCalendarDate:function(e){var t="MMM, DD, YYYY, "+(0,c.rA)();return e||(e=new Date),d(e,t)}},p=f},8963:function(e,t,n){function i(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i)}n.d(t,{Z:function(){return i}})},5573:function(e,t,n){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){var t=null,n=!1,r=/[^\[\]]+|\[\]/g,a=null,o=[];function s(e){return!(!e||"object"!==i(e)||!("nodeType"in e)||1!==e.nodeType)}function l(e){if(e&&"object"===i(e))return Object.keys(e).filter((function(e){return!isNaN(parseInt(e,10))})).splice(-1)[0]}function u(e){var t=l(e);return"string"===typeof t?parseInt(t,10):0}function c(e){var t=l(e);return"string"===typeof t?parseInt(t,10)+1:0}function d(e){if("object"!==i(e)||null===e)return 0;var t,n=0;if("function"===typeof Object.keys)n=Object.keys(e).length;else for(t in e)e.hasOwnProperty(t)&&n++;return n}function f(e,t){if([].forEach)return[].forEach.call(e,t);var n;for(n=0;n<e.length;n++)t.call(e,e[n],n)}function p(e){return!!e&&(t=e,!!h()&&(!!b()&&x()))}function h(){switch(i(t)){case"string":a=document.getElementById(t);break;case"object":s(t)&&(a=t);break}return a}function m(){return!(!a.enctype||"multipart/form-data"!==a.enctype)}function b(){return o=a.querySelectorAll("input, textarea, select"),o.length}function y(e){return"INPUT"===e.nodeName&&"radio"===e.type}function g(e){return"INPUT"===e.nodeName&&"checkbox"===e.type}function v(e){return"INPUT"===e.nodeName&&"file"===e.type}function _(e){return"TEXTAREA"===e.nodeName}function w(e){return"SELECT"===e.nodeName&&"select-one"===e.type}function E(e){return"SELECT"===e.nodeName&&"select-multiple"===e.type}function S(e){return"BUTTON"===e.nodeName&&"submit"===e.type}function O(e){return e.checked}function T(e){return window.FileList&&e.files instanceof window.FileList}function P(e){if(y(e))return!!O(e)&&e.value;if(g(e))return!!O(e)&&e.value;if(v(e))return!!m()&&(T(e)&&e.files.length>0?e.files:!(!e.value||""===e.value)&&e.value);if(_(e))return!(!e.value||""===e.value)&&e.value;if(w(e))return e.value&&""!==e.value?e.value:!(!e.options||!e.options.length||""===e.options[0].value)&&e.options[0].value;if(E(e)){if(e.options&&e.options.length>0){var t=[];return f(e.options,(function(e){e.selected&&t.push(e.value)})),(n||!!t.length)&&t}return!1}return S(e)?e.value&&""!==e.value?e.value:!(!e.innerText||""===e.innerText)&&e.innerText:"undefined"!==typeof e.value&&((n||""!==e.value)&&e.value)}function C(e,t,n,i){var r=t[0];if(y(e))return!1!==n?(i[r]=n,n):void 0;if(g(e))return!1!==n?(i[r]||(i[r]=[]),i[r].push(n)):void 0;if(E(e)){if(!1===n)return;i[r]=n}return i[r]=n,n}function A(e,t,n,i){var r=t[0];return t.length>1?"[]"===r?(i[c(i)]={},A(e,t.splice(1,t.length),n,i[u(i)])):(i[r]&&d(i[r])>0||(i[r]={}),A(e,t.splice(1,t.length),n,i[r])):1===t.length?"[]"===r?(i[c(i)]=n,i):(C(e,t,n,i),i):void 0}function x(){var e,t,i,a=0,s={};for(a=0;a<o.length;a++)t=o[a],!t.name||""===t.name||t.disabled||y(t)&&!O(t)||(i=P(t),(!1!==i||n)&&(e=t.name.match(r),1===e.length&&C(t,e,i||"",s),e.length>1&&A(t,e,i||"",s)));var l=d(s);return l>0&&s}return p(e)}n.d(t,{Z:function(){return r}})},9065:function(e,t,n){n.d(t,{BI:function(){return _},b6:function(){return T},oH:function(){return w},s4:function(){return O},zi:function(){return P}});var i=n(8367),r=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t=u(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=c(e,"string");return"symbol"===a(t)?t:String(t)}function c(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e){return m(e)||h(e)||p(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.assign.apply(Object,[{}].concat(d(Object.keys(e).map((function(n){if(t){if(g(n,t.id))return l({},v(n,t.id),e[n])}else if(!n.startsWith("blocks["))return l({},n,e[n]);return null})).filter((function(e){return e})))))},g=function(e,t){return e.startsWith("blocks["+t+"]")},v=function(e,t){var n=e.replace("blocks["+t+"][","");return n.match(/]/gi).length>1?n.replace("]",""):n.slice(0,-1)},_=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object.assign.apply(Object,[{}].concat(d(Object.keys(n.repeaters.repeaters).filter((function(e){return e.startsWith("blocks-"+t.id)})).map((function(i){return l({},i.replace("blocks-"+t.id+"|",""),n.repeaters.repeaters[i].map((function(t){return e(t,n,!0)})))}))))),a=Object.assign.apply(Object,[{}].concat(d(Object.keys(n.blocks.blocks).filter((function(e){return e.startsWith("blocks-"+t.id)})).map((function(i){return l({},i.replace("blocks-"+t.id+"|",""),n.blocks.blocks[i].map((function(t){return e(t,n)})))})))));return{id:t.id,type:t.type,is_repeater:i,editor_name:t.name,content:n.form.fields.filter((function(e){return g(e.name,t.id)})).map((function(e){return{name:v(e.name,t.id),value:e.value}})).reduce((function(e,t){return e[t.name]=t.value,e}),{}),medias:y(n.mediaLibrary.selected,t),browsers:y(n.browser.selected,t),blocks:s(s({},r),a)}},w=function(e){return r()(e.content)&&r()(e.browsers)&&r()(e.medias)&&r()(e.blocks)},E=function(e){return Object.assign.apply(Object,[{}].concat(d(Object.keys(e.repeaters.repeaters).filter((function(e){return!e.startsWith("blocks-")})).map((function(t){return l({},t,e.repeaters.repeaters[t].map((function(t){var n,i=_(t,e),r=i.content;return delete i.content,delete i.type,r.id=t.id,r.repeater_target_id=null!==(n=t.repeater_target_id)&&void 0!==n?n:null,Object.assign(i,r)})))})))))},S=function(e){var t=s({},e.blocks.blocks);return Object.keys(t).filter((function(e){return!e.startsWith("blocks-")})).map((function(n){return t[n].map((function(t){return t.name=n,_(t,e)}))})).flat()},O=function(e){var t=e.form.fields.filter((function(e){return!e.name.startsWith("blocks[")&&!e.name.startsWith("mediaMeta[")})).reduce((function(e,t){return e[t.name]=t.value,e}),{});return t},T=function(e){var t=e.form.modalFields.filter((function(e){return!e.name.startsWith("blocks[")&&!e.name.startsWith("mediaMeta[")})).reduce((function(e,t){return e[t.name]=t.value,e}),{});return t},P=function(e){var t=O(e),n=Object.assign(t,{cmsSaveType:e.form.type,published:e.publication.published,public:"public"===e.publication.visibility,publish_start_date:e.publication.startDate,publish_end_date:e.publication.endDate,languages:e.language.all,parent_id:e.parents.active,medias:y(e.mediaLibrary.selected),browsers:y(e.browser.selected),blocks:S(e),repeaters:E(e)});return n}},3523:function(e,t){t["Z"]={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"}},2847:function(e,t,n){n.d(t,{ve:function(){return i}});var i=function(e,t,n){return new Promise((function(i,r){var a=document.getElementById(e),o=function e(){a.removeEventListener("load",e),i()};a?a.addEventListener("load",o):(a=document.createElement("script"),a.setAttribute("id",e),a.type=n,a.onload=o,a.onerror=r,document.getElementsByTagName("head")[0].appendChild(a),a.src=t)}))}},4293:function(e,t,n){n.d(t,{BH:function(){return f},aq:function(){return p},k1:function(){return d},rA:function(){return h}});var i=n(2805),r=n(122),a=n(6679),o=n(9323),s=n(6924),l=n(8809),u=n(4539),c=n(799),d={en:{"date-fns":n(7479)},"zh-Hans":{"date-fns":n(3612),flatpickr:c.Mandarin},ru:{"date-fns":n(6754),flatpickr:l.Russian},fr:{"date-fns":n(3126),flatpickr:r.French},pl:{"date-fns":n(3618),flatpickr:o.Polish},de:{"date-fns":n(6119),flatpickr:i.German},nl:{"date-fns":n(390),flatpickr:a.Dutch},pt:{"date-fns":n(3086),flatpickr:s.Portuguese},tr:{"date-fns":n(1062),flatpickr:u.Turkish}};function f(){return window["TWILL"].twillLocalization.locale}function p(){return 2===new Intl.DateTimeFormat(f(),{hour:"numeric"}).formatToParts(new Date(2020,0,1,13)).find((function(e){return"hour"===e.type})).value.length}function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return p()||e?"HH:mm":"hh:mm A"}},3835:function(e,t,n){n.d(t,{NA:function(){return u},lO:function(){return l}});var i="undefined"!==typeof window,r=(i&&function(){var e=window.navigator.userAgent;(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&window.history)}(),i&&window.performance&&window.performance.now?window.performance:Date),a=o();function o(){return r.now().toFixed(3)}function s(e,t){var n=window.history;try{t?n.replaceState({key:a},"",e):(a=o(),n.pushState({key:a},"",e))}catch(i){window.location[t?"replace":"assign"](e)}}function l(e){s(e,!0)}function u(){return location.protocol+"//"+location.host+location.pathname}},5068:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=function(e){var t,i={el:document,offset:0,duration:250,easing:"linear"},r=Date.now(),a=0,o=!1,s={linear:function(e){return e},easeIn:function(e){return e*e*e},easeOut:function(e){return--e*e*e+1},easeInOut:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}},l=window.requestAnimationFrame;for(var u in e)"undefined"!==typeof e[u]&&(i[u]=e[u]);function c(e,t){return e<t?e:t}function d(){if(l)try{cancelAnimationFrame(t)}catch(e){}else clearTimeout(t)}function f(){if(o&&0===a)document.documentElement.scrollTop=1,document.body.scrollTop=1,a=1,i.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(f);else{var e=Date.now(),t=c(1,(e-r)/i.duration),l=s[i.easing](t);i.el.scrollTop=l*(i.offset-a)+a,t<1?p():(d(),"function"===n(i.onComplete).toLowerCase()&&i.onComplete.call(this))}}function p(){t=l?requestAnimationFrame(f):setTimeout((function(){f()}),1e3/60)}i.el===document&&(o=!0,i.el=document.documentElement.scrollTop?document.documentElement:document.body),a=i.el.scrollTop,a!==i.offset&&p()};t["Z"]=i}}]);